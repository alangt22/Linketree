(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function hS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Um={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function dS(){if(u0)return au;u0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return au.Fragment=e,au.jsx=t,au.jsxs=t,au}var c0;function mS(){return c0||(c0=1,Um.exports=dS()),Um.exports}var te=mS(),zm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function pS(){if(f0)return qe;f0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,G={};function k(O,ae,pe){this.props=O,this.context=ae,this.refs=G,this.updater=pe||I}k.prototype.isReactComponent={},k.prototype.setState=function(O,ae){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ae,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=k.prototype;function z(O,ae,pe){this.props=O,this.context=ae,this.refs=G,this.updater=pe||I}var Q=z.prototype=new H;Q.constructor=z,N(Q,k.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function D(O,ae,pe,fe,Ae,He){return pe=He.ref,{$$typeof:r,type:O,key:ae,ref:pe!==void 0?pe:null,props:He}}function S(O,ae){return D(O.type,ae,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var ae={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return ae[pe]})}var V=/\/+/g;function B(O,ae){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ae.toString(36)}function C(){}function Be(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ae){O.status==="pending"&&(O.status="fulfilled",O.value=ae)},function(ae){O.status==="pending"&&(O.status="rejected",O.reason=ae)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Fe(O,ae,pe,fe,Ae){var He=typeof O;(He==="undefined"||He==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(He){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case r:case e:Ie=!0;break;case _:return Ie=O._init,Fe(Ie(O._payload),ae,pe,fe,Ae)}}if(Ie)return Ae=Ae(O),Ie=fe===""?"."+B(O,0):fe,ne(Ae)?(pe="",Ie!=null&&(pe=Ie.replace(V,"$&/")+"/"),Fe(Ae,ae,pe,"",function(er){return er})):Ae!=null&&(R(Ae)&&(Ae=S(Ae,pe+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+Ie)),ae.push(Ae)),1;Ie=0;var Lt=fe===""?".":fe+":";if(ne(O))for(var _t=0;_t<O.length;_t++)fe=O[_t],He=Lt+B(fe,_t),Ie+=Fe(fe,ae,pe,He,Ae);else if(_t=b(O),typeof _t=="function")for(O=_t.call(O),_t=0;!(fe=O.next()).done;)fe=fe.value,He=Lt+B(fe,_t++),Ie+=Fe(fe,ae,pe,He,Ae);else if(He==="object"){if(typeof O.then=="function")return Fe(Be(O),ae,pe,fe,Ae);throw ae=String(O),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function W(O,ae,pe){if(O==null)return O;var fe=[],Ae=0;return Fe(O,fe,"","",function(He){return ae.call(pe,He,Ae++)}),fe}function he(O){if(O._status===-1){var ae=O._result;ae=ae(),ae.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=ae)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ue(){}return qe.Children={map:W,forEach:function(O,ae,pe){W(O,function(){ae.apply(this,arguments)},pe)},count:function(O){var ae=0;return W(O,function(){ae++}),ae},toArray:function(O){return W(O,function(ae){return ae})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},qe.Component=k,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=z,qe.StrictMode=a,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,qe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return se.H.useMemoCache(O)}},qe.cache=function(O){return function(){return O.apply(null,arguments)}},qe.cloneElement=function(O,ae,pe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=N({},O.props),Ae=O.key,He=void 0;if(ae!=null)for(Ie in ae.ref!==void 0&&(He=void 0),ae.key!==void 0&&(Ae=""+ae.key),ae)!j.call(ae,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ae.ref===void 0||(fe[Ie]=ae[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=pe;else if(1<Ie){for(var Lt=Array(Ie),_t=0;_t<Ie;_t++)Lt[_t]=arguments[_t+2];fe.children=Lt}return D(O.type,Ae,void 0,void 0,He,fe)},qe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},qe.createElement=function(O,ae,pe){var fe,Ae={},He=null;if(ae!=null)for(fe in ae.key!==void 0&&(He=""+ae.key),ae)j.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=ae[fe]);var Ie=arguments.length-2;if(Ie===1)Ae.children=pe;else if(1<Ie){for(var Lt=Array(Ie),_t=0;_t<Ie;_t++)Lt[_t]=arguments[_t+2];Ae.children=Lt}if(O&&O.defaultProps)for(fe in Ie=O.defaultProps,Ie)Ae[fe]===void 0&&(Ae[fe]=Ie[fe]);return D(O,He,void 0,void 0,null,Ae)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(O){return{$$typeof:d,render:O}},qe.isValidElement=R,qe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:he}},qe.memo=function(O,ae){return{$$typeof:g,type:O,compare:ae===void 0?null:ae}},qe.startTransition=function(O){var ae=se.T,pe={};se.T=pe;try{var fe=O(),Ae=se.S;Ae!==null&&Ae(pe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ue,ge)}catch(He){ge(He)}finally{se.T=ae}},qe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},qe.use=function(O){return se.H.use(O)},qe.useActionState=function(O,ae,pe){return se.H.useActionState(O,ae,pe)},qe.useCallback=function(O,ae){return se.H.useCallback(O,ae)},qe.useContext=function(O){return se.H.useContext(O)},qe.useDebugValue=function(){},qe.useDeferredValue=function(O,ae){return se.H.useDeferredValue(O,ae)},qe.useEffect=function(O,ae,pe){var fe=se.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(O,ae)},qe.useId=function(){return se.H.useId()},qe.useImperativeHandle=function(O,ae,pe){return se.H.useImperativeHandle(O,ae,pe)},qe.useInsertionEffect=function(O,ae){return se.H.useInsertionEffect(O,ae)},qe.useLayoutEffect=function(O,ae){return se.H.useLayoutEffect(O,ae)},qe.useMemo=function(O,ae){return se.H.useMemo(O,ae)},qe.useOptimistic=function(O,ae){return se.H.useOptimistic(O,ae)},qe.useReducer=function(O,ae,pe){return se.H.useReducer(O,ae,pe)},qe.useRef=function(O){return se.H.useRef(O)},qe.useState=function(O){return se.H.useState(O)},qe.useSyncExternalStore=function(O,ae,pe){return se.H.useSyncExternalStore(O,ae,pe)},qe.useTransition=function(){return se.H.useTransition()},qe.version="19.1.0",qe}var h0;function Bp(){return h0||(h0=1,zm.exports=pS()),zm.exports}var U=Bp();const ct=hS(U);var jm={exports:{}},su={},Bm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function gS(){return d0||(d0=1,function(r){function e(W,he){var ge=W.length;W.push(he);e:for(;0<ge;){var Ue=ge-1>>>1,O=W[Ue];if(0<o(O,he))W[Ue]=he,W[ge]=O,ge=Ue;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var he=W[0],ge=W.pop();if(ge!==he){W[0]=ge;e:for(var Ue=0,O=W.length,ae=O>>>1;Ue<ae;){var pe=2*(Ue+1)-1,fe=W[pe],Ae=pe+1,He=W[Ae];if(0>o(fe,ge))Ae<O&&0>o(He,fe)?(W[Ue]=He,W[Ae]=ge,Ue=Ae):(W[Ue]=fe,W[pe]=ge,Ue=pe);else if(Ae<O&&0>o(He,ge))W[Ue]=He,W[Ae]=ge,Ue=Ae;else break e}}return he}function o(W,he){var ge=W.sortIndex-he.sortIndex;return ge!==0?ge:W.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var m=[],g=[],_=1,T=null,b=3,I=!1,N=!1,G=!1,k=!1,H=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var he=t(g);he!==null;){if(he.callback===null)a(g);else if(he.startTime<=W)a(g),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(g)}}function se(W){if(G=!1,ne(W),!N)if(t(m)!==null)N=!0,j||(j=!0,B());else{var he=t(g);he!==null&&Fe(se,he.startTime-W)}}var j=!1,D=-1,S=5,R=-1;function M(){return k?!0:!(r.unstable_now()-R<S)}function V(){if(k=!1,j){var W=r.unstable_now();R=W;var he=!0;try{e:{N=!1,G&&(G=!1,z(D),D=-1),I=!0;var ge=b;try{t:{for(ne(W),T=t(m);T!==null&&!(T.expirationTime>W&&M());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,b=T.priorityLevel;var O=Ue(T.expirationTime<=W);if(W=r.unstable_now(),typeof O=="function"){T.callback=O,ne(W),he=!0;break t}T===t(m)&&a(m),ne(W)}else a(m);T=t(m)}if(T!==null)he=!0;else{var ae=t(g);ae!==null&&Fe(se,ae.startTime-W),he=!1}}break e}finally{T=null,b=ge,I=!1}he=void 0}}finally{he?B():j=!1}}}var B;if(typeof Q=="function")B=function(){Q(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Be=C.port2;C.port1.onmessage=V,B=function(){Be.postMessage(null)}}else B=function(){H(V,0)};function Fe(W,he){D=H(function(){W(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(W){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var ge=b;b=he;try{return W()}finally{b=ge}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=b;b=W;try{return he()}finally{b=ge}},r.unstable_scheduleCallback=function(W,he,ge){var Ue=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ue+ge:Ue):ge=Ue,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,W={id:_++,callback:he,priorityLevel:W,startTime:ge,expirationTime:O,sortIndex:-1},ge>Ue?(W.sortIndex=ge,e(g,W),t(m)===null&&W===t(g)&&(G?(z(D),D=-1):G=!0,Fe(se,ge-Ue))):(W.sortIndex=O,e(m,W),N||I||(N=!0,j||(j=!0,B()))),W},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(W){var he=b;return function(){var ge=b;b=he;try{return W.apply(this,arguments)}finally{b=ge}}}}(Hm)),Hm}var m0;function yS(){return m0||(m0=1,Bm.exports=gS()),Bm.exports}var qm={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function _S(){if(p0)return En;p0=1;var r=Bp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,_)},En.flushSync=function(m){var g=f.T,_=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=g,a.p=_,a.d.f()}},En.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},En.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},En.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:I}):_==="script"&&a.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},En.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);a.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},En.requestFormReset=function(m){a.d.r(m)},En.unstable_batchedUpdates=function(m,g){return m(g)},En.useFormState=function(m,g,_){return f.H.useFormState(m,g,_)},En.useFormStatus=function(){return f.H.useHostTransitionStatus()},En.version="19.1.0",En}var g0;function CT(){if(g0)return qm.exports;g0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qm.exports=_S(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function vS(){if(y0)return su;y0=1;var r=yS(),e=Bp(),t=CT();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return d(h),n;if(p===l)return d(h),i;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=p;else{for(var E=!1,w=h.child;w;){if(w===s){E=!0,s=h,l=p;break}if(w===l){E=!0,l=h,s=p;break}w=w.sibling}if(!E){for(w=p.child;w;){if(w===s){E=!0,s=p,l=h;break}if(w===l){E=!0,l=p,s=h;break}w=w.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Be(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case k:return"Profiler";case G:return"StrictMode";case se:return"Suspense";case j:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case z:return(n._context.displayName||"Context")+".Consumer";case ne:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:Be(n.type)||"Memo";case S:i=n._payload,n=n._init;try{return Be(n(i))}catch{}}return null}var Fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ue=[],O=-1;function ae(n){return{current:n}}function pe(n){0>O||(n.current=Ue[O],Ue[O]=null,O--)}function fe(n,i){O++,Ue[O]=n.current,n.current=i}var Ae=ae(null),He=ae(null),Ie=ae(null),Lt=ae(null);function _t(n,i){switch(fe(Ie,i),fe(He,n),fe(Ae,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Lv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Lv(i),n=Uv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}pe(Ae),fe(Ae,n)}function er(){pe(Ae),pe(He),pe(Ie)}function It(n){n.memoizedState!==null&&fe(Lt,n);var i=Ae.current,s=Uv(i,n.type);i!==s&&(fe(He,n),fe(Ae,s))}function gn(n){He.current===n&&(pe(Ae),pe(He)),Lt.current===n&&(pe(Lt),eu._currentValue=ge)}var Ur=Object.prototype.hasOwnProperty,gi=r.unstable_scheduleCallback,Sn=r.unstable_cancelCallback,Za=r.unstable_shouldYield,Ks=r.unstable_requestPaint,Rn=r.unstable_now,ol=r.unstable_getCurrentPriorityLevel,Ja=r.unstable_ImmediatePriority,Xi=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,wr=r.unstable_LowPriority,tr=r.unstable_IdlePriority,Wi=r.log,Zi=r.unstable_setDisableYieldValue,ft=null,Ge=null;function yn(n){if(typeof Wi=="function"&&Zi(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ft,n)}catch{}}var Ut=Math.clz32?Math.clz32:zr,Ys=Math.log,nr=Math.LN2;function zr(n){return n>>>=0,n===0?32:31-(Ys(n)/nr|0)|0}var jr=256,Br=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _i(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~p,l!==0?h=jn(l):(E&=w,E!==0?h=jn(E):s||(s=w&~n,s!==0&&(h=jn(s))))):(w=l&~p,w!==0?h=jn(w):E!==0?h=jn(E):s||(s=l&~n,s!==0&&(h=jn(s)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:h}function rr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ji(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var n=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),n}function es(){var n=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),n}function ir(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ar(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ea(n,i,s,l,h,p){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,x=n.expirationTimes,X=n.hiddenUpdates;for(s=E&~s;0<s;){var re=31-Ut(s),le=1<<re;w[re]=0,x[re]=-1;var Z=X[re];if(Z!==null)for(X[re]=null,re=0;re<Z.length;re++){var J=Z[re];J!==null&&(J.lane&=-536870913)}s&=~le}l!==0&&In(n,l,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~i))}function In(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ut(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function Hr(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-Ut(s),h=1<<l;h&i|n[l]&i&&(n[l]|=i),s&=~h}}function qr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ta(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function P(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:r0(n.type))}function F(n,i){var s=he.p;try{return he.p=n,i()}finally{he.p=s}}var Y=Math.random().toString(36).slice(2),oe="__reactFiber$"+Y,de="__reactProps$"+Y,_e="__reactContainer$"+Y,De="__reactEvents$"+Y,ve="__reactListeners$"+Y,be="__reactHandles$"+Y,Se="__reactResources$"+Y,Ne="__reactMarker$"+Y;function we(n){delete n[oe],delete n[de],delete n[De],delete n[ve],delete n[be]}function Oe(n){var i=n[oe];if(i)return i;for(var s=n.parentNode;s;){if(i=s[_e]||s[oe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Hv(n);n!==null;){if(s=n[oe])return s;n=Hv(n)}return i}n=s,s=n.parentNode}return null}function We(n){if(n=n[oe]||n[_e]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function dt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function lt(n){var i=n[Se];return i||(i=n[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ne]=!0}var Ye=new Set,ar={};function Gt(n,i){Cn(n,i),Cn(n+"Capture",i)}function Cn(n,i){for(ar[n]=i,n=0;n<i.length;n++)Ye.add(i[n])}var an=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Bn={};function na(n){return Ur.call(Bn,n)?!0:Ur.call(Fr,n)?!1:an.test(n)?Bn[n]=!0:(Fr[n]=!0,!1)}function _n(n,i,s){if(na(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Dn(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Le(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}var zt,Hn;function Pn(n){if(zt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);zt=i&&i[1]||"",Hn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+n+Hn}var Gr=!1;function wt(n,i){if(!n||Gr)return"";Gr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Z=J}Reflect.construct(n,[],le)}else{try{le.call()}catch(J){Z=J}n.call(le.prototype)}}else{try{throw Error()}catch(J){Z=J}(le=n())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],w=p[1];if(E&&w){var x=E.split(`
`),X=w.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===X.length)for(l=x.length-1,h=X.length-1;1<=l&&0<=h&&x[l]!==X[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==X[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==X[h]){var re=`
`+x[l].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=l&&0<=h);break}}}finally{Gr=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Pn(s):""}function sr(n){switch(n.tag){case 26:case 27:case 5:return Pn(n.type);case 16:return Pn("Lazy");case 13:return Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return wt(n.type,!1);case 11:return wt(n.type.render,!1);case 1:return wt(n.type,!0);case 31:return Pn("Activity");default:return""}}function Ei(n){try{var i="";do i+=sr(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ll(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hh(n){var i=ll(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Qs(n){n._valueTracker||(n._valueTracker=Hh(n))}function ul(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=ll(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function ts(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qh=/[\n"\\]/g;function jt(n){return n.replace(qh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qn(n,i,s,l,h,p,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?ra(n,E,sn(i)):s!=null?ra(n,E,sn(s)):l!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function ns(n,i,s,l,h,p,E,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+sn(s):"",i=i!=null?""+sn(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ra(n,i,s){i==="number"&&ts(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ti(n,i,s,l){if(n=n.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=i.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&l&&(n[s].defaultSelected=!0)}else{for(s=""+sn(s),i=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function vt(n,i,s){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+sn(s):""}function rs(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=sn(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function or(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||is.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function cl(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Ju(n,h,l)}else for(var p in i)i.hasOwnProperty(p)&&Ju(n,p,i[p])}function fl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(n){return Gh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var bi=null;function lr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wi=null,Ai=null;function hl(n){var i=We(n);if(i&&(n=i.stateNode)){var s=n[de]||null;e:switch(n=i.stateNode,i.type){case"input":if(qn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var h=l[de]||null;if(!h)throw Error(a(90));qn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&ul(l)}break e;case"textarea":vt(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ti(n,!!s.multiple,i,!1)}}}var $r=!1;function ec(n,i,s){if($r)return n(i,s);$r=!0;try{var l=n(i);return l}finally{if($r=!1,(wi!==null||Ai!==null)&&(Kc(),wi&&(i=wi,n=Ai,Ai=wi=null,hl(i),n)))for(i=0;i<n.length;i++)hl(n[i])}}function as(n,i){var s=n.stateNode;if(s===null)return null;var l=s[de]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(Sr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){ur=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{ur=!1}var Kr=null,ia=null,Si=null;function dl(){if(Si)return Si;var n,i=ia,s=i.length,l,h="value"in Kr?Kr.value:Kr.textContent,p=h.length;for(n=0;n<s&&i[n]===h[n];n++);var E=s-n;for(l=1;l<=E&&i[s-l]===h[p-l];l++);return Si=h.slice(n,1<l?1-l:void 0)}function Yr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Qr(){return!0}function ml(){return!1}function Zt(n){function i(s,l,h,p,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Qr:ml,this.isPropagationStopped=ml,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),i}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Zt(mt),os=_({},mt,{view:0,detail:0}),tc=Zt(os),Zs,Js,Xr,ls=_({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xr&&(Xr&&n.type==="mousemove"?(Zs=n.screenX-Xr.screenX,Js=n.screenY-Xr.screenY):Js=Zs=0,Xr=n),Zs)},movementY:function(n){return"movementY"in n?n.movementY:Js}}),cr=Zt(ls),nc=_({},ls,{dataTransfer:0}),$h=Zt(nc),us=_({},os,{relatedTarget:0}),eo=Zt(us),pl=_({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Zt(pl),rc=_({},mt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),no=Zt(rc),Kh=_({},mt,{data:0}),gl=Zt(Kh),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ac[n])?!!i[n]:!1}function fs(){return yl}var sc=_({},os,{key:function(n){if(n.key){var i=cs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Yr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ic[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(n){return n.type==="keypress"?Yr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ro=Zt(sc),oc=_({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Zt(oc),Ri=_({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),lc=Zt(Ri),uc=_({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Zt(uc),fc=_({},ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Zt(fc),xn=_({},mt,{newState:0,oldState:0}),hc=Zt(xn),dc=[9,13,27,32],Wr=Sr&&"CompositionEvent"in window,c=null;Sr&&"documentMode"in document&&(c=document.documentMode);var y=Sr&&"TextEvent"in window&&!c,v=Sr&&(!Wr||c&&8<c&&11>=c),A=" ",$=!1;function ee(n,i){switch(n){case"keyup":return dc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rt=!1;function $t(n,i){switch(n){case"compositionend":return me(i);case"keypress":return i.which!==32?null:($=!0,A);case"textInput":return n=i.data,n===A&&$?null:n;default:return null}}function it(n,i){if(rt)return n==="compositionend"||!Wr&&ee(n,i)?(n=dl(),Si=ia=Kr=null,rt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Jt[n.type]:i==="textarea"}function Ii(n,i,s,l){wi?Ai?Ai.push(l):Ai=[l]:wi=l,i=Jc(i,"onChange"),0<i.length&&(s=new Ws("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var on=null,Zr=null;function vl(n){Ov(n,0)}function mc(n){var i=dt(n);if(ul(i))return n}function Jg(n,i){if(n==="change")return i}var ey=!1;if(Sr){var Yh;if(Sr){var Qh="oninput"in document;if(!Qh){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Qh=typeof ty.oninput=="function"}Yh=Qh}else Yh=!1;ey=Yh&&(!document.documentMode||9<document.documentMode)}function ny(){on&&(on.detachEvent("onpropertychange",ry),Zr=on=null)}function ry(n){if(n.propertyName==="value"&&mc(Zr)){var i=[];Ii(i,Zr,n,lr(n)),ec(vl,i)}}function H1(n,i,s){n==="focusin"?(ny(),on=i,Zr=s,on.attachEvent("onpropertychange",ry)):n==="focusout"&&ny()}function q1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(Zr)}function F1(n,i){if(n==="click")return mc(i)}function G1(n,i){if(n==="input"||n==="change")return mc(i)}function $1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Fn=typeof Object.is=="function"?Object.is:$1;function El(n,i){if(Fn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ur.call(i,h)||!Fn(n[h],i[h]))return!1}return!0}function iy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ay(n,i){var s=iy(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=iy(s)}}function sy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?sy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function oy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ts(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=ts(n.document)}return i}function Xh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var K1=Sr&&"documentMode"in document&&11>=document.documentMode,ao=null,Wh=null,Tl=null,Zh=!1;function ly(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zh||ao==null||ao!==ts(l)||(l=ao,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=Jc(Wh,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=ao)))}function hs(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var so={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Jh={},uy={};Sr&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function ds(n){if(Jh[n])return Jh[n];if(!so[n])return n;var i=so[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in uy)return Jh[n]=i[s];return n}var cy=ds("animationend"),fy=ds("animationiteration"),hy=ds("animationstart"),Y1=ds("transitionrun"),Q1=ds("transitionstart"),X1=ds("transitioncancel"),dy=ds("transitionend"),my=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function Rr(n,i){my.set(n,i),Gt(i,[n])}var py=new WeakMap;function fr(n,i){if(typeof n=="object"&&n!==null){var s=py.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Ei(i)},py.set(n,i),i)}return{value:n,source:i,stack:Ei(i)}}var hr=[],oo=0,td=0;function pc(){for(var n=oo,i=td=oo=0;i<n;){var s=hr[i];hr[i++]=null;var l=hr[i];hr[i++]=null;var h=hr[i];hr[i++]=null;var p=hr[i];if(hr[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}p!==0&&gy(s,h,p)}}function gc(n,i,s,l){hr[oo++]=n,hr[oo++]=i,hr[oo++]=s,hr[oo++]=l,td|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nd(n,i,s,l){return gc(n,i,s,l),yc(n)}function lo(n,i){return gc(n,null,null,i),yc(n)}function gy(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var h=!1,p=n.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&i!==null&&(h=31-Ut(s),n=p.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=s|536870912),p):null}function yc(n){if(50<$l)throw $l=0,lm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var uo={};function W1(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,i,s,l){return new W1(n,i,s,l)}function rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ci(n,i){var s=n.alternate;return s===null?(s=Gn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function yy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function _c(n,i,s,l,h,p){var E=0;if(l=n,typeof n=="function")rd(n)&&(E=1);else if(typeof n=="string")E=JA(n,s,Ae.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Gn(31,s,i,h),n.elementType=R,n.lanes=p,n;case N:return ms(s.children,h,p,i);case G:E=8,h|=24;break;case k:return n=Gn(12,s,i,h|2),n.elementType=k,n.lanes=p,n;case se:return n=Gn(13,s,i,h),n.elementType=se,n.lanes=p,n;case j:return n=Gn(19,s,i,h),n.elementType=j,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case Q:E=10;break e;case z:E=9;break e;case ne:E=11;break e;case D:E=14;break e;case S:E=16,l=null;break e}E=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=Gn(E,s,i,h),i.elementType=n,i.type=l,i.lanes=p,i}function ms(n,i,s,l){return n=Gn(7,n,l,i),n.lanes=s,n}function id(n,i,s){return n=Gn(6,n,null,i),n.lanes=s,n}function ad(n,i,s){return i=Gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var co=[],fo=0,vc=null,Ec=0,dr=[],mr=0,ps=null,Di=1,xi="";function gs(n,i){co[fo++]=Ec,co[fo++]=vc,vc=n,Ec=i}function _y(n,i,s){dr[mr++]=Di,dr[mr++]=xi,dr[mr++]=ps,ps=n;var l=Di;n=xi;var h=32-Ut(l)-1;l&=~(1<<h),s+=1;var p=32-Ut(i)+h;if(30<p){var E=h-h%5;p=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Di=1<<32-Ut(i)+h|s<<h|l,xi=p+n}else Di=1<<p|s<<h|l,xi=n}function sd(n){n.return!==null&&(gs(n,1),_y(n,1,0))}function od(n){for(;n===vc;)vc=co[--fo],co[fo]=null,Ec=co[--fo],co[fo]=null;for(;n===ps;)ps=dr[--mr],dr[mr]=null,xi=dr[--mr],dr[mr]=null,Di=dr[--mr],dr[mr]=null}var Nn=null,Nt=null,ht=!1,ys=null,Jr=!1,ld=Error(a(519));function _s(n){var i=Error(a(418,""));throw Al(fr(i,n)),ld}function vy(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[oe]=n,i[de]=l,s){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Je(Yl[s],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),ns(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qs(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),rs(i,l.value,l.defaultValue,l.children),Qs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Vv(i.textContent,s)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=ef),i=!0):i=!1,i||_s(n)}function Ey(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Nn=Nn.return}}function bl(n){if(n!==Nn)return!1;if(!ht)return Ey(n),ht=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Am(n.type,n.memoizedProps)),s=!s),s&&Nt&&_s(n),Ey(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Nt=Cr(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Nt=null}}else i===27?(i=Nt,Ea(n.type)?(n=Cm,Cm=null,Nt=n):Nt=i):Nt=Nn?Cr(n.stateNode.nextSibling):null;return!0}function wl(){Nt=Nn=null,ht=!1}function Ty(){var n=ys;return n!==null&&(Ln===null?Ln=n:Ln.push.apply(Ln,n),ys=null),n}function Al(n){ys===null?ys=[n]:ys.push(n)}var ud=ae(null),vs=null,Ni=null;function aa(n,i,s){fe(ud,i._currentValue),i._currentValue=s}function Oi(n){n._currentValue=ud.current,pe(ud)}function cd(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function fd(n,i,s,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=h;for(var x=0;x<i.length;x++)if(w.context===i[x]){p.lanes|=s,w=p.alternate,w!==null&&(w.lanes|=s),cd(p.return,s,n),l||(E=null);break e}p=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,p=E.alternate,p!==null&&(p.lanes|=s),cd(E,s,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Sl(n,i,s,l){n=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=h.type;Fn(h.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(h===Lt.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}h=h.return}n!==null&&fd(i,n,s,l),i.flags|=262144}function Tc(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Es(n){vs=n,Ni=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vn(n){return by(vs,n)}function bc(n,i){return vs===null&&Es(n),by(n,i)}function by(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ni===null){if(n===null)throw Error(a(308));Ni=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ni=Ni.next=i;return s}var Z1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},J1=r.unstable_scheduleCallback,eA=r.unstable_NormalPriority,Yt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new Z1,data:new Map,refCount:0}}function Rl(n){n.refCount--,n.refCount===0&&J1(eA,function(){n.controller.abort()})}var Il=null,dd=0,ho=0,mo=null;function tA(n,i){if(Il===null){var s=Il=[];dd=0,ho=pm(),mo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return dd++,i.then(wy,wy),i}function wy(){if(--dd===0&&Il!==null){mo!==null&&(mo.status="fulfilled");var n=Il;Il=null,ho=0,mo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function nA(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Ay=W.S;W.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tA(n,i),Ay!==null&&Ay(n,i)};var Ts=ae(null);function md(){var n=Ts.current;return n!==null?n:St.pooledCache}function wc(n,i){i===null?fe(Ts,Ts.current):fe(Ts,i.pool)}function Sy(){var n=md();return n===null?null:{parent:Yt._currentValue,pool:n}}var Cl=Error(a(460)),Ry=Error(a(474)),Ac=Error(a(542)),pd={then:function(){}};function Iy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Sc(){}function Cy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Sc,Sc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xy(n),n;default:if(typeof i.status=="string")i.then(Sc,Sc);else{if(n=St,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xy(n),n}throw Dl=i,Cl}}var Dl=null;function Dy(){if(Dl===null)throw Error(a(459));var n=Dl;return Dl=null,n}function xy(n){if(n===Cl||n===Ac)throw Error(a(483))}var sa=!1;function gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function la(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=yc(n),gy(n,null,s),i}return gc(n,l,i,s),yc(n)}function xl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Hr(n,s)}}function _d(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,s=s.next}while(s!==null);p===null?h=p=i:p=p.next=i}else h=p=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var vd=!1;function Nl(){if(vd){var n=mo;if(n!==null)throw n}}function Ol(n,i,s,l){vd=!1;var h=n.updateQueue;sa=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var x=w,X=x.next;x.next=null,E===null?p=X:E.next=X,E=x;var re=n.alternate;re!==null&&(re=re.updateQueue,w=re.lastBaseUpdate,w!==E&&(w===null?re.firstBaseUpdate=X:w.next=X,re.lastBaseUpdate=x))}if(p!==null){var le=h.baseState;E=0,re=X=x=null,w=p;do{var Z=w.lane&-536870913,J=Z!==w.lane;if(J?(at&Z)===Z:(l&Z)===Z){Z!==0&&Z===ho&&(vd=!0),re!==null&&(re=re.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ve=n,xe=w;Z=i;var bt=s;switch(xe.tag){case 1:if(Ve=xe.payload,typeof Ve=="function"){le=Ve.call(bt,le,Z);break e}le=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=xe.payload,Z=typeof Ve=="function"?Ve.call(bt,le,Z):Ve,Z==null)break e;le=_({},le,Z);break e;case 2:sa=!0}}Z=w.callback,Z!==null&&(n.flags|=64,J&&(n.flags|=8192),J=h.callbacks,J===null?h.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},re===null?(X=re=J,x=le):re=re.next=J,E|=Z;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;J=w,w=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);re===null&&(x=le),h.baseState=x,h.firstBaseUpdate=X,h.lastBaseUpdate=re,p===null&&(h.shared.lanes=0),ga|=E,n.lanes=E,n.memoizedState=le}}function Ny(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Oy(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ny(s[n],i)}var po=ae(null),Rc=ae(0);function My(n,i){n=zi,fe(Rc,n),fe(po,i),zi=n|i.baseLanes}function Ed(){fe(Rc,zi),fe(po,po.current)}function Td(){zi=Rc.current,pe(po),pe(Rc)}var ua=0,$e=null,Et=null,Bt=null,Ic=!1,go=!1,bs=!1,Cc=0,Ml=0,yo=null,rA=0;function Mt(){throw Error(a(321))}function bd(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Fn(n[s],i[s]))return!1;return!0}function wd(n,i,s,l,h,p){return ua=p,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=n===null||n.memoizedState===null?g_:y_,bs=!1,p=s(l,h),bs=!1,go&&(p=ky(i,s,l,h)),Py(n),p}function Py(n){W.H=Pc;var i=Et!==null&&Et.next!==null;if(ua=0,Bt=Et=$e=null,Ic=!1,Ml=0,yo=null,i)throw Error(a(300));n===null||en||(n=n.dependencies,n!==null&&Tc(n)&&(en=!0))}function ky(n,i,s,l){$e=n;var h=0;do{if(go&&(yo=null),Ml=0,go=!1,25<=h)throw Error(a(301));if(h+=1,Bt=Et=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=cA,p=i(s,l)}while(go);return p}function iA(){var n=W.H,i=n.useState()[0];return i=typeof i.then=="function"?Pl(i):i,n=n.useState()[0],(Et!==null?Et.memoizedState:null)!==n&&($e.flags|=1024),i}function Ad(){var n=Cc!==0;return Cc=0,n}function Sd(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Rd(n){if(Ic){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ic=!1}ua=0,Bt=Et=$e=null,go=!1,Ml=Cc=0,yo=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?$e.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function Ht(){if(Et===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var i=Bt===null?$e.memoizedState:Bt.next;if(i!==null)Bt=i,Et=n;else{if(n===null)throw $e.alternate===null?Error(a(467)):Error(a(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Bt===null?$e.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function Id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(n){var i=Ml;return Ml+=1,yo===null&&(yo=[]),n=Cy(yo,n,i),i=$e,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?g_:y_),n}function Dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Pl(n);if(n.$$typeof===Q)return vn(n)}throw Error(a(438,String(n)))}function Cd(n){var i=null,s=$e.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=$e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Id(),$e.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=M;return i.index++,s}function Mi(n,i){return typeof i=="function"?i(n):i}function xc(n){var i=Ht();return Dd(i,Et,n)}function Dd(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=n.baseQueue,p=l.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}i.baseQueue=h=p,l.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{i=h.next;var w=E=null,x=null,X=i,re=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(at&le)===le:(ua&le)===le){var Z=X.revertLane;if(Z===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===ho&&(re=!0);else if((ua&Z)===Z){X=X.next,Z===ho&&(re=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},x===null?(w=x=le,E=p):x=x.next=le,$e.lanes|=Z,ga|=Z;le=X.action,bs&&s(p,le),p=X.hasEagerState?X.eagerState:s(p,le)}else Z={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},x===null?(w=x=Z,E=p):x=x.next=Z,$e.lanes|=le,ga|=le;X=X.next}while(X!==null&&X!==i);if(x===null?E=p:x.next=w,!Fn(p,n.memoizedState)&&(en=!0,re&&(s=mo,s!==null)))throw s;n.memoizedState=p,n.baseState=E,n.baseQueue=x,l.lastRenderedState=p}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function xd(n){var i=Ht(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,h=s.pending,p=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do p=n(p,E.action),E=E.next;while(E!==h);Fn(p,i.memoizedState)||(en=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function Vy(n,i,s){var l=$e,h=Ht(),p=ht;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Fn((Et||h).memoizedState,s);E&&(h.memoizedState=s,en=!0),h=h.queue;var w=zy.bind(null,l,h,n);if(kl(2048,8,w,[n]),h.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,_o(9,Nc(),Uy.bind(null,l,h,s,i),null),St===null)throw Error(a(349));p||(ua&124)!==0||Ly(l,i,s)}return s}function Ly(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=$e.updateQueue,i===null?(i=Id(),$e.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Uy(n,i,s,l){i.value=s,i.getSnapshot=l,jy(i)&&By(n)}function zy(n,i,s){return s(function(){jy(i)&&By(n)})}function jy(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Fn(n,s)}catch{return!0}}function By(n){var i=lo(n,2);i!==null&&Xn(i,n,2)}function Nd(n){var i=kn();if(typeof n=="function"){var s=n;if(n=s(),bs){yn(!0);try{s()}finally{yn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:n},i}function Hy(n,i,s,l){return n.baseState=s,Dd(n,Et,typeof l=="function"?l:Mi)}function aA(n,i,s,l,h){if(Mc(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,qy(i,p)):(p.next=s.next,i.pending=s.next=p)}}function qy(n,i){var s=i.action,l=i.payload,h=n.state;if(i.isTransition){var p=W.T,E={};W.T=E;try{var w=s(h,l),x=W.S;x!==null&&x(E,w),Fy(n,i,w)}catch(X){Od(n,i,X)}finally{W.T=p}}else try{p=s(h,l),Fy(n,i,p)}catch(X){Od(n,i,X)}}function Fy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Gy(n,i,l)},function(l){return Od(n,i,l)}):Gy(n,i,s)}function Gy(n,i,s){i.status="fulfilled",i.value=s,$y(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,qy(n,s)))}function Od(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,$y(i),i=i.next;while(i!==l)}n.action=null}function $y(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ky(n,i){return i}function Yy(n,i){if(ht){var s=St.formState;if(s!==null){e:{var l=$e;if(ht){if(Nt){t:{for(var h=Nt,p=Jr;h.nodeType!==8;){if(!p){h=null;break t}if(h=Cr(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Nt=Cr(h.nextSibling),l=h.data==="F!";break e}}_s(l)}l=!1}l&&(i=s[0])}}return s=kn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:i},s.queue=l,s=d_.bind(null,$e,l),l.dispatch=s,l=Nd(!1),p=Ld.bind(null,$e,!1,l.queue),l=kn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,s=aA.bind(null,$e,h,p,s),h.dispatch=s,l.memoizedState=n,[i,s,!1]}function Qy(n){var i=Ht();return Xy(i,Et,n)}function Xy(n,i,s){if(i=Dd(n,i,Ky)[0],n=xc(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Pl(i)}catch(E){throw E===Cl?Ac:E}else l=i;i=Ht();var h=i.queue,p=h.dispatch;return s!==i.memoizedState&&($e.flags|=2048,_o(9,Nc(),sA.bind(null,h,s),null)),[l,p,n]}function sA(n,i){n.action=i}function Wy(n){var i=Ht(),s=Et;if(s!==null)return Xy(i,s,n);Ht(),i=i.memoizedState,s=Ht();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function _o(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=$e.updateQueue,i===null&&(i=Id(),$e.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Nc(){return{destroy:void 0,resource:void 0}}function Zy(){return Ht().memoizedState}function Oc(n,i,s,l){var h=kn();l=l===void 0?null:l,$e.flags|=n,h.memoizedState=_o(1|i,Nc(),s,l)}function kl(n,i,s,l){var h=Ht();l=l===void 0?null:l;var p=h.memoizedState.inst;Et!==null&&l!==null&&bd(l,Et.memoizedState.deps)?h.memoizedState=_o(i,p,s,l):($e.flags|=n,h.memoizedState=_o(1|i,p,s,l))}function Jy(n,i){Oc(8390656,8,n,i)}function e_(n,i){kl(2048,8,n,i)}function t_(n,i){return kl(4,2,n,i)}function n_(n,i){return kl(4,4,n,i)}function r_(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function i_(n,i,s){s=s!=null?s.concat([n]):null,kl(4,4,r_.bind(null,i,n),s)}function Md(){}function a_(n,i){var s=Ht();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&bd(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function s_(n,i){var s=Ht();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&bd(i,l[1]))return l[0];if(l=n(),bs){yn(!0);try{n()}finally{yn(!1)}}return s.memoizedState=[l,i],l}function Pd(n,i,s){return s===void 0||(ua&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=uv(),$e.lanes|=n,ga|=n,s)}function o_(n,i,s,l){return Fn(s,i)?s:po.current!==null?(n=Pd(n,s,l),Fn(n,i)||(en=!0),n):(ua&42)===0?(en=!0,n.memoizedState=s):(n=uv(),$e.lanes|=n,ga|=n,i)}function l_(n,i,s,l,h){var p=he.p;he.p=p!==0&&8>p?p:8;var E=W.T,w={};W.T=w,Ld(n,!1,i,s);try{var x=h(),X=W.S;if(X!==null&&X(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var re=nA(x,l);Vl(n,i,re,Qn(n))}else Vl(n,i,l,Qn(n))}catch(le){Vl(n,i,{then:function(){},status:"rejected",reason:le},Qn())}finally{he.p=p,W.T=E}}function oA(){}function kd(n,i,s,l){if(n.tag!==5)throw Error(a(476));var h=u_(n).queue;l_(n,h,i,ge,s===null?oA:function(){return c_(n),s(l)})}function u_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function c_(n){var i=u_(n).next.queue;Vl(n,i,{},Qn())}function Vd(){return vn(eu)}function f_(){return Ht().memoizedState}function h_(){return Ht().memoizedState}function lA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Qn();n=oa(s);var l=la(i,n,s);l!==null&&(Xn(l,i,s),xl(l,i,s)),i={cache:hd()},n.payload=i;return}i=i.return}}function uA(n,i,s){var l=Qn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Mc(n)?m_(i,s):(s=nd(n,i,s,l),s!==null&&(Xn(s,n,l),p_(s,i,l)))}function d_(n,i,s){var l=Qn();Vl(n,i,s,l)}function Vl(n,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mc(n))m_(i,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,w=p(E,s);if(h.hasEagerState=!0,h.eagerState=w,Fn(w,E))return gc(n,i,h,0),St===null&&pc(),!1}catch{}finally{}if(s=nd(n,i,h,l),s!==null)return Xn(s,n,l),p_(s,i,l),!0}return!1}function Ld(n,i,s,l){if(l={lane:2,revertLane:pm(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(n)){if(i)throw Error(a(479))}else i=nd(n,s,l,2),i!==null&&Xn(i,n,2)}function Mc(n){var i=n.alternate;return n===$e||i!==null&&i===$e}function m_(n,i){go=Ic=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function p_(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Hr(n,s)}}var Pc={readContext:vn,use:Dc,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},g_={readContext:vn,use:Dc,useCallback:function(n,i){return kn().memoizedState=[n,i===void 0?null:i],n},useContext:vn,useEffect:Jy,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Oc(4194308,4,r_.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Oc(4194308,4,n,i)},useInsertionEffect:function(n,i){Oc(4,2,n,i)},useMemo:function(n,i){var s=kn();i=i===void 0?null:i;var l=n();if(bs){yn(!0);try{n()}finally{yn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=kn();if(s!==void 0){var h=s(i);if(bs){yn(!0);try{s(i)}finally{yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=uA.bind(null,$e,n),[l.memoizedState,n]},useRef:function(n){var i=kn();return n={current:n},i.memoizedState=n},useState:function(n){n=Nd(n);var i=n.queue,s=d_.bind(null,$e,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Md,useDeferredValue:function(n,i){var s=kn();return Pd(s,n,i)},useTransition:function(){var n=Nd(!1);return n=l_.bind(null,$e,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=$e,h=kn();if(ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),St===null)throw Error(a(349));(at&124)!==0||Ly(l,i,s)}h.memoizedState=s;var p={value:s,getSnapshot:i};return h.queue=p,Jy(zy.bind(null,l,p,n),[n]),l.flags|=2048,_o(9,Nc(),Uy.bind(null,l,p,s,i),null),s},useId:function(){var n=kn(),i=St.identifierPrefix;if(ht){var s=xi,l=Di;s=(l&~(1<<32-Ut(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Cc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=rA++,i="«"+i+"r"+s.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Vd,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var i=kn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ld.bind(null,$e,!0,s),s.dispatch=i,[n,i]},useMemoCache:Cd,useCacheRefresh:function(){return kn().memoizedState=lA.bind(null,$e)}},y_={readContext:vn,use:Dc,useCallback:a_,useContext:vn,useEffect:e_,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:s_,useReducer:xc,useRef:Zy,useState:function(){return xc(Mi)},useDebugValue:Md,useDeferredValue:function(n,i){var s=Ht();return o_(s,Et.memoizedState,n,i)},useTransition:function(){var n=xc(Mi)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:Pl(n),i]},useSyncExternalStore:Vy,useId:f_,useHostTransitionStatus:Vd,useFormState:Qy,useActionState:Qy,useOptimistic:function(n,i){var s=Ht();return Hy(s,Et,n,i)},useMemoCache:Cd,useCacheRefresh:h_},cA={readContext:vn,use:Dc,useCallback:a_,useContext:vn,useEffect:e_,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:s_,useReducer:xd,useRef:Zy,useState:function(){return xd(Mi)},useDebugValue:Md,useDeferredValue:function(n,i){var s=Ht();return Et===null?Pd(s,n,i):o_(s,Et.memoizedState,n,i)},useTransition:function(){var n=xd(Mi)[0],i=Ht().memoizedState;return[typeof n=="boolean"?n:Pl(n),i]},useSyncExternalStore:Vy,useId:f_,useHostTransitionStatus:Vd,useFormState:Wy,useActionState:Wy,useOptimistic:function(n,i){var s=Ht();return Et!==null?Hy(s,Et,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:h_},vo=null,Ll=0;function kc(n){var i=Ll;return Ll+=1,vo===null&&(vo=[]),Cy(vo,n,i)}function Ul(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Vc(n,i){throw i.$$typeof===T?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function __(n){var i=n._init;return i(n._payload)}function v_(n){function i(q,L){if(n){var K=q.deletions;K===null?(q.deletions=[L],q.flags|=16):K.push(L)}}function s(q,L){if(!n)return null;for(;L!==null;)i(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function h(q,L){return q=Ci(q,L),q.index=0,q.sibling=null,q}function p(q,L,K){return q.index=K,n?(K=q.alternate,K!==null?(K=K.index,K<L?(q.flags|=67108866,L):K):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function E(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function w(q,L,K,ie){return L===null||L.tag!==6?(L=id(K,q.mode,ie),L.return=q,L):(L=h(L,K),L.return=q,L)}function x(q,L,K,ie){var Te=K.type;return Te===N?re(q,L,K.props.children,ie,K.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&__(Te)===L.type)?(L=h(L,K.props),Ul(L,K),L.return=q,L):(L=_c(K.type,K.key,K.props,null,q.mode,ie),Ul(L,K),L.return=q,L)}function X(q,L,K,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=ad(K,q.mode,ie),L.return=q,L):(L=h(L,K.children||[]),L.return=q,L)}function re(q,L,K,ie,Te){return L===null||L.tag!==7?(L=ms(K,q.mode,ie,Te),L.return=q,L):(L=h(L,K),L.return=q,L)}function le(q,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=id(""+L,q.mode,K),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return K=_c(L.type,L.key,L.props,null,q.mode,K),Ul(K,L),K.return=q,K;case I:return L=ad(L,q.mode,K),L.return=q,L;case S:var ie=L._init;return L=ie(L._payload),le(q,L,K)}if(Fe(L)||B(L))return L=ms(L,q.mode,K,null),L.return=q,L;if(typeof L.then=="function")return le(q,kc(L),K);if(L.$$typeof===Q)return le(q,bc(q,L),K);Vc(q,L)}return null}function Z(q,L,K,ie){var Te=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:w(q,L,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===Te?x(q,L,K,ie):null;case I:return K.key===Te?X(q,L,K,ie):null;case S:return Te=K._init,K=Te(K._payload),Z(q,L,K,ie)}if(Fe(K)||B(K))return Te!==null?null:re(q,L,K,ie,null);if(typeof K.then=="function")return Z(q,L,kc(K),ie);if(K.$$typeof===Q)return Z(q,L,bc(q,K),ie);Vc(q,K)}return null}function J(q,L,K,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(K)||null,w(L,q,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return q=q.get(ie.key===null?K:ie.key)||null,x(L,q,ie,Te);case I:return q=q.get(ie.key===null?K:ie.key)||null,X(L,q,ie,Te);case S:var Qe=ie._init;return ie=Qe(ie._payload),J(q,L,K,ie,Te)}if(Fe(ie)||B(ie))return q=q.get(K)||null,re(L,q,ie,Te,null);if(typeof ie.then=="function")return J(q,L,K,kc(ie),Te);if(ie.$$typeof===Q)return J(q,L,K,bc(L,ie),Te);Vc(L,ie)}return null}function Ve(q,L,K,ie){for(var Te=null,Qe=null,Re=L,Me=L=0,nn=null;Re!==null&&Me<K.length;Me++){Re.index>Me?(nn=Re,Re=null):nn=Re.sibling;var ut=Z(q,Re,K[Me],ie);if(ut===null){Re===null&&(Re=nn);break}n&&Re&&ut.alternate===null&&i(q,Re),L=p(ut,L,Me),Qe===null?Te=ut:Qe.sibling=ut,Qe=ut,Re=nn}if(Me===K.length)return s(q,Re),ht&&gs(q,Me),Te;if(Re===null){for(;Me<K.length;Me++)Re=le(q,K[Me],ie),Re!==null&&(L=p(Re,L,Me),Qe===null?Te=Re:Qe.sibling=Re,Qe=Re);return ht&&gs(q,Me),Te}for(Re=l(Re);Me<K.length;Me++)nn=J(Re,q,Me,K[Me],ie),nn!==null&&(n&&nn.alternate!==null&&Re.delete(nn.key===null?Me:nn.key),L=p(nn,L,Me),Qe===null?Te=nn:Qe.sibling=nn,Qe=nn);return n&&Re.forEach(function(Sa){return i(q,Sa)}),ht&&gs(q,Me),Te}function xe(q,L,K,ie){if(K==null)throw Error(a(151));for(var Te=null,Qe=null,Re=L,Me=L=0,nn=null,ut=K.next();Re!==null&&!ut.done;Me++,ut=K.next()){Re.index>Me?(nn=Re,Re=null):nn=Re.sibling;var Sa=Z(q,Re,ut.value,ie);if(Sa===null){Re===null&&(Re=nn);break}n&&Re&&Sa.alternate===null&&i(q,Re),L=p(Sa,L,Me),Qe===null?Te=Sa:Qe.sibling=Sa,Qe=Sa,Re=nn}if(ut.done)return s(q,Re),ht&&gs(q,Me),Te;if(Re===null){for(;!ut.done;Me++,ut=K.next())ut=le(q,ut.value,ie),ut!==null&&(L=p(ut,L,Me),Qe===null?Te=ut:Qe.sibling=ut,Qe=ut);return ht&&gs(q,Me),Te}for(Re=l(Re);!ut.done;Me++,ut=K.next())ut=J(Re,q,Me,ut.value,ie),ut!==null&&(n&&ut.alternate!==null&&Re.delete(ut.key===null?Me:ut.key),L=p(ut,L,Me),Qe===null?Te=ut:Qe.sibling=ut,Qe=ut);return n&&Re.forEach(function(fS){return i(q,fS)}),ht&&gs(q,Me),Te}function bt(q,L,K,ie){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var Te=K.key;L!==null;){if(L.key===Te){if(Te=K.type,Te===N){if(L.tag===7){s(q,L.sibling),ie=h(L,K.props.children),ie.return=q,q=ie;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&__(Te)===L.type){s(q,L.sibling),ie=h(L,K.props),Ul(ie,K),ie.return=q,q=ie;break e}s(q,L);break}else i(q,L);L=L.sibling}K.type===N?(ie=ms(K.props.children,q.mode,ie,K.key),ie.return=q,q=ie):(ie=_c(K.type,K.key,K.props,null,q.mode,ie),Ul(ie,K),ie.return=q,q=ie)}return E(q);case I:e:{for(Te=K.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){s(q,L.sibling),ie=h(L,K.children||[]),ie.return=q,q=ie;break e}else{s(q,L);break}else i(q,L);L=L.sibling}ie=ad(K,q.mode,ie),ie.return=q,q=ie}return E(q);case S:return Te=K._init,K=Te(K._payload),bt(q,L,K,ie)}if(Fe(K))return Ve(q,L,K,ie);if(B(K)){if(Te=B(K),typeof Te!="function")throw Error(a(150));return K=Te.call(K),xe(q,L,K,ie)}if(typeof K.then=="function")return bt(q,L,kc(K),ie);if(K.$$typeof===Q)return bt(q,L,bc(q,K),ie);Vc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(s(q,L.sibling),ie=h(L,K),ie.return=q,q=ie):(s(q,L),ie=id(K,q.mode,ie),ie.return=q,q=ie),E(q)):s(q,L)}return function(q,L,K,ie){try{Ll=0;var Te=bt(q,L,K,ie);return vo=null,Te}catch(Re){if(Re===Cl||Re===Ac)throw Re;var Qe=Gn(29,Re,null,q.mode);return Qe.lanes=ie,Qe.return=q,Qe}finally{}}}var Eo=v_(!0),E_=v_(!1),pr=ae(null),ei=null;function ca(n){var i=n.alternate;fe(Qt,Qt.current&1),fe(pr,n),ei===null&&(i===null||po.current!==null||i.memoizedState!==null)&&(ei=n)}function T_(n){if(n.tag===22){if(fe(Qt,Qt.current),fe(pr,n),ei===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(ei=n)}}else fa()}function fa(){fe(Qt,Qt.current),fe(pr,pr.current)}function Pi(n){pe(pr),ei===n&&(ei=null),pe(Qt)}var Qt=ae(0);function Lc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Im(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ud(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var zd={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Qn(),h=oa(l);h.payload=i,s!=null&&(h.callback=s),i=la(n,h,l),i!==null&&(Xn(i,n,l),xl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Qn(),h=oa(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=la(n,h,l),i!==null&&(Xn(i,n,l),xl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Qn(),l=oa(s);l.tag=2,i!=null&&(l.callback=i),i=la(n,l,s),i!==null&&(Xn(i,n,s),xl(i,n,s))}};function b_(n,i,s,l,h,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):i.prototype&&i.prototype.isPureReactComponent?!El(s,l)||!El(h,p):!0}function w_(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&zd.enqueueReplaceState(i,i.state,null)}function ws(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=_({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var Uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function A_(n){Uc(n)}function S_(n){console.error(n)}function R_(n){Uc(n)}function zc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I_(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jd(n,i,s){return s=oa(s),s.tag=3,s.payload={element:null},s.callback=function(){zc(n,i)},s}function C_(n){return n=oa(n),n.tag=3,n}function D_(n,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;n.payload=function(){return h(p)},n.callback=function(){I_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){I_(i,s,l),typeof h!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function fA(n,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Sl(i,s,h,!0),s=pr.current,s!==null){switch(s.tag){case 13:return ei===null?cm():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===pd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),hm(n,l,h)),!1;case 22:return s.flags|=65536,l===pd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),hm(n,l,h)),!1}throw Error(a(435,s.tag))}return hm(n,l,h),cm(),!1}if(ht)return i=pr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ld&&(n=Error(a(422),{cause:l}),Al(fr(n,s)))):(l!==ld&&(i=Error(a(423),{cause:l}),Al(fr(i,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=fr(l,s),h=jd(n.stateNode,l,h),_d(n,h),Ot!==4&&(Ot=2)),!1;var p=Error(a(520),{cause:l});if(p=fr(p,s),Gl===null?Gl=[p]:Gl.push(p),Ot!==4&&(Ot=2),i===null)return!0;l=fr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=jd(s.stateNode,l,n),_d(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ya===null||!ya.has(p))))return s.flags|=65536,h&=-h,s.lanes|=h,h=C_(h),D_(h,n,s,l),_d(s,h),!1}s=s.return}while(s!==null);return!1}var x_=Error(a(461)),en=!1;function ln(n,i,s,l){i.child=n===null?E_(i,null,s,l):Eo(i,n.child,s,l)}function N_(n,i,s,l,h){s=s.render;var p=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Es(i),l=wd(n,i,s,E,p,h),w=Ad(),n!==null&&!en?(Sd(n,i,h),ki(n,i,h)):(ht&&w&&sd(i),i.flags|=1,ln(n,i,l,h),i.child)}function O_(n,i,s,l,h){if(n===null){var p=s.type;return typeof p=="function"&&!rd(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,M_(n,i,p,l,h)):(n=_c(s.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!Yd(n,h)){var E=p.memoizedProps;if(s=s.compare,s=s!==null?s:El,s(E,l)&&n.ref===i.ref)return ki(n,i,h)}return i.flags|=1,n=Ci(p,l),n.ref=i.ref,n.return=i,i.child=n}function M_(n,i,s,l,h){if(n!==null){var p=n.memoizedProps;if(El(p,l)&&n.ref===i.ref)if(en=!1,i.pendingProps=l=p,Yd(n,h))(n.flags&131072)!==0&&(en=!0);else return i.lanes=n.lanes,ki(n,i,h)}return Bd(n,i,s,l,h)}function P_(n,i,s){var l=i.pendingProps,h=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,n!==null){for(h=i.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return k_(n,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(i,p!==null?p.cachePool:null),p!==null?My(i,p):Ed(),T_(i);else return i.lanes=i.childLanes=536870912,k_(n,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(wc(i,p.cachePool),My(i,p),fa(),i.memoizedState=null):(n!==null&&wc(i,null),Ed(),fa());return ln(n,i,h,s),i.child}function k_(n,i,s,l){var h=md();return h=h===null?null:{parent:Yt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},n!==null&&wc(i,null),Ed(),T_(i),n!==null&&Sl(n,i,l,!0),null}function jc(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Bd(n,i,s,l,h){return Es(i),s=wd(n,i,s,l,void 0,h),l=Ad(),n!==null&&!en?(Sd(n,i,h),ki(n,i,h)):(ht&&l&&sd(i),i.flags|=1,ln(n,i,s,h),i.child)}function V_(n,i,s,l,h,p){return Es(i),i.updateQueue=null,s=ky(i,l,s,h),Py(n),l=Ad(),n!==null&&!en?(Sd(n,i,p),ki(n,i,p)):(ht&&l&&sd(i),i.flags|=1,ln(n,i,s,p),i.child)}function L_(n,i,s,l,h){if(Es(i),i.stateNode===null){var p=uo,E=s.contextType;typeof E=="object"&&E!==null&&(p=vn(E)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},gd(i),E=s.contextType,p.context=typeof E=="object"&&E!==null?vn(E):uo,p.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Ud(i,s,E,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&zd.enqueueReplaceState(p,p.state,null),Ol(i,l,p,h),Nl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){p=i.stateNode;var w=i.memoizedProps,x=ws(s,w);p.props=x;var X=p.context,re=s.contextType;E=uo,typeof re=="object"&&re!==null&&(E=vn(re));var le=s.getDerivedStateFromProps;re=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||X!==E)&&w_(i,p,l,E),sa=!1;var Z=i.memoizedState;p.state=Z,Ol(i,l,p,h),Nl(),X=i.memoizedState,w||Z!==X||sa?(typeof le=="function"&&(Ud(i,s,le,l),X=i.memoizedState),(x=sa||b_(i,s,x,l,Z,X,E))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=X),p.props=l,p.state=X,p.context=E,l=x):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,yd(n,i),E=i.memoizedProps,re=ws(s,E),p.props=re,le=i.pendingProps,Z=p.context,X=s.contextType,x=uo,typeof X=="object"&&X!==null&&(x=vn(X)),w=s.getDerivedStateFromProps,(X=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==le||Z!==x)&&w_(i,p,l,x),sa=!1,Z=i.memoizedState,p.state=Z,Ol(i,l,p,h),Nl();var J=i.memoizedState;E!==le||Z!==J||sa||n!==null&&n.dependencies!==null&&Tc(n.dependencies)?(typeof w=="function"&&(Ud(i,s,w,l),J=i.memoizedState),(re=sa||b_(i,s,re,l,Z,J,x)||n!==null&&n.dependencies!==null&&Tc(n.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,J,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,J,x)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),p.props=l,p.state=J,p.context=x,l=re):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),l=!1)}return p=l,jc(n,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&l?(i.child=Eo(i,n.child,null,h),i.child=Eo(i,null,s,h)):ln(n,i,s,h),i.memoizedState=p.state,n=i.child):n=ki(n,i,h),n}function U_(n,i,s,l){return wl(),i.flags|=256,ln(n,i,s,l),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(n){return{baseLanes:n,cachePool:Sy()}}function Fd(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=gr),n}function z_(n,i,s){var l=i.pendingProps,h=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Qt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ht){if(h?ca(i):fa(),ht){var w=Nt,x;if(x=w){e:{for(x=w,w=Jr;x.nodeType!==8;){if(!w){w=null;break e}if(x=Cr(x.nextSibling),x===null){w=null;break e}}w=x}w!==null?(i.memoizedState={dehydrated:w,treeContext:ps!==null?{id:Di,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},x=Gn(18,null,null,0),x.stateNode=w,x.return=i,i.child=x,Nn=i,Nt=null,x=!0):x=!1}x||_s(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Im(w)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return w=l.children,l=l.fallback,h?(fa(),h=i.mode,w=Bc({mode:"hidden",children:w},h),l=ms(l,h,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=qd(s),h.childLanes=Fd(n,E,s),i.memoizedState=Hd,l):(ca(i),Gd(i,w))}if(x=n.memoizedState,x!==null&&(w=x.dehydrated,w!==null)){if(p)i.flags&256?(ca(i),i.flags&=-257,i=$d(n,i,s)):i.memoizedState!==null?(fa(),i.child=n.child,i.flags|=128,i=null):(fa(),h=l.fallback,w=i.mode,l=Bc({mode:"visible",children:l.children},w),h=ms(h,w,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Eo(i,n.child,null,s),l=i.child,l.memoizedState=qd(s),l.childLanes=Fd(n,E,s),i.memoizedState=Hd,i=h);else if(ca(i),Im(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var X=E.dgst;E=X,l=Error(a(419)),l.stack="",l.digest=E,Al({value:l,source:null,stack:null}),i=$d(n,i,s)}else if(en||Sl(n,i,s,!1),E=(s&n.childLanes)!==0,en||E){if(E=St,E!==null&&(l=s&-s,l=(l&42)!==0?1:qr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,lo(n,l),Xn(E,n,l),x_;w.data==="$?"||cm(),i=$d(n,i,s)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=x.treeContext,Nt=Cr(w.nextSibling),Nn=i,ht=!0,ys=null,Jr=!1,n!==null&&(dr[mr++]=Di,dr[mr++]=xi,dr[mr++]=ps,Di=n.id,xi=n.overflow,ps=i),i=Gd(i,l.children),i.flags|=4096);return i}return h?(fa(),h=l.fallback,w=i.mode,x=n.child,X=x.sibling,l=Ci(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,X!==null?h=Ci(X,h):(h=ms(h,w,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=n.child.memoizedState,w===null?w=qd(s):(x=w.cachePool,x!==null?(X=Yt._currentValue,x=x.parent!==X?{parent:X,pool:X}:x):x=Sy(),w={baseLanes:w.baseLanes|s,cachePool:x}),h.memoizedState=w,h.childLanes=Fd(n,E,s),i.memoizedState=Hd,l):(ca(i),s=n.child,n=s.sibling,s=Ci(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function Gd(n,i){return i=Bc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Bc(n,i){return n=Gn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $d(n,i,s){return Eo(i,n.child,null,s),n=Gd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function j_(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),cd(n.return,i,s)}function Kd(n,i,s,l,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h)}function B_(n,i,s){var l=i.pendingProps,h=l.revealOrder,p=l.tail;if(ln(n,i,l.children,s),l=Qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&j_(n,s,i);else if(n.tag===19)j_(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(fe(Qt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)n=s.alternate,n!==null&&Lc(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Kd(i,!1,h,s,p);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Lc(n)===null){i.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Kd(i,!0,s,null,p);break;case"together":Kd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ki(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),ga|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Sl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=Ci(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Ci(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function Yd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Tc(n)))}function hA(n,i,s){switch(i.tag){case 3:_t(i,i.stateNode.containerInfo),aa(i,Yt,n.memoizedState.cache),wl();break;case 27:case 5:It(i);break;case 4:_t(i,i.stateNode.containerInfo);break;case 10:aa(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(i),i.flags|=128,null):(s&i.child.childLanes)!==0?z_(n,i,s):(ca(i),n=ki(n,i,s),n!==null?n.sibling:null);ca(i);break;case 19:var h=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Sl(n,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return B_(n,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(Qt,Qt.current),l)break;return null;case 22:case 23:return i.lanes=0,P_(n,i,s);case 24:aa(i,Yt,n.memoizedState.cache)}return ki(n,i,s)}function H_(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)en=!0;else{if(!Yd(n,s)&&(i.flags&128)===0)return en=!1,hA(n,i,s);en=(n.flags&131072)!==0}else en=!1,ht&&(i.flags&1048576)!==0&&_y(i,Ec,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")rd(l)?(n=ws(l,n),i.tag=1,i=L_(null,i,l,n,s)):(i.tag=0,i=Bd(null,i,l,n,s));else{if(l!=null){if(h=l.$$typeof,h===ne){i.tag=11,i=N_(null,i,l,n,s);break e}else if(h===D){i.tag=14,i=O_(null,i,l,n,s);break e}}throw i=Be(l)||l,Error(a(306,i,""))}}return i;case 0:return Bd(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ws(l,i.pendingProps),L_(n,i,l,h,s);case 3:e:{if(_t(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;h=p.element,yd(n,i),Ol(i,l,null,s);var E=i.memoizedState;if(l=E.cache,aa(i,Yt,l),l!==p.cache&&fd(i,[Yt],s,!0),Nl(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=U_(n,i,l,s);break e}else if(l!==h){h=fr(Error(a(424)),i),Al(h),i=U_(n,i,l,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Nt=Cr(n.firstChild),Nn=i,ht=!0,ys=null,Jr=!0,s=E_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wl(),l===h){i=ki(n,i,s);break e}ln(n,i,l,s)}i=i.child}return i;case 26:return jc(n,i),n===null?(s=$v(i.type,null,i.pendingProps,null))?i.memoizedState=s:ht||(s=i.type,n=i.pendingProps,l=tf(Ie.current).createElement(s),l[oe]=i,l[de]=n,cn(l,s,n),nt(l),i.stateNode=l):i.memoizedState=$v(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return It(i),n===null&&ht&&(l=i.stateNode=qv(i.type,i.pendingProps,Ie.current),Nn=i,Jr=!0,h=Nt,Ea(i.type)?(Cm=h,Nt=Cr(l.firstChild)):Nt=h),ln(n,i,i.pendingProps.children,s),jc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ht&&((h=l=Nt)&&(l=jA(l,i.type,i.pendingProps,Jr),l!==null?(i.stateNode=l,Nn=i,Nt=Cr(l.firstChild),Jr=!1,h=!0):h=!1),h||_s(i)),It(i),h=i.type,p=i.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,Am(h,p)?l=null:E!==null&&Am(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=wd(n,i,iA,null,null,s),eu._currentValue=h),jc(n,i),ln(n,i,l,s),i.child;case 6:return n===null&&ht&&((n=s=Nt)&&(s=BA(s,i.pendingProps,Jr),s!==null?(i.stateNode=s,Nn=i,Nt=null,n=!0):n=!1),n||_s(i)),null;case 13:return z_(n,i,s);case 4:return _t(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Eo(i,null,l,s):ln(n,i,l,s),i.child;case 11:return N_(n,i,i.type,i.pendingProps,s);case 7:return ln(n,i,i.pendingProps,s),i.child;case 8:return ln(n,i,i.pendingProps.children,s),i.child;case 12:return ln(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,aa(i,i.type,l.value),ln(n,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Es(i),h=vn(h),l=l(h),i.flags|=1,ln(n,i,l,s),i.child;case 14:return O_(n,i,i.type,i.pendingProps,s);case 15:return M_(n,i,i.type,i.pendingProps,s);case 19:return B_(n,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},n===null?(s=Bc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ci(n.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return P_(n,i,s);case 24:return Es(i),l=vn(Yt),n===null?(h=md(),h===null&&(h=St,p=hd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=s),h=p),i.memoizedState={parent:l,cache:h},gd(i),aa(i,Yt,h)):((n.lanes&s)!==0&&(yd(n,i),Ol(i,null,null,s),Nl()),h=n.memoizedState,p=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),aa(i,Yt,l)):(l=p.cache,aa(i,Yt,l),l!==h.cache&&fd(i,[Yt],s,!0))),ln(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Vi(n){n.flags|=4}function q_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Wv(i)){if(i=pr.current,i!==null&&((at&4194048)===at?ei!==null:(at&62914560)!==at&&(at&536870912)===0||i!==ei))throw Dl=pd,Ry;n.flags|=8192}}function Hc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?es():536870912,n.lanes|=i,Ao|=i)}function zl(n,i){if(!ht)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function dA(n,i,s){var l=i.pendingProps;switch(od(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Yt),er(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(bl(i)?Vi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ty())),Dt(i),null;case 26:return s=i.memoizedState,n===null?(Vi(i),s!==null?(Dt(i),q_(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Vi(i),Dt(i),q_(i,s)):(Dt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Vi(i),Dt(i),i.flags&=-16777217),null;case 27:gn(i),s=Ie.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}n=Ae.current,bl(i)?vy(i):(n=qv(h,l,s),i.stateNode=n,Vi(i))}return Dt(i),null;case 5:if(gn(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(n=Ae.current,bl(i))vy(i);else{switch(h=tf(Ie.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}n[oe]=i,n[de]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(cn(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Vi(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=Ie.current,bl(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,h=Nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[oe]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Vv(n.nodeValue,s)),n||_s(i)}else n=tf(n).createTextNode(l),n[oe]=i,i.stateNode=n}return Dt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=bl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[oe]=i}else wl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),h=!1}else h=Ty(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Hc(i,i.updateQueue),Dt(i),null;case 4:return er(),n===null&&vm(i.stateNode.containerInfo),Dt(i),null;case 10:return Oi(i.type),Dt(i),null;case 19:if(pe(Qt),h=i.memoizedState,h===null)return Dt(i),null;if(l=(i.flags&128)!==0,p=h.rendering,p===null)if(l)zl(h,!1);else{if(Ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Lc(n),p!==null){for(i.flags|=128,zl(h,!1),n=p.updateQueue,i.updateQueue=n,Hc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)yy(s,n),s=s.sibling;return fe(Qt,Qt.current&1|2),i.child}n=n.sibling}h.tail!==null&&Rn()>Gc&&(i.flags|=128,l=!0,zl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Lc(p),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Hc(i,n),zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!ht)return Dt(i),null}else 2*Rn()-h.renderingStartTime>Gc&&s!==536870912&&(i.flags|=128,l=!0,zl(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(n=h.last,n!==null?n.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Rn(),i.sibling=null,n=Qt.current,fe(Qt,l?n&1|2:n&1),i):(Dt(i),null);case 22:case 23:return Pi(i),Td(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Hc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&pe(Ts),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Oi(Yt),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function mA(n,i){switch(od(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Oi(Yt),er(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return gn(i),null;case 13:if(Pi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));wl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return pe(Qt),null;case 4:return er(),null;case 10:return Oi(i.type),null;case 22:case 23:return Pi(i),Td(),n!==null&&pe(Ts),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Oi(Yt),null;case 25:return null;default:return null}}function F_(n,i){switch(od(i),i.tag){case 3:Oi(Yt),er();break;case 26:case 27:case 5:gn(i);break;case 4:er();break;case 13:Pi(i);break;case 19:pe(Qt);break;case 10:Oi(i.type);break;case 22:case 23:Pi(i),Td(),n!==null&&pe(Ts);break;case 24:Oi(Yt)}}function jl(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&n)===n){l=void 0;var p=s.create,E=s.inst;l=p(),E.destroy=l}s=s.next}while(s!==h)}}catch(w){At(i,i.return,w)}}function ha(n,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var x=s,X=w;try{X()}catch(re){At(h,x,re)}}}l=l.next}while(l!==p)}}catch(re){At(i,i.return,re)}}function G_(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Oy(i,s)}catch(l){At(n,n.return,l)}}}function $_(n,i,s){s.props=ws(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){At(n,i,l)}}function Bl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(h){At(n,i,h)}}function ti(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){At(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){At(n,i,h)}else s.current=null}function K_(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){At(n,n.return,h)}}function Qd(n,i,s){try{var l=n.stateNode;kA(l,n.type,s,i),l[de]=i}catch(h){At(n,n.return,h)}}function Y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ea(n.type)||n.tag===4}function Xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ea(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ef));else if(l!==4&&(l===27&&Ea(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Wd(n,i,s),n=n.sibling;n!==null;)Wd(n,i,s),n=n.sibling}function qc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&Ea(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(qc(n,i,s),n=n.sibling;n!==null;)qc(n,i,s),n=n.sibling}function Q_(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);cn(i,l,s),i[oe]=n,i[de]=s}catch(p){At(n,n.return,p)}}var Li=!1,Pt=!1,Zd=!1,X_=typeof WeakSet=="function"?WeakSet:Set,tn=null;function pA(n,i){if(n=n.containerInfo,bm=lf,n=oy(n),Xh(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var E=0,w=-1,x=-1,X=0,re=0,le=n,Z=null;t:for(;;){for(var J;le!==s||h!==0&&le.nodeType!==3||(w=E+h),le!==p||l!==0&&le.nodeType!==3||(x=E+l),le.nodeType===3&&(E+=le.nodeValue.length),(J=le.firstChild)!==null;)Z=le,le=J;for(;;){if(le===n)break t;if(Z===s&&++X===h&&(w=E),Z===p&&++re===l&&(x=E),(J=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=J}s=w===-1||x===-1?null:{start:w,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(wm={focusedElem:n,selectionRange:s},lf=!1,tn=i;tn!==null;)if(i=tn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,tn=n;else for(;tn!==null;){switch(i=tn,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,h=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Ve=ws(s.type,h,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(Ve,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){At(s,s.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Rm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,tn=n;break}tn=i.return}}function W_(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:da(n,s),l&4&&jl(5,s);break;case 1:if(da(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){At(s,s.return,E)}else{var h=ws(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){At(s,s.return,E)}}l&64&&G_(s),l&512&&Bl(s,s.return);break;case 3:if(da(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Oy(n,i)}catch(E){At(s,s.return,E)}}break;case 27:i===null&&l&4&&Q_(s);case 26:case 5:da(n,s),i===null&&l&4&&K_(s),l&512&&Bl(s,s.return);break;case 12:da(n,s);break;case 13:da(n,s),l&4&&ev(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=AA.bind(null,s),HA(n,s))));break;case 22:if(l=s.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||Pt,h=Li;var p=Pt;Li=l,(Pt=i)&&!p?ma(n,s,(s.subtreeFlags&8772)!==0):da(n,s),Li=h,Pt=p}break;case 30:break;default:da(n,s)}}function Z_(n){var i=n.alternate;i!==null&&(n.alternate=null,Z_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&we(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ct=null,Vn=!1;function Ui(n,i,s){for(s=s.child;s!==null;)J_(n,i,s),s=s.sibling}function J_(n,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Pt||ti(s,i),Ui(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pt||ti(s,i);var l=Ct,h=Vn;Ea(s.type)&&(Ct=s.stateNode,Vn=!1),Ui(n,i,s),Xl(s.stateNode),Ct=l,Vn=h;break;case 5:Pt||ti(s,i);case 6:if(l=Ct,h=Vn,Ct=null,Ui(n,i,s),Ct=l,Vn=h,Ct!==null)if(Vn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(p){At(s,i,p)}else try{Ct.removeChild(s.stateNode)}catch(p){At(s,i,p)}break;case 18:Ct!==null&&(Vn?(n=Ct,Bv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),iu(n)):Bv(Ct,s.stateNode));break;case 4:l=Ct,h=Vn,Ct=s.stateNode.containerInfo,Vn=!0,Ui(n,i,s),Ct=l,Vn=h;break;case 0:case 11:case 14:case 15:Pt||ha(2,s,i),Pt||ha(4,s,i),Ui(n,i,s);break;case 1:Pt||(ti(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&$_(s,i,l)),Ui(n,i,s);break;case 21:Ui(n,i,s);break;case 22:Pt=(l=Pt)||s.memoizedState!==null,Ui(n,i,s),Pt=l;break;default:Ui(n,i,s)}}function ev(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{iu(n)}catch(s){At(i,i.return,s)}}function gA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new X_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new X_),i;default:throw Error(a(435,n.tag))}}function Jd(n,i){var s=gA(n);i.forEach(function(l){var h=SA.bind(null,n,l);s.has(l)||(s.add(l),l.then(h,h))})}function $n(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],p=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Ea(w.type)){Ct=w.stateNode,Vn=!1;break e}break;case 5:Ct=w.stateNode,Vn=!1;break e;case 3:case 4:Ct=w.stateNode.containerInfo,Vn=!0;break e}w=w.return}if(Ct===null)throw Error(a(160));J_(p,E,h),Ct=null,Vn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)tv(i,n),i=i.sibling}var Ir=null;function tv(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$n(i,n),Kn(n),l&4&&(ha(3,n,n.return),jl(3,n),ha(5,n,n.return));break;case 1:$n(i,n),Kn(n),l&512&&(Pt||s===null||ti(s,s.return)),l&64&&Li&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Ir;if($n(i,n),Kn(n),l&512&&(Pt||s===null||ti(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ne]||p[oe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),cn(p,l,s),p[oe]=n,nt(p),l=p;break e;case"link":var E=Qv("link","href",h).get(l+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(p=E[w],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break t}}p=h.createElement(l),cn(p,l,s),h.head.appendChild(p);break;case"meta":if(E=Qv("meta","content",h).get(l+(s.content||""))){for(w=0;w<E.length;w++)if(p=E[w],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break t}}p=h.createElement(l),cn(p,l,s),h.head.appendChild(p);break;default:throw Error(a(468,l))}p[oe]=n,nt(p),l=p}n.stateNode=l}else Xv(h,n.type,n.stateNode);else n.stateNode=Yv(h,l,n.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?Xv(h,n.type,n.stateNode):Yv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Qd(n,n.memoizedProps,s.memoizedProps)}break;case 27:$n(i,n),Kn(n),l&512&&(Pt||s===null||ti(s,s.return)),s!==null&&l&4&&Qd(n,n.memoizedProps,s.memoizedProps);break;case 5:if($n(i,n),Kn(n),l&512&&(Pt||s===null||ti(s,s.return)),n.flags&32){h=n.stateNode;try{or(h,"")}catch(J){At(n,n.return,J)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Qd(n,h,s!==null?s.memoizedProps:h)),l&1024&&(Zd=!0);break;case 6:if($n(i,n),Kn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(J){At(n,n.return,J)}}break;case 3:if(af=null,h=Ir,Ir=nf(i.containerInfo),$n(i,n),Ir=h,Kn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{iu(i.containerInfo)}catch(J){At(n,n.return,J)}Zd&&(Zd=!1,nv(n));break;case 4:l=Ir,Ir=nf(n.stateNode.containerInfo),$n(i,n),Kn(n),Ir=l;break;case 12:$n(i,n),Kn(n);break;case 13:$n(i,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(am=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Jd(n,l)));break;case 22:h=n.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,X=Li,re=Pt;if(Li=X||h,Pt=re||x,$n(i,n),Pt=re,Li=X,Kn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||x||Li||Pt||As(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){x=s=i;try{if(p=x.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=x.stateNode;var le=x.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){At(x,x.return,J)}}}else if(i.tag===6){if(s===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(J){At(x,x.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Jd(n,s))));break;case 19:$n(i,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Jd(n,l)));break;case 30:break;case 21:break;default:$n(i,n),Kn(n)}}function Kn(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(Y_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,p=Xd(n);qc(n,p,h);break;case 5:var E=s.stateNode;s.flags&32&&(or(E,""),s.flags&=-33);var w=Xd(n);qc(n,w,E);break;case 3:case 4:var x=s.stateNode.containerInfo,X=Xd(n);Wd(n,X,x);break;default:throw Error(a(161))}}catch(re){At(n,n.return,re)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function nv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function da(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)W_(n,i.alternate,i),i=i.sibling}function As(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ha(4,i,i.return),As(i);break;case 1:ti(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&$_(i,i.return,s),As(i);break;case 27:Xl(i.stateNode);case 26:case 5:ti(i,i.return),As(i);break;case 22:i.memoizedState===null&&As(i);break;case 30:As(i);break;default:As(i)}n=n.sibling}}function ma(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:ma(h,p,s),jl(4,p);break;case 1:if(ma(h,p,s),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){At(l,l.return,X)}if(l=p,h=l.updateQueue,h!==null){var w=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ny(x[h],w)}catch(X){At(l,l.return,X)}}s&&E&64&&G_(p),Bl(p,p.return);break;case 27:Q_(p);case 26:case 5:ma(h,p,s),s&&l===null&&E&4&&K_(p),Bl(p,p.return);break;case 12:ma(h,p,s);break;case 13:ma(h,p,s),s&&E&4&&ev(h,p);break;case 22:p.memoizedState===null&&ma(h,p,s),Bl(p,p.return);break;case 30:break;default:ma(h,p,s)}i=i.sibling}}function em(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Rl(s))}function tm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Rl(n))}function ni(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rv(n,i,s,l),i=i.sibling}function rv(n,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(n,i,s,l),h&2048&&jl(9,i);break;case 1:ni(n,i,s,l);break;case 3:ni(n,i,s,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Rl(n)));break;case 12:if(h&2048){ni(n,i,s,l),n=i.stateNode;try{var p=i.memoizedProps,E=p.id,w=p.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){At(i,i.return,x)}}else ni(n,i,s,l);break;case 13:ni(n,i,s,l);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?ni(n,i,s,l):Hl(n,i):p._visibility&2?ni(n,i,s,l):(p._visibility|=2,To(n,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&em(E,i);break;case 24:ni(n,i,s,l),h&2048&&tm(i.alternate,i);break;default:ni(n,i,s,l)}}function To(n,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,E=i,w=s,x=l,X=E.flags;switch(E.tag){case 0:case 11:case 15:To(p,E,w,x,h),jl(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?To(p,E,w,x,h):Hl(p,E):(re._visibility|=2,To(p,E,w,x,h)),h&&X&2048&&em(E.alternate,E);break;case 24:To(p,E,w,x,h),h&&X&2048&&tm(E.alternate,E);break;default:To(p,E,w,x,h)}i=i.sibling}}function Hl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,h=l.flags;switch(l.tag){case 22:Hl(s,l),h&2048&&em(l.alternate,l);break;case 24:Hl(s,l),h&2048&&tm(l.alternate,l);break;default:Hl(s,l)}i=i.sibling}}var ql=8192;function bo(n){if(n.subtreeFlags&ql)for(n=n.child;n!==null;)iv(n),n=n.sibling}function iv(n){switch(n.tag){case 26:bo(n),n.flags&ql&&n.memoizedState!==null&&tS(Ir,n.memoizedState,n.memoizedProps);break;case 5:bo(n);break;case 3:case 4:var i=Ir;Ir=nf(n.stateNode.containerInfo),bo(n),Ir=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=ql,ql=16777216,bo(n),ql=i):bo(n));break;default:bo(n)}}function av(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Fl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,ov(l,n)}av(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sv(n),n=n.sibling}function sv(n){switch(n.tag){case 0:case 11:case 15:Fl(n),n.flags&2048&&ha(9,n,n.return);break;case 3:Fl(n);break;case 12:Fl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Fc(n)):Fl(n);break;default:Fl(n)}}function Fc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,ov(l,n)}av(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ha(8,i,i.return),Fc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Fc(i));break;default:Fc(i)}n=n.sibling}}function ov(n,i){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:ha(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=n;tn!==null;){l=tn;var h=l.sibling,p=l.return;if(Z_(l),l===s){tn=null;break e}if(h!==null){h.return=p,tn=h;break e}tn=p}}}var yA={getCacheForType:function(n){var i=vn(Yt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},_A=typeof WeakMap=="function"?WeakMap:Map,gt=0,St=null,Ze=null,at=0,yt=0,Yn=null,pa=!1,wo=!1,nm=!1,zi=0,Ot=0,ga=0,Ss=0,rm=0,gr=0,Ao=0,Gl=null,Ln=null,im=!1,am=0,Gc=1/0,$c=null,ya=null,un=0,_a=null,So=null,Ro=0,sm=0,om=null,lv=null,$l=0,lm=null;function Qn(){if((gt&2)!==0&&at!==0)return at&-at;if(W.T!==null){var n=ho;return n!==0?n:pm()}return P()}function uv(){gr===0&&(gr=(at&536870912)===0||ht?vi():536870912);var n=pr.current;return n!==null&&(n.flags|=32),gr}function Xn(n,i,s){(n===St&&(yt===2||yt===9)||n.cancelPendingCommit!==null)&&(Io(n,0),va(n,at,gr,!1)),Ar(n,s),((gt&2)===0||n!==St)&&(n===St&&((gt&2)===0&&(Ss|=s),Ot===4&&va(n,at,gr,!1)),ri(n))}function cv(n,i,s){if((gt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&n.expiredLanes)===0||rr(n,i),h=l?TA(n,i):fm(n,i,!0),p=l;do{if(h===0){wo&&!l&&va(n,i,0,!1);break}else{if(s=n.current.alternate,p&&!vA(s)){h=fm(n,i,!1),p=!1;continue}if(h===2){if(p=i,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;h=Gl;var x=w.current.memoizedState.isDehydrated;if(x&&(Io(w,E).flags|=256),E=fm(w,E,!1),E!==2){if(nm&&!x){w.errorRecoveryDisabledLanes|=p,Ss|=p,h=4;break e}p=Ln,Ln=h,p!==null&&(Ln===null?Ln=p:Ln.push.apply(Ln,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){Io(n,0),va(n,i,0,!0);break}e:{switch(l=n,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:va(l,i,gr,!pa);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=am+300-Rn(),10<h)){if(va(l,i,gr,!pa),_i(l,0,!0)!==0)break e;l.timeoutHandle=zv(fv.bind(null,l,s,Ln,$c,im,i,gr,Ss,Ao,pa,p,2,-0,0),h);break e}fv(l,s,Ln,$c,im,i,gr,Ss,Ao,pa,p,0,-0,0)}}break}while(!0);ri(n)}function fv(n,i,s,l,h,p,E,w,x,X,re,le,Z,J){if(n.timeoutHandle=-1,le=i.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:eS},iv(i),le=nS(),le!==null)){n.cancelPendingCommit=le(_v.bind(null,n,i,p,s,l,h,E,w,x,re,1,Z,J)),va(n,p,E,!X);return}_v(n,i,p,s,l,h,E,w,x)}function vA(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],p=h.getSnapshot;h=h.value;try{if(!Fn(p(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function va(n,i,s,l){i&=~rm,i&=~Ss,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var p=31-Ut(h),E=1<<p;l[p]=-1,h&=~E}s!==0&&In(n,s,i)}function Kc(){return(gt&6)===0?(Kl(0),!1):!0}function um(){if(Ze!==null){if(yt===0)var n=Ze.return;else n=Ze,Ni=vs=null,Rd(n),vo=null,Ll=0,n=Ze;for(;n!==null;)F_(n.alternate,n),n=n.return;Ze=null}}function Io(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,LA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),um(),St=n,Ze=s=Ci(n.current,null),at=i,yt=0,Yn=null,pa=!1,wo=rr(n,i),nm=!1,Ao=gr=rm=Ss=ga=Ot=0,Ln=Gl=null,im=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Ut(l),p=1<<h;i|=n[h],l&=~p}return zi=i,pc(),s}function hv(n,i){$e=null,W.H=Pc,i===Cl||i===Ac?(i=Dy(),yt=3):i===Ry?(i=Dy(),yt=4):yt=i===x_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,Ze===null&&(Ot=1,zc(n,fr(i,n.current)))}function dv(){var n=W.H;return W.H=Pc,n===null?Pc:n}function mv(){var n=W.A;return W.A=yA,n}function cm(){Ot=4,pa||(at&4194048)!==at&&pr.current!==null||(wo=!0),(ga&134217727)===0&&(Ss&134217727)===0||St===null||va(St,at,gr,!1)}function fm(n,i,s){var l=gt;gt|=2;var h=dv(),p=mv();(St!==n||at!==i)&&($c=null,Io(n,i)),i=!1;var E=Ot;e:do try{if(yt!==0&&Ze!==null){var w=Ze,x=Yn;switch(yt){case 8:um(),E=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(i=!0);var X=yt;if(yt=0,Yn=null,Co(n,w,x,X),s&&wo){E=0;break e}break;default:X=yt,yt=0,Yn=null,Co(n,w,x,X)}}EA(),E=Ot;break}catch(re){hv(n,re)}while(!0);return i&&n.shellSuspendCounter++,Ni=vs=null,gt=l,W.H=h,W.A=p,Ze===null&&(St=null,at=0,pc()),E}function EA(){for(;Ze!==null;)pv(Ze)}function TA(n,i){var s=gt;gt|=2;var l=dv(),h=mv();St!==n||at!==i?($c=null,Gc=Rn()+500,Io(n,i)):wo=rr(n,i);e:do try{if(yt!==0&&Ze!==null){i=Ze;var p=Yn;t:switch(yt){case 1:yt=0,Yn=null,Co(n,i,p,1);break;case 2:case 9:if(Iy(p)){yt=0,Yn=null,gv(i);break}i=function(){yt!==2&&yt!==9||St!==n||(yt=7),ri(n)},p.then(i,i);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:Iy(p)?(yt=0,Yn=null,gv(i)):(yt=0,Yn=null,Co(n,i,p,7));break;case 5:var E=null;switch(Ze.tag){case 26:E=Ze.memoizedState;case 5:case 27:var w=Ze;if(!E||Wv(E)){yt=0,Yn=null;var x=w.sibling;if(x!==null)Ze=x;else{var X=w.return;X!==null?(Ze=X,Yc(X)):Ze=null}break t}}yt=0,Yn=null,Co(n,i,p,5);break;case 6:yt=0,Yn=null,Co(n,i,p,6);break;case 8:um(),Ot=6;break e;default:throw Error(a(462))}}bA();break}catch(re){hv(n,re)}while(!0);return Ni=vs=null,W.H=l,W.A=h,gt=s,Ze!==null?0:(St=null,at=0,pc(),Ot)}function bA(){for(;Ze!==null&&!Za();)pv(Ze)}function pv(n){var i=H_(n.alternate,n,zi);n.memoizedProps=n.pendingProps,i===null?Yc(n):Ze=i}function gv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=V_(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=V_(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:Rd(i);default:F_(s,i),i=Ze=yy(i,zi),i=H_(s,i,zi)}n.memoizedProps=n.pendingProps,i===null?Yc(n):Ze=i}function Co(n,i,s,l){Ni=vs=null,Rd(i),vo=null,Ll=0;var h=i.return;try{if(fA(n,h,i,s,at)){Ot=1,zc(n,fr(s,n.current)),Ze=null;return}}catch(p){if(h!==null)throw Ze=h,p;Ot=1,zc(n,fr(s,n.current)),Ze=null;return}i.flags&32768?(ht||l===1?n=!0:wo||(at&536870912)!==0?n=!1:(pa=n=!0,(l===2||l===9||l===3||l===6)&&(l=pr.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(i,n)):Yc(i)}function Yc(n){var i=n;do{if((i.flags&32768)!==0){yv(i,pa);return}n=i.return;var s=dA(i.alternate,i,zi);if(s!==null){Ze=s;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=n}while(i!==null);Ot===0&&(Ot=5)}function yv(n,i){do{var s=mA(n.alternate,n);if(s!==null){s.flags&=32767,Ze=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Ze=n;return}Ze=n=s}while(n!==null);Ot=6,Ze=null}function _v(n,i,s,l,h,p,E,w,x){n.cancelPendingCommit=null;do Qc();while(un!==0);if((gt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=td,ea(n,s,p,E,w,x),n===St&&(Ze=St=null,at=0),So=i,_a=n,Ro=s,sm=p,om=h,lv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,RA(yi,function(){return wv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=he.p,he.p=2,E=gt,gt|=4;try{pA(n,i,s)}finally{gt=E,he.p=h,W.T=l}}un=1,vv(),Ev(),Tv()}}function vv(){if(un===1){un=0;var n=_a,i=So,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var l=he.p;he.p=2;var h=gt;gt|=4;try{tv(i,n);var p=wm,E=oy(n.containerInfo),w=p.focusedElem,x=p.selectionRange;if(E!==w&&w&&w.ownerDocument&&sy(w.ownerDocument.documentElement,w)){if(x!==null&&Xh(w)){var X=x.start,re=x.end;if(re===void 0&&(re=X),"selectionStart"in w)w.selectionStart=X,w.selectionEnd=Math.min(re,w.value.length);else{var le=w.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ve=w.textContent.length,xe=Math.min(x.start,Ve),bt=x.end===void 0?xe:Math.min(x.end,Ve);!J.extend&&xe>bt&&(E=bt,bt=xe,xe=E);var q=ay(w,xe),L=ay(w,bt);if(q&&L&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var K=le.createRange();K.setStart(q.node,q.offset),J.removeAllRanges(),xe>bt?(J.addRange(K),J.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),J.addRange(K))}}}}for(le=[],J=w;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var ie=le[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}lf=!!bm,wm=bm=null}finally{gt=h,he.p=l,W.T=s}}n.current=i,un=2}}function Ev(){if(un===2){un=0;var n=_a,i=So,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var l=he.p;he.p=2;var h=gt;gt|=4;try{W_(n,i.alternate,i)}finally{gt=h,he.p=l,W.T=s}}un=3}}function Tv(){if(un===4||un===3){un=0,Ks();var n=_a,i=So,s=Ro,l=lv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,So=_a=null,bv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(ya=null),ta(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=he.p,he.p=2,W.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];p(w.value,{componentStack:w.stack})}}finally{W.T=i,he.p=h}}(Ro&3)!==0&&Qc(),ri(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===lm?$l++:($l=0,lm=n):$l=0,Kl(0)}}function bv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Rl(i)))}function Qc(n){return vv(),Ev(),Tv(),wv()}function wv(){if(un!==5)return!1;var n=_a,i=sm;sm=0;var s=ta(Ro),l=W.T,h=he.p;try{he.p=32>s?32:s,W.T=null,s=om,om=null;var p=_a,E=Ro;if(un=0,So=_a=null,Ro=0,(gt&6)!==0)throw Error(a(331));var w=gt;if(gt|=4,sv(p.current),rv(p,p.current,E,s),gt=w,Kl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ft,p)}catch{}return!0}finally{he.p=h,W.T=l,bv(n,i)}}function Av(n,i,s){i=fr(s,i),i=jd(n.stateNode,i,2),n=la(n,i,2),n!==null&&(Ar(n,2),ri(n))}function At(n,i,s){if(n.tag===3)Av(n,n,s);else for(;i!==null;){if(i.tag===3){Av(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){n=fr(s,n),s=C_(2),l=la(i,s,2),l!==null&&(D_(s,l,i,n),Ar(l,2),ri(l));break}}i=i.return}}function hm(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new _A;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(nm=!0,h.add(s),n=wA.bind(null,n,i,s),i.then(n,n))}function wA(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,St===n&&(at&s)===s&&(Ot===4||Ot===3&&(at&62914560)===at&&300>Rn()-am?(gt&2)===0&&Io(n,0):rm|=s,Ao===at&&(Ao=0)),ri(n)}function Sv(n,i){i===0&&(i=es()),n=lo(n,i),n!==null&&(Ar(n,i),ri(n))}function AA(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Sv(n,s)}function SA(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Sv(n,s)}function RA(n,i){return gi(n,i)}var Xc=null,Do=null,dm=!1,Wc=!1,mm=!1,Rs=0;function ri(n){n!==Do&&n.next===null&&(Do===null?Xc=Do=n:Do=Do.next=n),Wc=!0,dm||(dm=!0,CA())}function Kl(n,i){if(!mm&&Wc){mm=!0;do for(var s=!1,l=Xc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var E=l.suspendedLanes,w=l.pingedLanes;p=(1<<31-Ut(42|n)+1)-1,p&=h&~(E&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Dv(l,p))}else p=at,p=_i(l,l===St?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||rr(l,p)||(s=!0,Dv(l,p));l=l.next}while(s);mm=!1}}function IA(){Rv()}function Rv(){Wc=dm=!1;var n=0;Rs!==0&&(VA()&&(n=Rs),Rs=0);for(var i=Rn(),s=null,l=Xc;l!==null;){var h=l.next,p=Iv(l,i);p===0?(l.next=null,s===null?Xc=h:s.next=h,h===null&&(Do=s)):(s=l,(n!==0||(p&3)!==0)&&(Wc=!0)),l=h}Kl(n)}function Iv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Ut(p),w=1<<E,x=h[E];x===-1?((w&s)===0||(w&l)!==0)&&(h[E]=Ji(w,i)):x<=i&&(n.expiredLanes|=w),p&=~w}if(i=St,s=at,s=_i(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(yt===2||yt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Sn(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||rr(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&Sn(l),ta(s)){case 2:case 8:s=Xi;break;case 32:s=yi;break;case 268435456:s=tr;break;default:s=yi}return l=Cv.bind(null,n),s=gi(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&Sn(l),n.callbackPriority=2,n.callbackNode=null,2}function Cv(n,i){if(un!==0&&un!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Qc()&&n.callbackNode!==s)return null;var l=at;return l=_i(n,n===St?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(cv(n,l,i),Iv(n,Rn()),n.callbackNode!=null&&n.callbackNode===s?Cv.bind(null,n):null)}function Dv(n,i){if(Qc())return null;cv(n,i,!0)}function CA(){UA(function(){(gt&6)!==0?gi(Ja,IA):Rv()})}function pm(){return Rs===0&&(Rs=vi()),Rs}function xv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Xs(""+n)}function Nv(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function DA(n,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var p=xv((h[de]||null).action),E=l.submitter;E&&(i=(i=E[de]||null)?xv(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var w=new Ws("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var x=E?Nv(h,E):new FormData(h);kd(s,{pending:!0,data:x,method:h.method,action:p},null,x)}}else typeof p=="function"&&(w.preventDefault(),x=E?Nv(h,E):new FormData(h),kd(s,{pending:!0,data:x,method:h.method,action:p},p,x))},currentTarget:h}]})}}for(var gm=0;gm<ed.length;gm++){var ym=ed[gm],xA=ym.toLowerCase(),NA=ym[0].toUpperCase()+ym.slice(1);Rr(xA,"on"+NA)}Rr(cy,"onAnimationEnd"),Rr(fy,"onAnimationIteration"),Rr(hy,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Y1,"onTransitionRun"),Rr(Q1,"onTransitionStart"),Rr(X1,"onTransitionCancel"),Rr(dy,"onTransitionEnd"),Cn("onMouseEnter",["mouseout","mouseover"]),Cn("onMouseLeave",["mouseout","mouseover"]),Cn("onPointerEnter",["pointerout","pointerover"]),Cn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Ov(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],h=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],x=w.instance,X=w.currentTarget;if(w=w.listener,x!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=X;try{p(h)}catch(re){Uc(re)}h.currentTarget=null,p=x}else for(E=0;E<l.length;E++){if(w=l[E],x=w.instance,X=w.currentTarget,w=w.listener,x!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=X;try{p(h)}catch(re){Uc(re)}h.currentTarget=null,p=x}}}}function Je(n,i){var s=i[De];s===void 0&&(s=i[De]=new Set);var l=n+"__bubble";s.has(l)||(Mv(i,n,2,!1),s.add(l))}function _m(n,i,s){var l=0;i&&(l|=4),Mv(s,n,l,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function vm(n){if(!n[Zc]){n[Zc]=!0,Ye.forEach(function(s){s!=="selectionchange"&&(OA.has(s)||_m(s,!1,n),_m(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,_m("selectionchange",!1,i))}}function Mv(n,i,s,l){switch(r0(i)){case 2:var h=aS;break;case 8:h=sS;break;default:h=Mm}s=h.bind(null,i,s,n),h=void 0,!ur||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,s,{capture:!0,passive:h}):n.addEventListener(i,s,!0):h!==void 0?n.addEventListener(i,s,{passive:h}):n.addEventListener(i,s,!1)}function Em(n,i,s,l,h){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=Oe(w),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){l=p=E;continue e}w=w.parentNode}}l=l.return}ec(function(){var X=p,re=lr(s),le=[];e:{var Z=my.get(n);if(Z!==void 0){var J=Ws,Ve=n;switch(n){case"keypress":if(Yr(s)===0)break e;case"keydown":case"keyup":J=ro;break;case"focusin":Ve="focus",J=eo;break;case"focusout":Ve="blur",J=eo;break;case"beforeblur":case"afterblur":J=eo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=lc;break;case cy:case fy:case hy:J=to;break;case dy:J=cc;break;case"scroll":case"scrollend":J=tc;break;case"wheel":J=io;break;case"copy":case"cut":case"paste":J=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_l;break;case"toggle":case"beforetoggle":J=hc}var xe=(i&4)!==0,bt=!xe&&(n==="scroll"||n==="scrollend"),q=xe?Z!==null?Z+"Capture":null:Z;xe=[];for(var L=X,K;L!==null;){var ie=L;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||q===null||(ie=as(L,q),ie!=null&&xe.push(Ql(L,ie,K))),bt)break;L=L.return}0<xe.length&&(Z=new J(Z,Ve,null,s,re),le.push({event:Z,listeners:xe}))}}if((i&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Z&&s!==bi&&(Ve=s.relatedTarget||s.fromElement)&&(Oe(Ve)||Ve[_e]))break e;if((J||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ve=s.relatedTarget||s.toElement,J=X,Ve=Ve?Oe(Ve):null,Ve!==null&&(bt=u(Ve),xe=Ve.tag,Ve!==bt||xe!==5&&xe!==27&&xe!==6)&&(Ve=null)):(J=null,Ve=X),J!==Ve)){if(xe=cr,ie="onMouseLeave",q="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(xe=_l,ie="onPointerLeave",q="onPointerEnter",L="pointer"),bt=J==null?Z:dt(J),K=Ve==null?Z:dt(Ve),Z=new xe(ie,L+"leave",J,s,re),Z.target=bt,Z.relatedTarget=K,ie=null,Oe(re)===X&&(xe=new xe(q,L+"enter",Ve,s,re),xe.target=K,xe.relatedTarget=bt,ie=xe),bt=ie,J&&Ve)t:{for(xe=J,q=Ve,L=0,K=xe;K;K=xo(K))L++;for(K=0,ie=q;ie;ie=xo(ie))K++;for(;0<L-K;)xe=xo(xe),L--;for(;0<K-L;)q=xo(q),K--;for(;L--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=xo(xe),q=xo(q)}xe=null}else xe=null;J!==null&&Pv(le,Z,J,xe,!1),Ve!==null&&bt!==null&&Pv(le,bt,Ve,xe,!0)}}e:{if(Z=X?dt(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Te=Jg;else if(Kt(Z))if(ey)Te=G1;else{Te=q1;var Qe=H1}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&fl(X.elementType)&&(Te=Jg):Te=F1;if(Te&&(Te=Te(n,X))){Ii(le,Te,s,re);break e}Qe&&Qe(n,Z,X),n==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&ra(Z,"number",Z.value)}switch(Qe=X?dt(X):window,n){case"focusin":(Kt(Qe)||Qe.contentEditable==="true")&&(ao=Qe,Wh=X,Tl=null);break;case"focusout":Tl=Wh=ao=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,ly(le,s,re);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":ly(le,s,re)}var Re;if(Wr)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else rt?ee(n,s)&&(Me="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(v&&s.locale!=="ko"&&(rt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&rt&&(Re=dl()):(Kr=re,ia="value"in Kr?Kr.value:Kr.textContent,rt=!0)),Qe=Jc(X,Me),0<Qe.length&&(Me=new gl(Me,n,null,s,re),le.push({event:Me,listeners:Qe}),Re?Me.data=Re:(Re=me(s),Re!==null&&(Me.data=Re)))),(Re=y?$t(n,s):it(n,s))&&(Me=Jc(X,"onBeforeInput"),0<Me.length&&(Qe=new gl("onBeforeInput","beforeinput",null,s,re),le.push({event:Qe,listeners:Me}),Qe.data=Re)),DA(le,n,X,s,re)}Ov(le,i)})}function Ql(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Jc(n,i){for(var s=i+"Capture",l=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=as(n,s),h!=null&&l.unshift(Ql(n,h,p)),h=as(n,i),h!=null&&l.push(Ql(n,h,p))),n.tag===3)return l;n=n.return}return[]}function xo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Pv(n,i,s,l,h){for(var p=i._reactName,E=[];s!==null&&s!==l;){var w=s,x=w.alternate,X=w.stateNode;if(w=w.tag,x!==null&&x===l)break;w!==5&&w!==26&&w!==27||X===null||(x=X,h?(X=as(s,p),X!=null&&E.unshift(Ql(s,X,x))):h||(X=as(s,p),X!=null&&E.push(Ql(s,X,x)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var MA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function kv(n){return(typeof n=="string"?n:""+n).replace(MA,`
`).replace(PA,"")}function Vv(n,i){return i=kv(i),kv(n)===i}function ef(){}function Tt(n,i,s,l,h,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||or(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&or(n,""+l);break;case"className":Dn(n,"class",l);break;case"tabIndex":Dn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(n,s,l);break;case"style":cl(n,l,p);break;case"data":if(i!=="object"){Dn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Xs(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&Tt(n,i,"name",h.name,h,null),Tt(n,i,"formEncType",h.formEncType,h,null),Tt(n,i,"formMethod",h.formMethod,h,null),Tt(n,i,"formTarget",h.formTarget,h,null)):(Tt(n,i,"encType",h.encType,h,null),Tt(n,i,"method",h.method,h,null),Tt(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Xs(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=ef);break;case"onScroll":l!=null&&Je("scroll",n);break;case"onScrollEnd":l!=null&&Je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=Xs(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Je("beforetoggle",n),Je("toggle",n),_n(n,"popover",l);break;case"xlinkActuate":Le(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_n(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Fh.get(s)||s,_n(n,s,l))}}function Tm(n,i,s,l,h,p){switch(s){case"style":cl(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?or(n,l):(typeof l=="number"||typeof l=="bigint")&&or(n,""+l);break;case"onScroll":l!=null&&Je("scroll",n);break;case"onScrollEnd":l!=null&&Je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),p=n[de]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,h);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):_n(n,s,l)}}}function cn(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",n),Je("load",n);var l=!1,h=!1,p;for(p in s)if(s.hasOwnProperty(p)){var E=s[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Tt(n,i,p,E,s,null)}}h&&Tt(n,i,"srcSet",s.srcSet,s,null),l&&Tt(n,i,"src",s.src,s,null);return;case"input":Je("invalid",n);var w=p=E=h=null,x=null,X=null;for(l in s)if(s.hasOwnProperty(l)){var re=s[l];if(re!=null)switch(l){case"name":h=re;break;case"type":E=re;break;case"checked":x=re;break;case"defaultChecked":X=re;break;case"value":p=re;break;case"defaultValue":w=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:Tt(n,i,l,re,s,null)}}ns(n,p,w,x,X,E,h,!1),Qs(n);return;case"select":Je("invalid",n),l=E=p=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":p=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Tt(n,i,h,w,s,null)}i=p,s=E,n.multiple=!!l,i!=null?Ti(n,!!l,i,!1):s!=null&&Ti(n,!!l,s,!0);return;case"textarea":Je("invalid",n),p=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Tt(n,i,E,w,s,null)}rs(n,l,h,p),Qs(n);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tt(n,i,x,l,s,null)}return;case"dialog":Je("beforetoggle",n),Je("toggle",n),Je("cancel",n),Je("close",n);break;case"iframe":case"object":Je("load",n);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Je(Yl[l],n);break;case"image":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"embed":case"source":case"link":Je("error",n),Je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(l=s[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Tt(n,i,X,l,s,null)}return;default:if(fl(i)){for(re in s)s.hasOwnProperty(re)&&(l=s[re],l!==void 0&&Tm(n,i,re,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Tt(n,i,w,l,s,null))}function kA(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,w=null,x=null,X=null,re=null;for(J in s){var le=s[J];if(s.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":x=le;default:l.hasOwnProperty(J)||Tt(n,i,J,null,l,le)}}for(var Z in l){var J=l[Z];if(le=s[Z],l.hasOwnProperty(Z)&&(J!=null||le!=null))switch(Z){case"type":p=J;break;case"name":h=J;break;case"checked":X=J;break;case"defaultChecked":re=J;break;case"value":E=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==le&&Tt(n,i,Z,J,l,le)}}qn(n,E,w,x,X,re,p,h);return;case"select":J=E=w=Z=null;for(p in s)if(x=s[p],s.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":J=x;default:l.hasOwnProperty(p)||Tt(n,i,p,null,l,x)}for(h in l)if(p=l[h],x=s[h],l.hasOwnProperty(h)&&(p!=null||x!=null))switch(h){case"value":Z=p;break;case"defaultValue":w=p;break;case"multiple":E=p;default:p!==x&&Tt(n,i,h,p,l,x)}i=w,s=E,l=J,Z!=null?Ti(n,!!s,Z,!1):!!l!=!!s&&(i!=null?Ti(n,!!s,i,!0):Ti(n,!!s,s?[]:"",!1));return;case"textarea":J=Z=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Tt(n,i,w,null,l,h)}for(E in l)if(h=l[E],p=s[E],l.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":Z=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&Tt(n,i,E,h,l,p)}vt(n,Z,J);return;case"option":for(var Ve in s)if(Z=s[Ve],s.hasOwnProperty(Ve)&&Z!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":n.selected=!1;break;default:Tt(n,i,Ve,null,l,Z)}for(x in l)if(Z=l[x],J=s[x],l.hasOwnProperty(x)&&Z!==J&&(Z!=null||J!=null))switch(x){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Tt(n,i,x,Z,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)Z=s[xe],s.hasOwnProperty(xe)&&Z!=null&&!l.hasOwnProperty(xe)&&Tt(n,i,xe,null,l,Z);for(X in l)if(Z=l[X],J=s[X],l.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Tt(n,i,X,Z,l,J)}return;default:if(fl(i)){for(var bt in s)Z=s[bt],s.hasOwnProperty(bt)&&Z!==void 0&&!l.hasOwnProperty(bt)&&Tm(n,i,bt,void 0,l,Z);for(re in l)Z=l[re],J=s[re],!l.hasOwnProperty(re)||Z===J||Z===void 0&&J===void 0||Tm(n,i,re,Z,l,J);return}}for(var q in s)Z=s[q],s.hasOwnProperty(q)&&Z!=null&&!l.hasOwnProperty(q)&&Tt(n,i,q,null,l,Z);for(le in l)Z=l[le],J=s[le],!l.hasOwnProperty(le)||Z===J||Z==null&&J==null||Tt(n,i,le,Z,l,J)}var bm=null,wm=null;function tf(n){return n.nodeType===9?n:n.ownerDocument}function Lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Am(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sm=null;function VA(){var n=window.event;return n&&n.type==="popstate"?n===Sm?!1:(Sm=n,!0):(Sm=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(n){return jv.resolve(null).then(n).catch(zA)}:zv;function zA(n){setTimeout(function(){throw n})}function Ea(n){return n==="head"}function Bv(n,i){var s=i,l=0,h=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var E=n.ownerDocument;if(s&1&&Xl(E.documentElement),s&2&&Xl(E.body),s&4)for(s=E.head,Xl(s),E=s.firstChild;E;){var w=E.nextSibling,x=E.nodeName;E[Ne]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(h===0){n.removeChild(p),iu(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);iu(i)}function Rm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rm(s),we(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function jA(n,i,s,l){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ne])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Cr(n.nextSibling),n===null)break}return null}function BA(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Cr(n.nextSibling),n===null))return null;return n}function Im(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function HA(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Cr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Cm=null;function Hv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function qv(n,i,s){switch(i=tf(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Xl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);we(n)}var yr=new Map,Fv=new Set;function nf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ji=he.d;he.d={f:qA,r:FA,D:GA,C:$A,L:KA,m:YA,X:XA,S:QA,M:WA};function qA(){var n=ji.f(),i=Kc();return n||i}function FA(n){var i=We(n);i!==null&&i.tag===5&&i.type==="form"?c_(i):ji.r(n)}var No=typeof document>"u"?null:document;function Gv(n,i,s){var l=No;if(l&&typeof i=="string"&&i){var h=jt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Fv.has(h)||(Fv.add(h),n={rel:n,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),cn(i,"link",n),nt(i),l.head.appendChild(i)))}}function GA(n){ji.D(n),Gv("dns-prefetch",n,null)}function $A(n,i){ji.C(n,i),Gv("preconnect",n,i)}function KA(n,i,s){ji.L(n,i,s);var l=No;if(l&&n&&i){var h='link[rel="preload"][as="'+jt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+jt(s.imageSizes)+'"]')):h+='[href="'+jt(n)+'"]';var p=h;switch(i){case"style":p=Oo(n);break;case"script":p=Mo(n)}yr.has(p)||(n=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),yr.set(p,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Wl(p))||i==="script"&&l.querySelector(Zl(p))||(i=l.createElement("link"),cn(i,"link",n),nt(i),l.head.appendChild(i)))}}function YA(n,i){ji.m(n,i);var s=No;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(n)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Mo(n)}if(!yr.has(p)&&(n=_({rel:"modulepreload",href:n},i),yr.set(p,n),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(p)))return}l=s.createElement("link"),cn(l,"link",n),nt(l),s.head.appendChild(l)}}}function QA(n,i,s){ji.S(n,i,s);var l=No;if(l&&n){var h=lt(l).hoistableStyles,p=Oo(n);i=i||"default";var E=h.get(p);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Wl(p)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},s),(s=yr.get(p))&&Dm(n,s);var x=E=l.createElement("link");nt(x),cn(x,"link",n),x._p=new Promise(function(X,re){x.onload=X,x.onerror=re}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rf(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(p,E)}}}function XA(n,i){ji.X(n,i);var s=No;if(s&&n){var l=lt(s).hoistableScripts,h=Mo(n),p=l.get(h);p||(p=s.querySelector(Zl(h)),p||(n=_({src:n,async:!0},i),(i=yr.get(h))&&xm(n,i),p=s.createElement("script"),nt(p),cn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function WA(n,i){ji.M(n,i);var s=No;if(s&&n){var l=lt(s).hoistableScripts,h=Mo(n),p=l.get(h);p||(p=s.querySelector(Zl(h)),p||(n=_({src:n,async:!0,type:"module"},i),(i=yr.get(h))&&xm(n,i),p=s.createElement("script"),nt(p),cn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function $v(n,i,s,l){var h=(h=Ie.current)?nf(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Oo(s.href),s=lt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Oo(s.href);var p=lt(h).hoistableStyles,E=p.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=h.querySelector(Wl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),yr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},yr.set(n,s),p||ZA(h,n,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(s),s=lt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Oo(n){return'href="'+jt(n)+'"'}function Wl(n){return'link[rel="stylesheet"]['+n+"]"}function Kv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function ZA(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",s),nt(i),n.head.appendChild(i))}function Mo(n){return'[src="'+jt(n)+'"]'}function Zl(n){return"script[async]"+n}function Yv(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+jt(s.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),nt(l),cn(l,"style",h),rf(l,s.precedence,n),i.instance=l;case"stylesheet":h=Oo(s.href);var p=n.querySelector(Wl(h));if(p)return i.state.loading|=4,i.instance=p,nt(p),p;l=Kv(s),(h=yr.get(h))&&Dm(l,h),p=(n.ownerDocument||n).createElement("link"),nt(p);var E=p;return E._p=new Promise(function(w,x){E.onload=w,E.onerror=x}),cn(p,"link",l),i.state.loading|=4,rf(p,s.precedence,n),i.instance=p;case"script":return p=Mo(s.src),(h=n.querySelector(Zl(p)))?(i.instance=h,nt(h),h):(l=s,(h=yr.get(p))&&(l=_({},s),xm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),nt(h),cn(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rf(l,s.precedence,n));return i.instance}function rf(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)p=w;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function xm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var af=null;function Qv(n,i,s){if(af===null){var l=new Map,h=af=new Map;h.set(s,l)}else h=af,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var p=s[h];if(!(p[Ne]||p[oe]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(p):l.set(E,[p])}}return l}function Xv(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function JA(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Jl=null;function eS(){}function tS(n,i,s){if(Jl===null)throw Error(a(475));var l=Jl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Oo(s.href),p=n.querySelector(Wl(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=sf.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=p,nt(p);return}p=n.ownerDocument||n,s=Kv(s),(h=yr.get(h))&&Dm(s,h),p=p.createElement("link"),nt(p);var E=p;E._p=new Promise(function(w,x){E.onload=w,E.onerror=x}),cn(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=sf.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function nS(){if(Jl===null)throw Error(a(475));var n=Jl;return n.stylesheets&&n.count===0&&Nm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Nm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function sf(){if(this.count--,this.count===0){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var of=null;function Nm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,of=new Map,i.forEach(rS,n),of=null,sf.call(n))}function rS(n,i){if(!(i.state.loading&4)){var s=of.get(n);if(s)var l=s.get(null);else{s=new Map,of.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),p=s.get(E)||l,p===l&&s.set(null,h),s.set(E,h),this.count++,l=sf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var eu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function iS(n,i,s,l,h,p,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ir(0),this.hiddenUpdates=ir(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Zv(n,i,s,l,h,p,E,w,x,X,re,le){return n=new iS(n,i,s,E,w,x,X,le),i=1,p===!0&&(i|=24),p=Gn(3,null,null,i),n.current=p,p.stateNode=n,i=hd(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},gd(p),n}function Jv(n){return n?(n=uo,n):uo}function e0(n,i,s,l,h,p){h=Jv(h),l.context===null?l.context=h:l.pendingContext=h,l=oa(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=la(n,l,i),s!==null&&(Xn(s,n,i),xl(s,n,i))}function t0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Om(n,i){t0(n,i),(n=n.alternate)&&t0(n,i)}function n0(n){if(n.tag===13){var i=lo(n,67108864);i!==null&&Xn(i,n,67108864),Om(n,67108864)}}var lf=!0;function aS(n,i,s,l){var h=W.T;W.T=null;var p=he.p;try{he.p=2,Mm(n,i,s,l)}finally{he.p=p,W.T=h}}function sS(n,i,s,l){var h=W.T;W.T=null;var p=he.p;try{he.p=8,Mm(n,i,s,l)}finally{he.p=p,W.T=h}}function Mm(n,i,s,l){if(lf){var h=Pm(l);if(h===null)Em(n,i,l,uf,s),i0(n,l);else if(lS(h,n,i,s,l))l.stopPropagation();else if(i0(n,l),i&4&&-1<oS.indexOf(n)){for(;h!==null;){var p=We(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=jn(p.pendingLanes);if(E!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var x=1<<31-Ut(E);w.entanglements[1]|=x,E&=~x}ri(p),(gt&6)===0&&(Gc=Rn()+500,Kl(0))}}break;case 13:w=lo(p,2),w!==null&&Xn(w,p,2),Kc(),Om(p,2)}if(p=Pm(l),p===null&&Em(n,i,l,uf,s),p===h)break;h=p}h!==null&&l.stopPropagation()}else Em(n,i,l,null,s)}}function Pm(n){return n=lr(n),km(n)}var uf=null;function km(n){if(uf=null,n=Oe(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=f(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return uf=n,null}function r0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ol()){case Ja:return 2;case Xi:return 8;case yi:case wr:return 32;case tr:return 268435456;default:return 32}default:return 32}}var Vm=!1,Ta=null,ba=null,wa=null,tu=new Map,nu=new Map,Aa=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(n,i){switch(n){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(i.pointerId)}}function ru(n,i,s,l,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},i!==null&&(i=We(i),i!==null&&n0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function lS(n,i,s,l,h){switch(i){case"focusin":return Ta=ru(Ta,n,i,s,l,h),!0;case"dragenter":return ba=ru(ba,n,i,s,l,h),!0;case"mouseover":return wa=ru(wa,n,i,s,l,h),!0;case"pointerover":var p=h.pointerId;return tu.set(p,ru(tu.get(p)||null,n,i,s,l,h)),!0;case"gotpointercapture":return p=h.pointerId,nu.set(p,ru(nu.get(p)||null,n,i,s,l,h)),!0}return!1}function a0(n){var i=Oe(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){n.blockedOn=i,F(n.priority,function(){if(s.tag===13){var l=Qn();l=qr(l);var h=lo(s,l);h!==null&&Xn(h,s,l),Om(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Pm(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);bi=l,s.target.dispatchEvent(l),bi=null}else return i=We(s),i!==null&&n0(i),n.blockedOn=s,!1;i.shift()}return!0}function s0(n,i,s){cf(n)&&s.delete(i)}function uS(){Vm=!1,Ta!==null&&cf(Ta)&&(Ta=null),ba!==null&&cf(ba)&&(ba=null),wa!==null&&cf(wa)&&(wa=null),tu.forEach(s0),nu.forEach(s0)}function ff(n,i){n.blockedOn===i&&(n.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var hf=null;function o0(n){hf!==n&&(hf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hf===n&&(hf=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(km(l||s)===null)continue;break}var p=We(s);p!==null&&(n.splice(i,3),i-=3,kd(p,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function iu(n){function i(x){return ff(x,n)}Ta!==null&&ff(Ta,n),ba!==null&&ff(ba,n),wa!==null&&ff(wa,n),tu.forEach(i),nu.forEach(i);for(var s=0;s<Aa.length;s++){var l=Aa[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Aa.length&&(s=Aa[0],s.blockedOn===null);)a0(s),s.blockedOn===null&&Aa.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],p=s[l+1],E=h[de]||null;if(typeof p=="function")E||o0(s);else if(E){var w=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[de]||null)w=E.formAction;else if(km(h)!==null)continue}else w=E.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),o0(s)}}}function Lm(n){this._internalRoot=n}df.prototype.render=Lm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Qn();e0(s,l,n,i,null,null)},df.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;e0(n.current,2,null,n,null,null),Kc(),i[_e]=null}};function df(n){this._internalRoot=n}df.prototype.unstable_scheduleHydration=function(n){if(n){var i=P();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Aa.length&&i!==0&&i<Aa[s].priority;s++);Aa.splice(s,0,n),s===0&&a0(n)}};var l0=e.version;if(l0!=="19.1.0")throw Error(a(527,l0,"19.1.0"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var cS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{ft=mf.inject(cS),Ge=mf}catch{}}return su.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",h=A_,p=S_,E=R_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Zv(n,1,!1,null,null,s,l,h,p,E,w,null),n[_e]=i.current,vm(n),new Lm(i)},su.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,h="",p=A_,E=S_,w=R_,x=null,X=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(X=s.formState)),i=Zv(n,1,!0,i,s??null,l,h,p,E,w,x,X),i.context=Jv(null),s=i.current,l=Qn(),l=qr(l),h=oa(l),h.callback=null,la(s,h,l),s=l,i.current.lanes=s,Ar(i,s),ri(i),n[_e]=i.current,vm(n),new df(i)},su.version="19.1.0",su}var _0;function ES(){if(_0)return jm.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jm.exports=vS(),jm.exports}var TS=ES(),ou={},v0;function bS(){if(v0)return ou;v0=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.parse=f,ou.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,I){const N=new u,G=b.length;if(G<2)return N;const k=(I==null?void 0:I.decode)||_;let H=0;do{const z=b.indexOf("=",H);if(z===-1)break;const Q=b.indexOf(";",H),ne=Q===-1?G:Q;if(z>ne){H=b.lastIndexOf(";",z-1)+1;continue}const se=d(b,H,z),j=m(b,z,se),D=b.slice(se,j);if(N[D]===void 0){let S=d(b,z+1,ne),R=m(b,ne,S);const M=k(b.slice(S,R));N[D]=M}H=ne+1}while(H<G);return N}function d(b,I,N){do{const G=b.charCodeAt(I);if(G!==32&&G!==9)return I}while(++I<N);return N}function m(b,I,N){for(;I>N;){const G=b.charCodeAt(--I);if(G!==32&&G!==9)return I+1}return N}function g(b,I,N){const G=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=G(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let H=b+"="+k;if(!N)return H;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);H+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);H+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);H+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);H+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(H+="; HttpOnly"),N.secure&&(H+="; Secure"),N.partitioned&&(H+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return H}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return o.call(b)==="[object Date]"}return ou}bS();/**
 * react-router v7.5.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DT=r=>{throw TypeError(r)},wS=(r,e,t)=>e.has(r)||DT("Cannot "+t),Fm=(r,e,t)=>(wS(r,e,"read from private field"),t?t.call(r):e.get(r)),AS=(r,e,t)=>e.has(r)?DT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),E0="popstate";function SS(r={}){function e(a,o){let{pathname:u,search:f,hash:d}=a.location;return Su("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:Ua(o)}return IS(e,t,null,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function T0(r,e){return{usr:r.state,key:r.key,idx:e}}function Su(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:t,key:e&&e.key||a||RS()}}function Ua({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ka(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function IS(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,d="POP",m=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function T(){d="POP";let k=_(),H=k==null?null:k-g;g=k,m&&m({action:d,location:G.location,delta:H})}function b(k,H){d="PUSH";let z=Su(G.location,k,H);g=_()+1;let Q=T0(z,g),ne=G.createHref(z);try{f.pushState(Q,"",ne)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ne)}u&&m&&m({action:d,location:G.location,delta:1})}function I(k,H){d="REPLACE";let z=Su(G.location,k,H);g=_();let Q=T0(z,g),ne=G.createHref(z);f.replaceState(Q,"",ne),u&&m&&m({action:d,location:G.location,delta:0})}function N(k){let H=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof k=="string"?k:Ua(k);return z=z.replace(/ $/,"%20"),Xe(H,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,H)}let G={get action(){return d},get location(){return r(o,f)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(E0,T),m=k,()=>{o.removeEventListener(E0,T),m=null}},createHref(k){return e(o,k)},createURL:N,encodeLocation(k){let H=N(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:I,go(k){return f.go(k)}};return G}var fu,b0=class{constructor(r){if(AS(this,fu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(Fm(this,fu).has(r))return Fm(this,fu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Fm(this,fu).set(r,e)}};fu=new WeakMap;var CS=new Set(["lazy","caseSensitive","path","id","index","children"]);function DS(r){return CS.has(r)}var xS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function NS(r){return xS.has(r)}function OS(r){return r.index===!0}function Lf(r,e,t=[],a={}){return r.map((o,u)=>{let f=[...t,String(u)],d=typeof o.id=="string"?o.id:f.join("-");if(Xe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Xe(!a[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),OS(o)){let m={...o,...e(o),id:d};return a[d]=m,m}else{let m={...o,...e(o),id:d,children:void 0};return a[d]=m,o.children&&(m.children=Lf(o.children,e,f,a)),m}})}function Ca(r,e,t="/"){return Af(r,e,t,!1)}function Af(r,e,t,a){let o=typeof e=="string"?Ka(e):e,u=br(o.pathname||"/",t);if(u==null)return null;let f=xT(r);PS(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let g=GS(u);d=qS(f[m],g,a)}return d}function MS(r,e){let{route:t,pathname:a,params:o}=r;return{id:t.id,pathname:a,params:o,data:e[t.id],handle:t.handle}}function xT(r,e=[],t=[],a=""){let o=(u,f,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Xe(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ai([a,m.relativePath]),_=t.concat(m);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),xT(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:BS(g,u.index),routesMeta:_})};return r.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let m of NT(u.path))o(u,f,m)}),e}function NT(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=NT(a.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function PS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:HS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var kS=/^:[\w-]+$/,VS=3,LS=2,US=1,zS=10,jS=-2,w0=r=>r==="*";function BS(r,e){let t=r.split("/"),a=t.length;return t.some(w0)&&(a+=jS),e&&(a+=LS),t.filter(o=>!w0(o)).reduce((o,u)=>o+(kS.test(u)?VS:u===""?US:zS),a)}function HS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function qS(r,e,t=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),b=m.route;if(!T&&g&&t&&!a[a.length-1].route.index&&(T=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ai([u,T.pathname]),pathnameBase:YS(ai([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=ai([u,T.pathnameBase]))}return f}function Uf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=FS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let N=d[b]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const I=d[b];return T&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function FS(r,e=!1,t=!0){Vt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function GS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function br(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function $S(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?Ka(r):r;return{pathname:t?t.startsWith("/")?t:KS(t,e):e,search:QS(a),hash:XS(o)}}function KS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hh(r){let e=OT(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function dh(r,e,t,a=!1){let o;typeof r=="string"?o=Ka(r):(o={...r},Xe(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=t;else{let T=e.length-1;if(!a&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}d=T>=0?e[T]:"/"}let m=$S(o,d),g=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ai=r=>r.join("/").replace(/\/\/+/g,"/"),YS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,zf=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ru(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var MT=["POST","PUT","PATCH","DELETE"],WS=new Set(MT),ZS=["GET",...MT],JS=new Set(ZS),eR=new Set([301,302,303,307,308]),tR=new Set([307,308]),$m={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),PT="remix-router-transitions",kT=Symbol("ResetLoaderData");function iR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||rR,u={},f=Lf(r.routes,o,void 0,u),d,m=r.basename||"/",g=r.dataStrategy||uR,_={unstable_middleware:!1,...r.future},T=null,b=new Set,I=null,N=null,G=null,k=r.hydrationData!=null,H=Ca(f,r.history.location,m),z=!1,Q=null;if(H==null&&!r.patchRoutesOnNavigation){let P=_r(404,{pathname:r.history.location.pathname}),{matches:F,route:Y}=k0(f);H=F,Q={[Y.id]:P}}H&&!r.hydrationData&&In(H,f,r.history.location.pathname).active&&(H=null);let ne;if(H)if(H.some(P=>P.route.lazy))ne=!1;else if(!H.some(P=>P.route.loader))ne=!0;else{let P=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let Y=H.findIndex(oe=>F[oe.route.id]!==void 0);ne=H.slice(0,Y+1).every(oe=>!lp(oe.route,P,F))}else ne=H.every(Y=>!lp(Y.route,P,F))}else{ne=!1,H=[];let P=In(null,f,r.history.location.pathname);P.active&&P.matches&&(z=!0,H=P.matches)}let se,j={historyAction:r.history.action,location:r.history.location,matches:H,initialized:ne,navigation:$m,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},D="POP",S=!1,R,M=!1,V=new Map,B=null,C=!1,Be=!1,Fe=new Set,W=new Map,he=0,ge=-1,Ue=new Map,O=new Set,ae=new Map,pe=new Map,fe=new Set,Ae=new Map,He,Ie=null;function Lt(){if(T=r.history.listen(({action:P,location:F,delta:Y})=>{if(He){He(),He=void 0;return}Vt(Ae.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Ji({currentLocation:j.location,nextLocation:F,historyAction:P});if(oe&&Y!=null){let de=new Promise(_e=>{He=_e});r.history.go(Y*-1),rr(oe,{state:"blocked",location:F,proceed(){rr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),de.then(()=>r.history.go(Y))},reset(){let _e=new Map(j.blockers);_e.set(oe,lu),It({blockers:_e})}});return}return Sn(P,F)}),t){ER(e,V);let P=()=>TR(e,V);e.addEventListener("pagehide",P),B=()=>e.removeEventListener("pagehide",P)}return j.initialized||Sn("POP",j.location,{initialHydration:!0}),se}function _t(){T&&T(),B&&B(),b.clear(),R&&R.abort(),j.fetchers.forEach((P,F)=>Ut(F)),j.blockers.forEach((P,F)=>_i(F))}function er(P){return b.add(P),()=>b.delete(P)}function It(P,F={}){j={...j,...P};let Y=[],oe=[];j.fetchers.forEach((de,_e)=>{de.state==="idle"&&(fe.has(_e)?Y.push(_e):oe.push(_e))}),fe.forEach(de=>{!j.fetchers.has(de)&&!W.has(de)&&Y.push(de)}),[...b].forEach(de=>de(j,{deletedFetchers:Y,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Y.forEach(de=>Ut(de)),oe.forEach(de=>j.fetchers.delete(de))}function gn(P,F,{flushSync:Y}={}){var Se,Ne;let oe=j.actionData!=null&&j.navigation.formMethod!=null&&Zn(j.navigation.formMethod)&&j.navigation.state==="loading"&&((Se=P.state)==null?void 0:Se._isRedirect)!==!0,de;F.actionData?Object.keys(F.actionData).length>0?de=F.actionData:de=null:oe?de=j.actionData:de=null;let _e=F.loaderData?M0(j.loaderData,F.loaderData,F.matches||[],F.errors):j.loaderData,De=j.blockers;De.size>0&&(De=new Map(De),De.forEach((we,Oe)=>De.set(Oe,lu)));let ve=S===!0||j.navigation.formMethod!=null&&Zn(j.navigation.formMethod)&&((Ne=P.state)==null?void 0:Ne._isRedirect)!==!0;d&&(f=d,d=void 0),C||D==="POP"||(D==="PUSH"?r.history.push(P,P.state):D==="REPLACE"&&r.history.replace(P,P.state));let be;if(D==="POP"){let we=V.get(j.location.pathname);we&&we.has(P.pathname)?be={currentLocation:j.location,nextLocation:P}:V.has(P.pathname)&&(be={currentLocation:P,nextLocation:j.location})}else if(M){let we=V.get(j.location.pathname);we?we.add(P.pathname):(we=new Set([P.pathname]),V.set(j.location.pathname,we)),be={currentLocation:j.location,nextLocation:P}}It({...F,actionData:de,loaderData:_e,historyAction:D,location:P,initialized:!0,navigation:$m,revalidation:"idle",restoreScrollPosition:ea(P,F.matches||j.matches),preventScrollReset:ve,blockers:De},{viewTransitionOpts:be,flushSync:Y===!0}),D="POP",S=!1,M=!1,C=!1,Be=!1,Ie==null||Ie.resolve(),Ie=null}async function Ur(P,F){if(typeof P=="number"){r.history.go(P);return}let Y=op(j.location,j.matches,m,P,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:oe,submission:de,error:_e}=A0(!1,Y,F),De=j.location,ve=Su(j.location,oe,F&&F.state);ve={...ve,...r.history.encodeLocation(ve)};let be=F&&F.replace!=null?F.replace:void 0,Se="PUSH";be===!0?Se="REPLACE":be===!1||de!=null&&Zn(de.formMethod)&&de.formAction===j.location.pathname+j.location.search&&(Se="REPLACE");let Ne=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,we=(F&&F.flushSync)===!0,Oe=Ji({currentLocation:De,nextLocation:ve,historyAction:Se});if(Oe){rr(Oe,{state:"blocked",location:ve,proceed(){rr(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Ur(P,F)},reset(){let We=new Map(j.blockers);We.set(Oe,lu),It({blockers:We})}});return}await Sn(Se,ve,{submission:de,pendingError:_e,preventScrollReset:Ne,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:we})}function gi(){Ie||(Ie=bR()),Zi(),It({revalidation:"loading"});let P=Ie.promise;return j.navigation.state==="submitting"?P:j.navigation.state==="idle"?(Sn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),P):(Sn(D||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:M===!0}),P)}async function Sn(P,F,Y){R&&R.abort(),R=null,D=P,C=(Y&&Y.startUninterruptedRevalidation)===!0,Ar(j.location,j.matches),S=(Y&&Y.preventScrollReset)===!0,M=(Y&&Y.enableViewTransition)===!0;let oe=d||f,de=Y&&Y.overrideNavigation,_e=Y!=null&&Y.initialHydration&&j.matches&&j.matches.length>0&&!z?j.matches:Ca(oe,F,m),De=(Y&&Y.flushSync)===!0;if(_e&&j.initialized&&!Be&&pR(j.location,F)&&!(Y&&Y.submission&&Zn(Y.submission.formMethod))){gn(F,{matches:_e},{flushSync:De});return}let ve=In(_e,oe,F.pathname);if(ve.active&&ve.matches&&(_e=ve.matches),!_e){let{error:lt,notFoundMatches:nt,route:Ye}=vi(F.pathname);gn(F,{matches:nt,loaderData:{},errors:{[Ye.id]:lt}},{flushSync:De});return}R=new AbortController;let be=Po(r.history,F,R.signal,Y&&Y.submission),Se=new b0(r.unstable_getContext?await r.unstable_getContext():void 0),Ne;if(Y&&Y.pendingError)Ne=[Cs(_e).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Zn(Y.submission.formMethod)){let lt=await Za(be,F,Y.submission,_e,Se,ve.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:De});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[nt,Ye]=lt.pendingActionResult;if(Wn(Ye)&&Ru(Ye.error)&&Ye.error.status===404){R=null,gn(F,{matches:lt.matches,loaderData:{},errors:{[nt]:Ye.error}});return}}_e=lt.matches||_e,Ne=lt.pendingActionResult,de=Km(F,Y.submission),De=!1,ve.active=!1,be=Po(r.history,be.url,be.signal)}let{shortCircuited:we,matches:Oe,loaderData:We,errors:dt}=await Ks(be,F,_e,Se,ve.active,de,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,De,Ne);we||(R=null,gn(F,{matches:Oe||_e,...P0(Ne),loaderData:We,errors:dt}))}async function Za(P,F,Y,oe,de,_e,De,ve={}){Zi();let be=_R(F,Y);if(It({navigation:be},{flushSync:ve.flushSync===!0}),_e){let we=await Hr(oe,F.pathname,P.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let Oe=Cs(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[Oe,{type:"error",error:we.error}]}}else if(we.matches)oe=we.matches;else{let{notFoundMatches:Oe,error:We,route:dt}=vi(F.pathname);return{matches:Oe,pendingActionResult:[dt.id,{type:"error",error:We}]}}}let Se,Ne=hu(oe,F);if(!Ne.route.action&&!Ne.route.lazy)Se={type:"error",error:_r(405,{method:P.method,pathname:F.pathname,routeId:Ne.route.id})};else{let we=jo(o,u,P,oe,Ne,De?[]:a,de),Oe=await tr(P,we,de,null);if(Se=Oe[Ne.route.id],!Se){for(let We of oe)if(Oe[We.route.id]){Se=Oe[We.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(Ds(Se)){let we;return ve&&ve.replace!=null?we=ve.replace:we=x0(Se.response.headers.get("Location"),new URL(P.url),m)===j.location.pathname+j.location.search,await wr(P,Se,!0,{submission:Y,replace:we}),{shortCircuited:!0}}if(Wn(Se)){let we=Cs(oe,Ne.route.id);return(ve&&ve.replace)!==!0&&(D="PUSH"),{matches:oe,pendingActionResult:[we.route.id,Se]}}return{matches:oe,pendingActionResult:[Ne.route.id,Se]}}async function Ks(P,F,Y,oe,de,_e,De,ve,be,Se,Ne,we){let Oe=_e||Km(F,De),We=De||ve||L0(Oe),dt=!C&&!Se;if(de){if(dt){let zt=Rn(we);It({navigation:Oe,...zt!==void 0?{actionData:zt}:{}},{flushSync:Ne})}let Le=await Hr(Y,F.pathname,P.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let zt=Cs(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[zt]:Le.error}}}else if(Le.matches)Y=Le.matches;else{let{error:zt,notFoundMatches:Hn,route:Pn}=vi(F.pathname);return{matches:Hn,loaderData:{},errors:{[Pn.id]:zt}}}}let lt=d||f,{dsMatches:nt,revalidatingFetchers:Ye}=S0(P,oe,o,u,r.history,j,Y,We,F,Se?[]:a,Se===!0,Be,Fe,fe,ae,O,lt,m,we);if(ge=++he,!r.dataStrategy&&!nt.some(Le=>Le.shouldLoad)&&Ye.length===0){let Le=jr();return gn(F,{matches:Y,loaderData:{},errors:we&&Wn(we[1])?{[we[0]]:we[1].error}:null,...P0(we),...Le?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(dt){let Le={};if(!de){Le.navigation=Oe;let zt=Rn(we);zt!==void 0&&(Le.actionData=zt)}Ye.length>0&&(Le.fetchers=ol(Ye)),It(Le,{flushSync:Ne})}Ye.forEach(Le=>{nr(Le.key),Le.controller&&W.set(Le.key,Le.controller)});let ar=()=>Ye.forEach(Le=>nr(Le.key));R&&R.signal.addEventListener("abort",ar);let{loaderResults:Gt,fetcherResults:Cn}=await Wi(nt,Ye,P,oe);if(P.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ar),Ye.forEach(Le=>W.delete(Le.key));let an=pf(Gt);if(an)return await wr(P,an.result,!0,{replace:be}),{shortCircuited:!0};if(an=pf(Cn),an)return O.add(an.key),await wr(P,an.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Fr,errors:Bn}=O0(j,Y,Gt,we,Ye,Cn);Se&&j.errors&&(Bn={...j.errors,...Bn});let na=jr(),_n=Br(ge),Dn=na||_n||Ye.length>0;return{matches:Y,loaderData:Fr,errors:Bn,...Dn?{fetchers:new Map(j.fetchers)}:{}}}function Rn(P){if(P&&!Wn(P[1]))return{[P[0]]:P[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function ol(P){return P.forEach(F=>{let Y=j.fetchers.get(F.key),oe=uu(void 0,Y?Y.data:void 0);j.fetchers.set(F.key,oe)}),new Map(j.fetchers)}async function Ja(P,F,Y,oe){nr(P);let de=(oe&&oe.flushSync)===!0,_e=d||f,De=op(j.location,j.matches,m,Y,F,oe==null?void 0:oe.relative),ve=Ca(_e,De,m),be=In(ve,_e,De);if(be.active&&be.matches&&(ve=be.matches),!ve){Ge(P,F,_r(404,{pathname:De}),{flushSync:de});return}let{path:Se,submission:Ne,error:we}=A0(!0,De,oe);if(we){Ge(P,F,we,{flushSync:de});return}let Oe=hu(ve,Se),We=new b0(r.unstable_getContext?await r.unstable_getContext():void 0),dt=(oe&&oe.preventScrollReset)===!0;if(Ne&&Zn(Ne.formMethod)){await Xi(P,F,Se,Oe,ve,We,be.active,de,dt,Ne);return}ae.set(P,{routeId:F,path:Se}),await yi(P,F,Se,Oe,ve,We,be.active,de,dt,Ne)}async function Xi(P,F,Y,oe,de,_e,De,ve,be,Se){Zi(),ae.delete(P);function Ne(wt){if(!wt.route.action&&!wt.route.lazy){let sr=_r(405,{method:Se.formMethod,pathname:Y,routeId:F});return Ge(P,F,sr,{flushSync:ve}),!0}return!1}if(!De&&Ne(oe))return;let we=j.fetchers.get(P);ft(P,vR(Se,we),{flushSync:ve});let Oe=new AbortController,We=Po(r.history,Y,Oe.signal,Se);if(De){let wt=await Hr(de,Y,We.signal,P);if(wt.type==="aborted")return;if(wt.type==="error"){Ge(P,F,wt.error,{flushSync:ve});return}else if(wt.matches){if(de=wt.matches,oe=hu(de,Y),Ne(oe))return}else{Ge(P,F,_r(404,{pathname:Y}),{flushSync:ve});return}}W.set(P,Oe);let dt=he,lt=jo(o,u,We,de,oe,a,_e),Ye=(await tr(We,lt,_e,P))[oe.route.id];if(We.signal.aborted){W.get(P)===Oe&&W.delete(P);return}if(fe.has(P)){if(Ds(Ye)||Wn(Ye)){ft(P,Ia(void 0));return}}else{if(Ds(Ye))if(W.delete(P),ge>dt){ft(P,Ia(void 0));return}else return O.add(P),ft(P,uu(Se)),wr(We,Ye,!1,{fetcherSubmission:Se,preventScrollReset:be});if(Wn(Ye)){Ge(P,F,Ye.error);return}}let ar=j.navigation.location||j.location,Gt=Po(r.history,ar,Oe.signal),Cn=d||f,an=j.navigation.state!=="idle"?Ca(Cn,j.navigation.location,m):j.matches;Xe(an,"Didn't find any matches after fetcher action");let Fr=++he;Ue.set(P,Fr);let Bn=uu(Se,Ye.data);j.fetchers.set(P,Bn);let{dsMatches:na,revalidatingFetchers:_n}=S0(Gt,_e,o,u,r.history,j,an,Se,ar,a,!1,Be,Fe,fe,ae,O,Cn,m,[oe.route.id,Ye]);_n.filter(wt=>wt.key!==P).forEach(wt=>{let sr=wt.key,Ei=j.fetchers.get(sr),sn=uu(void 0,Ei?Ei.data:void 0);j.fetchers.set(sr,sn),nr(sr),wt.controller&&W.set(sr,wt.controller)}),It({fetchers:new Map(j.fetchers)});let Dn=()=>_n.forEach(wt=>nr(wt.key));Oe.signal.addEventListener("abort",Dn);let{loaderResults:Le,fetcherResults:zt}=await Wi(na,_n,Gt,_e);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Dn),Ue.delete(P),W.delete(P),_n.forEach(wt=>W.delete(wt.key));let Hn=pf(Le);if(Hn)return wr(Gt,Hn.result,!1,{preventScrollReset:be});if(Hn=pf(zt),Hn)return O.add(Hn.key),wr(Gt,Hn.result,!1,{preventScrollReset:be});let{loaderData:Pn,errors:Gr}=O0(j,an,Le,void 0,_n,zt);if(j.fetchers.has(P)){let wt=Ia(Ye.data);j.fetchers.set(P,wt)}Br(Fr),j.navigation.state==="loading"&&Fr>ge?(Xe(D,"Expected pending action"),R&&R.abort(),gn(j.navigation.location,{matches:an,loaderData:Pn,errors:Gr,fetchers:new Map(j.fetchers)})):(It({errors:Gr,loaderData:M0(j.loaderData,Pn,an,Gr),fetchers:new Map(j.fetchers)}),Be=!1)}async function yi(P,F,Y,oe,de,_e,De,ve,be,Se){let Ne=j.fetchers.get(P);ft(P,uu(Se,Ne?Ne.data:void 0),{flushSync:ve});let we=new AbortController,Oe=Po(r.history,Y,we.signal);if(De){let Ye=await Hr(de,Y,Oe.signal,P);if(Ye.type==="aborted")return;if(Ye.type==="error"){Ge(P,F,Ye.error,{flushSync:ve});return}else if(Ye.matches)de=Ye.matches,oe=hu(de,Y);else{Ge(P,F,_r(404,{pathname:Y}),{flushSync:ve});return}}W.set(P,we);let We=he,dt=jo(o,u,Oe,de,oe,a,_e),nt=(await tr(Oe,dt,_e,P))[oe.route.id];if(W.get(P)===we&&W.delete(P),!Oe.signal.aborted){if(fe.has(P)){ft(P,Ia(void 0));return}if(Ds(nt))if(ge>We){ft(P,Ia(void 0));return}else{O.add(P),await wr(Oe,nt,!1,{preventScrollReset:be});return}if(Wn(nt)){Ge(P,F,nt.error);return}ft(P,Ia(nt.data))}}async function wr(P,F,Y,{submission:oe,fetcherSubmission:de,preventScrollReset:_e,replace:De}={}){F.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let ve=F.response.headers.get("Location");Xe(ve,"Expected a Location header on the redirect Response"),ve=x0(ve,new URL(P.url),m);let be=Su(j.location,ve,{_isRedirect:!0});if(t){let dt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Hp.test(ve)){const lt=r.history.createURL(ve);dt=lt.origin!==e.location.origin||br(lt.pathname,m)==null}if(dt){De?e.location.replace(ve):e.location.assign(ve);return}}R=null;let Se=De===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:we,formEncType:Oe}=j.navigation;!oe&&!de&&Ne&&we&&Oe&&(oe=L0(j.navigation));let We=oe||de;if(tR.has(F.response.status)&&We&&Zn(We.formMethod))await Sn(Se,be,{submission:{...We,formAction:ve},preventScrollReset:_e||S,enableViewTransition:Y?M:void 0});else{let dt=Km(be,oe);await Sn(Se,be,{overrideNavigation:dt,fetcherSubmission:de,preventScrollReset:_e||S,enableViewTransition:Y?M:void 0})}}async function tr(P,F,Y,oe){let de,_e={};try{de=await cR(g,P,F,oe,Y,!1)}catch(De){return F.filter(ve=>ve.shouldLoad).forEach(ve=>{_e[ve.route.id]={type:"error",error:De}}),_e}for(let[De,ve]of Object.entries(de))if(gR(ve)){let be=ve.result;_e[De]={type:"redirect",response:dR(be,P,De,F,m)}}else _e[De]=await hR(ve);return _e}async function Wi(P,F,Y,oe){let de=tr(Y,P,oe,null),_e=Promise.all(F.map(async be=>{if(be.matches&&be.match&&be.request&&be.controller){let Ne=(await tr(be.request,be.matches,oe,be.key))[be.match.route.id];return{[be.key]:Ne}}else return Promise.resolve({[be.key]:{type:"error",error:_r(404,{pathname:be.path})}})})),De=await de,ve=(await _e).reduce((be,Se)=>Object.assign(be,Se),{});return{loaderResults:De,fetcherResults:ve}}function Zi(){Be=!0,ae.forEach((P,F)=>{W.has(F)&&Fe.add(F),nr(F)})}function ft(P,F,Y={}){j.fetchers.set(P,F),It({fetchers:new Map(j.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Ge(P,F,Y,oe={}){let de=Cs(j.matches,F);Ut(P),It({errors:{[de.route.id]:Y},fetchers:new Map(j.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function yn(P){return pe.set(P,(pe.get(P)||0)+1),fe.has(P)&&fe.delete(P),j.fetchers.get(P)||nR}function Ut(P){let F=j.fetchers.get(P);W.has(P)&&!(F&&F.state==="loading"&&Ue.has(P))&&nr(P),ae.delete(P),Ue.delete(P),O.delete(P),fe.delete(P),Fe.delete(P),j.fetchers.delete(P)}function Ys(P){let F=(pe.get(P)||0)-1;F<=0?(pe.delete(P),fe.add(P)):pe.set(P,F),It({fetchers:new Map(j.fetchers)})}function nr(P){let F=W.get(P);F&&(F.abort(),W.delete(P))}function zr(P){for(let F of P){let Y=yn(F),oe=Ia(Y.data);j.fetchers.set(F,oe)}}function jr(){let P=[],F=!1;for(let Y of O){let oe=j.fetchers.get(Y);Xe(oe,`Expected fetcher: ${Y}`),oe.state==="loading"&&(O.delete(Y),P.push(Y),F=!0)}return zr(P),F}function Br(P){let F=[];for(let[Y,oe]of Ue)if(oe<P){let de=j.fetchers.get(Y);Xe(de,`Expected fetcher: ${Y}`),de.state==="loading"&&(nr(Y),Ue.delete(Y),F.push(Y))}return zr(F),F.length>0}function jn(P,F){let Y=j.blockers.get(P)||lu;return Ae.get(P)!==F&&Ae.set(P,F),Y}function _i(P){j.blockers.delete(P),Ae.delete(P)}function rr(P,F){let Y=j.blockers.get(P)||lu;Xe(Y.state==="unblocked"&&F.state==="blocked"||Y.state==="blocked"&&F.state==="blocked"||Y.state==="blocked"&&F.state==="proceeding"||Y.state==="blocked"&&F.state==="unblocked"||Y.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${F.state}`);let oe=new Map(j.blockers);oe.set(P,F),It({blockers:oe})}function Ji({currentLocation:P,nextLocation:F,historyAction:Y}){if(Ae.size===0)return;Ae.size>1&&Vt(!1,"A router only supports one blocker at a time");let oe=Array.from(Ae.entries()),[de,_e]=oe[oe.length-1],De=j.blockers.get(de);if(!(De&&De.state==="proceeding")&&_e({currentLocation:P,nextLocation:F,historyAction:Y}))return de}function vi(P){let F=_r(404,{pathname:P}),Y=d||f,{matches:oe,route:de}=k0(Y);return{notFoundMatches:oe,route:de,error:F}}function es(P,F,Y){if(I=P,G=F,N=Y||null,!k&&j.navigation===$m){k=!0;let oe=ea(j.location,j.matches);oe!=null&&It({restoreScrollPosition:oe})}return()=>{I=null,G=null,N=null}}function ir(P,F){return N&&N(P,F.map(oe=>MS(oe,j.loaderData)))||P.key}function Ar(P,F){if(I&&G){let Y=ir(P,F);I[Y]=G()}}function ea(P,F){if(I){let Y=ir(P,F),oe=I[Y];if(typeof oe=="number")return oe}return null}function In(P,F,Y){if(r.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Af(F,Y,m,!0)}}else return{active:!0,matches:Af(F,Y,m,!0)||[]};return{active:!1,matches:null}}async function Hr(P,F,Y,oe){if(!r.patchRoutesOnNavigation)return{type:"success",matches:P};let de=P;for(;;){let _e=d==null,De=d||f,ve=u;try{await r.patchRoutesOnNavigation({signal:Y,path:F,matches:de,fetcherKey:oe,patch:(Ne,we)=>{Y.aborted||R0(Ne,we,De,ve,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:de}}finally{_e&&!Y.aborted&&(f=[...f])}if(Y.aborted)return{type:"aborted"};let be=Ca(De,F,m);if(be)return{type:"success",matches:be};let Se=Af(De,F,m,!0);if(!Se||de.length===Se.length&&de.every((Ne,we)=>Ne.route.id===Se[we].route.id))return{type:"success",matches:null};de=Se}}function qr(P){u={},d=Lf(P,o,void 0,u)}function ta(P,F){let Y=d==null;R0(P,F,d||f,u,o),Y&&(f=[...f],It({}))}return se={get basename(){return m},get future(){return _},get state(){return j},get routes(){return f},get window(){return e},initialize:Lt,subscribe:er,enableScrollRestoration:es,navigate:Ur,fetch:Ja,revalidate:gi,createHref:P=>r.history.createHref(P),encodeLocation:P=>r.history.encodeLocation(P),getFetcher:yn,deleteFetcher:Ys,dispose:_t,getBlocker:jn,deleteBlocker:_i,patchRoutes:ta,_internalFetchControllers:W,_internalSetRoutes:qr},se}function aR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function op(r,e,t,a,o,u){let f,d;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){d=g;break}}else f=e,d=e[e.length-1];let m=dh(a||".",hh(f),br(r.pathname,t)||r.pathname,u==="path");if(a==null&&(m.search=r.search,m.hash=r.hash),(a==null||a===""||a===".")&&d){let g=qp(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(m.search),T=_.getAll("index");_.delete("index"),T.filter(I=>I).forEach(I=>_.append("index",I));let b=_.toString();m.search=b?`?${b}`:""}}return t!=="/"&&(m.pathname=m.pathname==="/"?t:ai([t,m.pathname])),Ua(m)}function A0(r,e,t){if(!t||!aR(t))return{path:e};if(t.formMethod&&!yR(t.formMethod))return{path:e,error:_r(405,{method:t.formMethod})};let a=()=>({path:e,error:_r(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),f=BT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Zn(u))return a();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[I,N])=>`${b}${I}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Zn(u))return a();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,m;if(t.formData)d=cp(t.formData),m=t.formData;else if(t.body instanceof FormData)d=cp(t.body),m=t.body;else if(t.body instanceof URLSearchParams)d=t.body,m=N0(d);else if(t.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(t.body),m=N0(d)}catch{return a()}let g={formMethod:u,formAction:f,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Zn(g.formMethod))return{path:e,submission:g};let _=Ka(e);return r&&_.search&&qp(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Ua(_),submission:g}}function S0(r,e,t,a,o,u,f,d,m,g,_,T,b,I,N,G,k,H,z){var B;let Q=z?Wn(z[1])?z[1].error:z[1].data:void 0,ne=o.createURL(u.location),se=o.createURL(m),j;if(_&&u.errors){let C=Object.keys(u.errors)[0];j=f.findIndex(Be=>Be.route.id===C)}else if(z&&Wn(z[1])){let C=z[0];j=f.findIndex(Be=>Be.route.id===C)-1}let D=z?z[1].statusCode:void 0,S=D&&D>=400,R={currentUrl:ne,currentParams:((B=u.matches[0])==null?void 0:B.params)||{},nextUrl:se,nextParams:f[0].params,...d,actionResult:Q,actionStatus:D},M=f.map((C,Be)=>{let{route:Fe}=C,W=null;if(j!=null&&Be>j?W=!1:Fe.lazy?W=!0:Fe.loader==null?W=!1:_?W=lp(Fe,u.loaderData,u.errors):sR(u.loaderData,u.matches[Be],C)&&(W=!0),W!==null)return up(t,a,r,C,g,e,W);let he=S?!1:T||ne.pathname+ne.search===se.pathname+se.search||ne.search!==se.search||oR(u.matches[Be],C),ge={...R,defaultShouldRevalidate:he},Ue=jf(C,ge);return up(t,a,r,C,g,e,Ue,ge)}),V=[];return N.forEach((C,Be)=>{if(_||!f.some(ae=>ae.route.id===C.routeId)||I.has(Be))return;let Fe=Ca(k,C.path,H);if(!Fe){V.push({key:Be,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(G.has(Be))return;let W=u.fetchers.get(Be),he=hu(Fe,C.path),ge=new AbortController,Ue=Po(o,C.path,ge.signal),O=null;if(b.has(Be))b.delete(Be),O=jo(t,a,Ue,Fe,he,g,e);else if(W&&W.state!=="idle"&&W.data===void 0)T&&(O=jo(t,a,Ue,Fe,he,g,e));else{let ae={...R,defaultShouldRevalidate:S?!1:T};jf(he,ae)&&(O=jo(t,a,Ue,Fe,he,g,e,ae))}O&&V.push({key:Be,routeId:C.routeId,path:C.path,matches:O,match:he,request:Ue,controller:ge})}),{dsMatches:M,revalidatingFetchers:V}}function lp(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function sR(r,e,t){let a=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return a||o}function oR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function jf(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function R0(r,e,t,a,o){let u;if(r){let m=a[r];Xe(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),u=m.children}else u=t;let f=e.filter(m=>!u.some(g=>VT(m,g))),d=Lf(f,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...d)}function VT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>VT(t,u))}):!1}var I0=new WeakMap,LT=({key:r,route:e,manifest:t,mapRouteProperties:a})=>{let o=t[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let f=I0.get(o);f||(f={},I0.set(o,f));let d=f[r];if(d)return d;let m=(async()=>{let g=DS(r),T=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(T)Vt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[r]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return f[r]=m,m},C0=new WeakMap;function lR(r,e,t,a,o){let u=t[r.id];if(Xe(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let _=C0.get(u);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let T=(async()=>{Xe(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),I={};for(let N in b){let G=b[N];if(G===void 0)continue;let k=NS(N),z=u[N]!==void 0&&N!=="hasErrorBoundary";k?Vt(!k,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):z?Vt(!z,`Route "${u.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):I[N]=G}Object.assign(u,I),Object.assign(u,{...a(u),lazy:void 0})})();return C0.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let f=Object.keys(r.lazy),d=[],m;for(let _ of f){if(o&&o.includes(_))continue;let T=LT({key:_,route:r,manifest:t,mapRouteProperties:a});T&&(d.push(T),_===e&&(m=T))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function D0(r){let e=r.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{t[e[u].route.id]=o}),t}async function uR(r){return r.matches.some(e=>e.route.unstable_middleware)?UT(r,!1,()=>D0(r),(e,t)=>({[t]:{type:"error",result:e}})):D0(r)}async function UT(r,e,t,a){let{matches:o,request:u,params:f,context:d}=r,m={handlerResult:void 0};try{let g=o.flatMap(T=>T.route.unstable_middleware?T.route.unstable_middleware.map(b=>[T.route.id,b]):[]),_=await zT({request:u,params:f,context:d},g,e,m,t);return e?_:m.handlerResult}catch(g){if(!m.middlewareError)throw g;let _=await a(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,_):_}}async function zT(r,e,t,a,o,u=0){let{request:f}=r;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let d=e[u];if(!d)return a.handlerResult=await o(),a.handlerResult;let[m,g]=d,_=!1,T,b=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await zT(r,e,t,a,o,u+1)};try{let I=await g({request:r.request,params:r.params,context:r.context},b);return _?I===void 0?T:I:b()}catch(I){throw a.middlewareError?a.middlewareError.error!==I&&(a.middlewareError={routeId:m,error:I}):a.middlewareError={routeId:m,error:I},I}}function jT(r,e,t,a,o){let u=LT({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),f=lR(a.route,Zn(t.method)?"action":"loader",e,r,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function up(r,e,t,a,o,u,f,d=null){let m=!1,g=jT(r,e,t,a,o);return{...a,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return m=!0,d?typeof _=="boolean"?jf(a,{...d,defaultShouldRevalidate:_}):jf(a,d):f},resolve(_){return m||f||_&&t.method==="GET"&&(a.route.lazy||a.route.loader)?fR({request:t,match:a,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:_,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function jo(r,e,t,a,o,u,f,d=null){return a.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:jT(r,e,t,m,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:up(r,e,t,m,u,f,!0,d))}async function cR(r,e,t,a,o,u){t.some(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(t.map(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware}));let f={request:e,params:t[0].params,context:o,matches:t},m=await r({...f,fetcherKey:a,unstable_runClientMiddleware:g=>{let _=f;return UT(_,!1,()=>g({..._,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(T,b)=>({[b]:{type:"error",result:T}}))}});try{await Promise.all(t.flatMap(g=>{var _,T;return[(_=g._lazyPromises)==null?void 0:_.handler,(T=g._lazyPromises)==null?void 0:T.route]}))}catch{}return m}async function fR({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,d,m=Zn(r.method),g=m?"action":"loader",_=T=>{let b,I=new Promise((k,H)=>b=H);d=()=>b(),r.signal.addEventListener("abort",d);let N=k=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):T({request:r,params:e.params,context:u},...k!==void 0?[k]:[]),G=(async()=>{try{return{type:"data",result:await(o?o(H=>N(H)):N())}}catch(k){return{type:"error",result:k}}})();return Promise.race([G,I])};try{let T=m?e.route.action:e.route.loader;if(t||a)if(T){let b,[I]=await Promise.all([_(T).catch(N=>{b=N}),t,a]);if(b!==void 0)throw b;f=I}else{await t;let b=m?e.route.action:e.route.loader;if(b)[f]=await Promise.all([_(b),a]);else if(g==="action"){let I=new URL(r.url),N=I.pathname+I.search;throw _r(405,{method:r.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)f=await _(T);else{let b=new URL(r.url),I=b.pathname+b.search;throw _r(404,{pathname:I})}}catch(T){return{type:"error",result:T}}finally{d&&r.signal.removeEventListener("abort",d)}return f}async function hR(r){var a,o,u,f,d,m;let{result:e,type:t}=r;if(HT(e)){let g;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(_){return{type:"error",error:_}}return t==="error"?{type:"error",error:new zf(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?V0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new zf(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Ru(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ru(e)?e.status:void 0}:V0(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function dR(r,e,t,a,o){let u=r.headers.get("Location");if(Xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hp.test(u)){let f=a.slice(0,a.findIndex(d=>d.route.id===t)+1);u=op(new URL(e.url),f,o,u),r.headers.set("Location",u)}return r}function x0(r,e,t){if(Hp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=br(o.pathname,t)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function Po(r,e,t,a){let o=r.createURL(BT(e)).toString(),u={signal:t};if(a&&Zn(a.formMethod)){let{formMethod:f,formEncType:d}=a;u.method=f.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(a.json)):d==="text/plain"?u.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?u.body=cp(a.formData):u.body=a.formData}return new Request(o,u)}function cp(r){let e=new URLSearchParams;for(let[t,a]of r.entries())e.append(t,typeof a=="string"?a:a.name);return e}function N0(r){let e=new FormData;for(let[t,a]of r.entries())e.append(t,a);return e}function mR(r,e,t,a=!1,o=!1){let u={},f=null,d,m=!1,g={},_=t&&Wn(t[1])?t[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let b=T.route.id,I=e[b];if(Xe(!Ds(I),"Cannot handle redirect results in processLoaderData"),Wn(I)){let N=I.error;if(_!==void 0&&(N=_,_=void 0),f=f||{},o)f[b]=N;else{let G=Cs(r,b);f[G.route.id]==null&&(f[G.route.id]=N)}a||(u[b]=kT),m||(m=!0,d=Ru(I.error)?I.error.status:500),I.headers&&(g[b]=I.headers)}else u[b]=I.data,I.statusCode&&I.statusCode!==200&&!m&&(d=I.statusCode),I.headers&&(g[b]=I.headers)}),_!==void 0&&t&&(f={[t[0]]:_},u[t[0]]=void 0),{loaderData:u,errors:f,statusCode:d||200,loaderHeaders:g}}function O0(r,e,t,a,o,u){let{loaderData:f,errors:d}=mR(e,t,a);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:_,controller:T}=m,b=u[g];if(Xe(b,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Wn(b)){let I=Cs(r.matches,_==null?void 0:_.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:b.error}),r.fetchers.delete(g)}else if(Ds(b))Xe(!1,"Unhandled fetcher revalidation redirect");else{let I=Ia(b.data);r.fetchers.set(g,I)}}),{loaderData:f,errors:d}}function M0(r,e,t,a){let o=Object.entries(e).filter(([,u])=>u!==kT).reduce((u,[f,d])=>(u[f]=d,u),{});for(let u of t){let f=u.route.id;if(!e.hasOwnProperty(f)&&r.hasOwnProperty(f)&&u.route.loader&&(o[f]=r[f]),a&&a.hasOwnProperty(f))break}return o}function P0(r){return r?Wn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Cs(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function k0(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _r(r,{pathname:e,routeId:t,method:a,type:o,message:u}={}){let f="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(f="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(f="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(f="Not Found",d=`No route matches URL "${e}"`):r===405&&(f="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new zf(r||500,f,new Error(d),!0)}function pf(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(Ds(o))return{key:a,result:o}}}function BT(r){let e=typeof r=="string"?Ka(r):r;return Ua({...e,hash:""})}function pR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function gR(r){return HT(r.result)&&eR.has(r.result.status)}function Wn(r){return r.type==="error"}function Ds(r){return(r&&r.type)==="redirect"}function V0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function HT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function yR(r){return JS.has(r.toUpperCase())}function Zn(r){return WS.has(r.toUpperCase())}function qp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function hu(r,e){let t=typeof e=="string"?Ka(e).search:e.search;if(r[r.length-1].route.index&&qp(t||""))return r[r.length-1];let a=OT(r);return a[a.length-1]}function L0(r){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:u,json:f}=r;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:t,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:f,text:void 0}}}function Km(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _R(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function uu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ia(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function ER(r,e){try{let t=r.sessionStorage.getItem(PT);if(t){let a=JSON.parse(t);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function TR(r,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{r.sessionStorage.setItem(PT,JSON.stringify(t))}catch(a){Vt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function bR(){let r,e,t=new Promise((a,o)=>{r=async u=>{a(u);try{await t}catch{}},e=async u=>{o(u);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var zs=U.createContext(null);zs.displayName="DataRouter";var Uu=U.createContext(null);Uu.displayName="DataRouterState";var Fp=U.createContext({isTransitioning:!1});Fp.displayName="ViewTransition";var qT=U.createContext(new Map);qT.displayName="Fetchers";var wR=U.createContext(null);wR.displayName="Await";var Vr=U.createContext(null);Vr.displayName="Navigation";var mh=U.createContext(null);mh.displayName="Location";var Lr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Gp=U.createContext(null);Gp.displayName="RouteError";function AR(r,{relative:e}={}){Xe(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=U.useContext(Vr),{hash:o,pathname:u,search:f}=zu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:ai([t,u])),a.createHref({pathname:d,search:f,hash:o})}function el(){return U.useContext(mh)!=null}function Ya(){return Xe(el(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(mh).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(r){U.useContext(Vr).static||U.useLayoutEffect(r)}function ph(){let{isDataRoute:r}=U.useContext(Lr);return r?UR():SR()}function SR(){Xe(el(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(zs),{basename:e,navigator:t}=U.useContext(Vr),{matches:a}=U.useContext(Lr),{pathname:o}=Ya(),u=JSON.stringify(hh(a)),f=U.useRef(!1);return GT(()=>{f.current=!0}),U.useCallback((m,g={})=>{if(Vt(f.current,FT),!f.current)return;if(typeof m=="number"){t.go(m);return}let _=dh(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ai([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}U.createContext(null);function RR(){let{matches:r}=U.useContext(Lr),e=r[r.length-1];return e?e.params:{}}function zu(r,{relative:e}={}){let{matches:t}=U.useContext(Lr),{pathname:a}=Ya(),o=JSON.stringify(hh(t));return U.useMemo(()=>dh(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function IR(r,e,t,a){Xe(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=U.useContext(Vr),{matches:f}=U.useContext(Lr),d=f[f.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let z=T&&T.path||"";$T(g,!T||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=Ya(),I;I=b;let N=I.pathname||"/",G=N;if(_!=="/"){let z=_.replace(/^\//,"").split("/");G="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:Ca(r,{pathname:G});return Vt(T||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Vt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),OR(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:ai([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:ai([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),f,t,a)}function CR(){let r=LR(),e=Ru(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,f)}var DR=U.createElement(CR,null),xR=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(Lr.Provider,{value:this.props.routeContext},U.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NR({routeContext:r,match:e,children:t}){let a=U.useContext(zs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Lr.Provider,{value:r},t)}function OR(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:T}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let T,b=!1,I=null,N=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||DR,f&&(d<0&&_===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):d===_&&(b=!0,N=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,_+1)),k=()=>{let H;return T?H=I:b?H=N:g.route.Component?H=U.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=m,U.createElement(NR,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?U.createElement(xR,{location:t.location,revalidation:t.revalidation,component:I,error:T,children:k(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):k()},null)}function $p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MR(r){let e=U.useContext(zs);return Xe(e,$p(r)),e}function PR(r){let e=U.useContext(Uu);return Xe(e,$p(r)),e}function kR(r){let e=U.useContext(Lr);return Xe(e,$p(r)),e}function Kp(r){let e=kR(r),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function VR(){return Kp("useRouteId")}function LR(){var a;let r=U.useContext(Gp),e=PR("useRouteError"),t=Kp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function UR(){let{router:r}=MR("useNavigate"),e=Kp("useNavigate"),t=U.useRef(!1);return GT(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{Vt(t.current,FT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var U0={};function $T(r,e,t){!e&&!U0[r]&&(U0[r]=!0,Vt(!1,t))}var z0={};function j0(r,e){!r&&!z0[e]&&(z0[e]=!0,console.warn(e))}function zR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:U.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:U.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:U.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var jR=["HydrateFallback","hydrateFallbackElement"],BR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function HR({router:r,flushSync:e}){let[t,a]=U.useState(r.state),[o,u]=U.useState(),[f,d]=U.useState({isTransitioning:!1}),[m,g]=U.useState(),[_,T]=U.useState(),[b,I]=U.useState(),N=U.useRef(new Map),G=U.useCallback((Q,{deletedFetchers:ne,flushSync:se,viewTransitionOpts:j})=>{Q.fetchers.forEach((S,R)=>{S.data!==void 0&&N.current.set(R,S.data)}),ne.forEach(S=>N.current.delete(S)),j0(se===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(j0(j==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!D){e&&se?e(()=>a(Q)):U.startTransition(()=>a(Q));return}if(e&&se){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let S=r.window.document.startViewTransition(()=>{e(()=>a(Q))});S.finished.finally(()=>{e(()=>{g(void 0),T(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>T(S));return}_?(m&&m.resolve(),_.skipTransition(),I({state:Q,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(u(Q),d({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[r.window,e,_,m]);U.useLayoutEffect(()=>r.subscribe(G),[r,G]),U.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new BR)},[f]),U.useEffect(()=>{if(m&&o&&r.window){let Q=o,ne=m.promise,se=r.window.document.startViewTransition(async()=>{U.startTransition(()=>a(Q)),await ne});se.finished.finally(()=>{g(void 0),T(void 0),u(void 0),d({isTransitioning:!1})}),T(se)}},[o,m,r.window]),U.useEffect(()=>{m&&o&&t.location.key===o.location.key&&m.resolve()},[m,_,t.location,o]),U.useEffect(()=>{!f.isTransitioning&&b&&(u(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),I(void 0))},[f.isTransitioning,b]);let k=U.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Q=>r.navigate(Q),push:(Q,ne,se)=>r.navigate(Q,{state:ne,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(Q,ne,se)=>r.navigate(Q,{replace:!0,state:ne,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[r]),H=r.basename||"/",z=U.useMemo(()=>({router:r,navigator:k,static:!1,basename:H}),[r,k,H]);return U.createElement(U.Fragment,null,U.createElement(zs.Provider,{value:z},U.createElement(Uu.Provider,{value:t},U.createElement(qT.Provider,{value:N.current},U.createElement(Fp.Provider,{value:f},U.createElement($R,{basename:H,location:t.location,navigationType:t.historyAction,navigator:k},U.createElement(qR,{routes:r.routes,future:r.future,state:t})))))),null)}var qR=U.memo(FR);function FR({routes:r,future:e,state:t}){return IR(r,void 0,t,e)}function GR({to:r,replace:e,state:t,relative:a}){Xe(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Vr);Vt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Lr),{pathname:f}=Ya(),d=ph(),m=dh(r,hh(u),f,a==="path"),g=JSON.stringify(m);return U.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function $R({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){Xe(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Ka(t));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:b="default"}=t,I=U.useMemo(()=>{let N=br(m,f);return N==null?null:{location:{pathname:N,search:g,hash:_,state:T,key:b},navigationType:a}},[f,m,g,_,T,b,a]);return Vt(I!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:U.createElement(Vr.Provider,{value:d},U.createElement(mh.Provider,{children:e,value:I}))}var Sf="get",Rf="application/x-www-form-urlencoded";function gh(r){return r!=null&&typeof r.tagName=="string"}function KR(r){return gh(r)&&r.tagName.toLowerCase()==="button"}function YR(r){return gh(r)&&r.tagName.toLowerCase()==="form"}function QR(r){return gh(r)&&r.tagName.toLowerCase()==="input"}function XR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function WR(r,e){return r.button===0&&(!e||e==="_self")&&!XR(r)}var gf=null;function ZR(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var JR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(r){return r!=null&&!JR.has(r)?(Vt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):r}function eI(r,e){let t,a,o,u,f;if(YR(r)){let d=r.getAttribute("action");a=d?br(d,e):null,t=r.getAttribute("method")||Sf,o=Ym(r.getAttribute("enctype"))||Rf,u=new FormData(r)}else if(KR(r)||QR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(a=m?br(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Sf,o=Ym(r.getAttribute("formenctype"))||Ym(d.getAttribute("enctype"))||Rf,u=new FormData(d,r),!ZR()){let{name:g,type:_,value:T}=r;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sf,a=null,o=Rf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:f}}function Yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function tI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rI(r,e,t){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await tI(u,t);return f.links?f.links():[]}return[]}));return oI(a.flat(1).filter(nI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B0(r,e,t,a,o,u){let f=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{var T;let _=a.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(f(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function iI(r,e,{includeHydrateFallback:t}={}){return aI(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aI(r){return[...new Set(r)]}function sI(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function oI(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(sI(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}var lI=new Set([100,101,204,205]);function uI(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&br(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function KT(){let r=U.useContext(zs);return Yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cI(){let r=U.useContext(Uu);return Yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qp=U.createContext(void 0);Qp.displayName="FrameworkContext";function YT(){let r=U.useContext(Qp);return Yp(r,"You must render this element inside a <HydratedRouter> element"),r}function fI(r,e){let t=U.useContext(Qp),[a,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=H=>{H.forEach(z=>{f(z.isIntersecting)})},k=new IntersectionObserver(G,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[r]),U.useEffect(()=>{if(a){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[a]);let I=()=>{o(!0)},N=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:cu(d,I),onBlur:cu(m,N),onMouseEnter:cu(g,I),onMouseLeave:cu(_,N),onTouchStart:cu(T,I)}]:[!1,b,{}]}function cu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function hI({page:r,...e}){let{router:t}=KT(),a=U.useMemo(()=>Ca(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?U.createElement(mI,{page:r,matches:a,...e}):null}function dI(r){let{manifest:e,routeModules:t}=YT(),[a,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return rI(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),a}function mI({page:r,matches:e,...t}){let a=Ya(),{manifest:o,routeModules:u}=YT(),{basename:f}=KT(),{loaderData:d,matches:m}=cI(),g=U.useMemo(()=>B0(r,e,m,o,a,"data"),[r,e,m,o,a]),_=U.useMemo(()=>B0(r,e,m,o,a,"assets"),[r,e,m,o,a]),T=U.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let N=new Set,G=!1;if(e.forEach(H=>{var Q;let z=o.routes[H.route.id];!z||!z.hasLoader||(!g.some(ne=>ne.route.id===H.route.id)&&H.route.id in d&&((Q=u[H.route.id])!=null&&Q.shouldRevalidate)||z.hasClientLoader?G=!0:N.add(H.route.id))}),N.size===0)return[];let k=uI(r,f);return G&&N.size>0&&k.searchParams.set("_routes",e.filter(H=>N.has(H.route.id)).map(H=>H.route.id).join(",")),[k.pathname+k.search]},[f,d,a,o,g,e,r,u]),b=U.useMemo(()=>iI(_,o),[_,o]),I=dI(_);return U.createElement(U.Fragment,null,T.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),I.map(({key:N,link:G})=>U.createElement("link",{key:N,...G})))}function pI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.5.2")}catch{}function gI(r,e){return iR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:SS({window:e==null?void 0:e.window}),hydrationData:yI(),routes:r,mapRouteProperties:zR,hydrationRouteProperties:jR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function yI(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:_I(r.errors)}),r}function _I(r){if(!r)return null;let e=Object.entries(r),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new zf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",t[a]=f}catch{}}if(t[a]==null){let u=new Error(o.message);u.stack="",t[a]=u}}else t[a]=o;return t}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Er=U.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...b},I){let{basename:N}=U.useContext(Vr),G=typeof g=="string"&&XT.test(g),k,H=!1;if(typeof g=="string"&&G&&(k=g,QT))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=br(M.pathname,N);M.origin===R.origin&&V!=null?g=V+M.search+M.hash:H=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=AR(g,{relative:o}),[Q,ne,se]=fI(a,b),j=bI(g,{replace:f,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:T});function D(R){e&&e(R),R.defaultPrevented||j(R)}let S=U.createElement("a",{...b,...se,href:k||z,onClick:H||u?e:D,ref:pI(I,ne),target:m,"data-discover":!G&&t==="render"?"true":void 0});return Q&&!G?U.createElement(U.Fragment,null,S,U.createElement(hI,{page:z})):S});Er.displayName="Link";var vI=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...g},_){let T=zu(f,{relative:g.relative}),b=Ya(),I=U.useContext(Uu),{navigator:N,basename:G}=U.useContext(Vr),k=I!=null&&II(T)&&d===!0,H=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,z=b.pathname,Q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(z=z.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&G&&(Q=br(Q,G)||Q);const ne=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=z===H||!o&&z.startsWith(H)&&z.charAt(ne)==="/",j=Q!=null&&(Q===H||!o&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),D={isActive:se,isPending:j,isTransitioning:k},S=se?e:void 0,R;typeof a=="function"?R=a(D):R=[a,se?"active":null,j?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return U.createElement(Er,{...g,"aria-current":S,className:R,ref:_,style:M,to:f,viewTransition:d},typeof m=="function"?m(D):m)});vI.displayName="NavLink";var EI=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:f=Sf,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...b},I)=>{let N=SI(),G=RI(d,{relative:g}),k=f.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&XT.test(d),z=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ne=Q.nativeEvent.submitter,se=(ne==null?void 0:ne.getAttribute("formmethod"))||f;N(ne||Q.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return U.createElement("form",{ref:I,method:k,action:G,onSubmit:a?m:z,...b,"data-discover":!H&&r==="render"?"true":void 0})});EI.displayName="Form";function TI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(r){let e=U.useContext(zs);return Xe(e,TI(r)),e}function bI(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=ph(),m=Ya(),g=zu(r,{relative:u});return U.useCallback(_=>{if(WR(_,e)){_.preventDefault();let T=t!==void 0?t:Ua(m)===Ua(g);d(r,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[m,d,g,t,a,e,r,o,u,f])}var wI=0,AI=()=>`__${String(++wI)}__`;function SI(){let{router:r}=WT("useSubmit"),{basename:e}=U.useContext(Vr),t=VR();return U.useCallback(async(a,o={})=>{let{action:u,method:f,encType:d,formData:m,body:g}=eI(a,e);if(o.navigate===!1){let _=o.fetcherKey||AI();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function RI(r,{relative:e}={}){let{basename:t}=U.useContext(Vr),a=U.useContext(Lr);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...zu(r||".",{relative:e})},f=Ya();if(r==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ai([t,u.pathname])),Ua(u)}function II(r,e={}){let t=U.useContext(Fp);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=WT("useViewTransitionState"),o=zu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=br(t.currentLocation.pathname,a)||t.currentLocation.pathname,f=br(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Uf(o.pathname,f)!=null||Uf(o.pathname,u)!=null}new TextEncoder;[...lI];var CI=CT();/**
 * react-router v7.5.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DI(r){return U.createElement(HR,{flushSync:CI.flushSync,...r})}var ZT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H0=ct.createContext&&ct.createContext(ZT),xI=["attr","size","title"];function NI(r,e){if(r==null)return{};var t=OI(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function OI(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function Bf(){return Bf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Bf.apply(this,arguments)}function q0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function Hf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q0(Object(t),!0).forEach(function(a){MI(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):q0(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function MI(r,e,t){return e=PI(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function PI(r){var e=kI(r,"string");return typeof e=="symbol"?e:e+""}function kI(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function JT(r){return r&&r.map((e,t)=>ct.createElement(e.tag,Hf({key:t},e.attr),JT(e.child)))}function js(r){return e=>ct.createElement(VI,Bf({attr:Hf({},r.attr)},e),JT(r.child))}function VI(r){var e=t=>{var{attr:a,size:o,title:u}=r,f=NI(r,xI),d=o||t.size||"1em",m;return t.className&&(m=t.className),r.className&&(m=(m?m+" ":"")+r.className),ct.createElement("svg",Bf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,f,{className:m,style:Hf(Hf({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&ct.createElement("title",null,u),r.children)};return H0!==void 0?ct.createElement(H0.Consumer,null,t=>e(t)):e(ZT)}function eb(r){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function tb(r){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function nb(r){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function F0(r){return js({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(r)}function ju(r){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(r)}function Bo({url:r,children:e}){return te.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:e})}const LI=()=>{};var G0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},UI=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],d=r[t++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[t++],f=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,d=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,I=g&63;m||(I=64,f||(b=64)),a.push(t[_],t[T],t[b],t[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):UI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new zI;const b=u<<2|d>>4;if(a.push(b),g!==64){const I=d<<4&240|g>>2;if(a.push(I),T!==64){const N=g<<6&192|T;a.push(N)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jI=function(r){const e=rb(r);return ib.encodeByteArray(e,!0)},qf=function(r){return jI(r).replace(/\./g,"")},ab=function(r){try{return ib.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>BI().__FIREBASE_DEFAULTS__,qI=()=>{if(typeof process>"u"||typeof G0>"u")return;const r=G0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ab(r[1]);return e&&JSON.parse(e)},yh=()=>{try{return LI()||HI()||qI()||FI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sb=r=>{var e,t;return(t=(e=yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},ob=r=>{const e=sb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},lb=()=>{var r;return(r=yh())===null||r===void 0?void 0:r.config},ub=r=>{var e;return(e=yh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[qf(JSON.stringify(t)),qf(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function KI(){var r;const e=(r=yh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function XI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WI(){const r=An();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZI(){return!KI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JI(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="FirebaseError";class mi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=t2,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?n2(u,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new mi(o,d,a)}}function n2(r,e){return r.replace(r2,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const r2=/\{\$([^}]+)}/g;function i2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Os(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],f=e[o];if($0(u)&&$0(f)){if(!Os(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function $0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function mu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function a2(r,e){const t=new s2(r,e);return t.subscribe.bind(t)}class s2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");o2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class za{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new GI;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u2(r){return r===Is?void 0:r}function c2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const h2={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},d2=et.INFO,m2={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},p2=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=m2[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=p2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const g2=(r,e)=>e.some(t=>r instanceof t);let K0,Y0;function y2(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fb=new WeakMap,fp=new WeakMap,hb=new WeakMap,Xm=new WeakMap,Wp=new WeakMap;function v2(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(Pa(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&fb.set(t,r)}).catch(()=>{}),Wp.set(e,r),e}function E2(r){if(fp.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});fp.set(r,e)}let hp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||hb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function T2(r){hp=r(hp)}function b2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Wm(this),e,...t);return hb.set(a,e.sort?e.sort():[e]),Pa(a)}:_2().includes(r)?function(...e){return r.apply(Wm(this),e),Pa(fb.get(this))}:function(...e){return Pa(r.apply(Wm(this),e))}}function w2(r){return typeof r=="function"?b2(r):(r instanceof IDBTransaction&&E2(r),g2(r,y2())?new Proxy(r,hp):r)}function Pa(r){if(r instanceof IDBRequest)return v2(r);if(Xm.has(r))return Xm.get(r);const e=w2(r);return e!==r&&(Xm.set(r,e),Wp.set(e,r)),e}const Wm=r=>Wp.get(r);function A2(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),d=Pa(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Pa(f.result),m.oldVersion,m.newVersion,Pa(f.transaction),m)}),t&&f.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const S2=["get","getKey","getAll","getAllKeys","count"],R2=["put","add","delete","clear"],Zm=new Map;function Q0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=R2.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||S2.includes(t)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Zm.set(e,u),u}T2(r=>({...r,get:(e,t,a)=>Q0(e,t)||r.get(e,t,a),has:(e,t)=>!!Q0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C2(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function C2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",X0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Xp("@firebase/app"),D2="@firebase/app-compat",x2="@firebase/analytics-compat",N2="@firebase/analytics",O2="@firebase/app-check-compat",M2="@firebase/app-check",P2="@firebase/auth",k2="@firebase/auth-compat",V2="@firebase/database",L2="@firebase/data-connect",U2="@firebase/database-compat",z2="@firebase/functions",j2="@firebase/functions-compat",B2="@firebase/installations",H2="@firebase/installations-compat",q2="@firebase/messaging",F2="@firebase/messaging-compat",G2="@firebase/performance",$2="@firebase/performance-compat",K2="@firebase/remote-config",Y2="@firebase/remote-config-compat",Q2="@firebase/storage",X2="@firebase/storage-compat",W2="@firebase/firestore",Z2="@firebase/vertexai",J2="@firebase/firestore-compat",eC="firebase",tC="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",nC={[dp]:"fire-core",[D2]:"fire-core-compat",[N2]:"fire-analytics",[x2]:"fire-analytics-compat",[M2]:"fire-app-check",[O2]:"fire-app-check-compat",[P2]:"fire-auth",[k2]:"fire-auth-compat",[V2]:"fire-rtdb",[L2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[z2]:"fire-fn",[j2]:"fire-fn-compat",[B2]:"fire-iid",[H2]:"fire-iid-compat",[q2]:"fire-fcm",[F2]:"fire-fcm-compat",[G2]:"fire-perf",[$2]:"fire-perf-compat",[K2]:"fire-rc",[Y2]:"fire-rc-compat",[Q2]:"fire-gcs",[X2]:"fire-gcs-compat",[W2]:"fire-fst",[J2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Map,rC=new Map,pp=new Map;function W0(r,e){try{r.container.addComponent(e)}catch(t){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ms(r){const e=r.name;if(pp.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,r);for(const t of Ff.values())W0(t,r);for(const t of rC.values())W0(t,r);return!0}function _h(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new Bu("app","Firebase",iC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=tC;function db(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw ka.create("bad-app-name",{appName:String(o)});if(t||(t=lb()),!t)throw ka.create("no-options");const u=Ff.get(o);if(u){if(Os(t,u.options)&&Os(a,u.config))return u;throw ka.create("duplicate-app",{appName:o})}const f=new f2(o);for(const m of pp.values())f.addComponent(m);const d=new aC(t,a,f);return Ff.set(o,d),d}function Zp(r=mp){const e=Ff.get(r);if(!e&&r===mp&&lb())return db();if(!e)throw ka.create("no-app",{appName:r});return e}function si(r,e,t){var a;let o=(a=nC[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(d.join(" "));return}Ms(new za(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",oC=1,Iu="firebase-heartbeat-store";let Jm=null;function mb(){return Jm||(Jm=A2(sC,oC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Iu)}catch(t){console.warn(t)}}}}).catch(r=>{throw ka.create("idb-open",{originalErrorMessage:r.message})})),Jm}async function lC(r){try{const t=(await mb()).transaction(Iu),a=await t.objectStore(Iu).get(pb(r));return await t.done,a}catch(e){if(e instanceof mi)Gi.warn(e.message);else{const t=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(t.message)}}}async function Z0(r,e){try{const a=(await mb()).transaction(Iu,"readwrite");await a.objectStore(Iu).put(e,pb(r)),await a.done}catch(t){if(t instanceof mi)Gi.warn(t.message);else{const a=ka.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(a.message)}}}function pb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1024,cC=30;class fC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dC(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=J0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>cC){const f=mC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Gi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J0(),{heartbeatsToSend:a,unsentEntries:o}=hC(this._heartbeatsCache.heartbeats),u=qf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Gi.warn(t),""}}}function J0(){return new Date().toISOString().substring(0,10)}function hC(r,e=uC){const t=[];let a=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),eE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),eE(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JI()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function eE(r){return qf(JSON.stringify({version:2,heartbeats:r})).length}function mC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r){Ms(new za("platform-logger",e=>new I2(e),"PRIVATE")),Ms(new za("heartbeat",e=>new fC(e),"PRIVATE")),si(dp,X0,r),si(dp,X0,"esm2017"),si("fire-js","")}pC("");var gC="firebase",yC="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(gC,yC,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,gb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function R(){}R.prototype=S.prototype,D.D=S.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(M,V,B){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return S.prototype[V].apply(M,C)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)M[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=D.g[0],R=D.g[1],V=D.g[2];var B=D.g[3],C=S+(B^R&(V^B))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=B+(V^S&(R^V))+M[1]+3905402710&4294967295,B=S+(C<<12&4294967295|C>>>20),C=V+(R^B&(S^R))+M[2]+606105819&4294967295,V=B+(C<<17&4294967295|C>>>15),C=R+(S^V&(B^S))+M[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(B^R&(V^B))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(V^S&(R^V))+M[5]+1200080426&4294967295,B=S+(C<<12&4294967295|C>>>20),C=V+(R^B&(S^R))+M[6]+2821735955&4294967295,V=B+(C<<17&4294967295|C>>>15),C=R+(S^V&(B^S))+M[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(B^R&(V^B))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(V^S&(R^V))+M[9]+2336552879&4294967295,B=S+(C<<12&4294967295|C>>>20),C=V+(R^B&(S^R))+M[10]+4294925233&4294967295,V=B+(C<<17&4294967295|C>>>15),C=R+(S^V&(B^S))+M[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(B^R&(V^B))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(V^S&(R^V))+M[13]+4254626195&4294967295,B=S+(C<<12&4294967295|C>>>20),C=V+(R^B&(S^R))+M[14]+2792965006&4294967295,V=B+(C<<17&4294967295|C>>>15),C=R+(S^V&(B^S))+M[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(V^B&(R^V))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^V&(S^R))+M[6]+3225465664&4294967295,B=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(B^S))+M[11]+643717713&4294967295,V=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(V^B))+M[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(V^B&(R^V))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^V&(S^R))+M[10]+38016083&4294967295,B=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(B^S))+M[15]+3634488961&4294967295,V=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(V^B))+M[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(V^B&(R^V))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^V&(S^R))+M[14]+3275163606&4294967295,B=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(B^S))+M[3]+4107603335&4294967295,V=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(V^B))+M[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(V^B&(R^V))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^V&(S^R))+M[2]+4243563512&4294967295,B=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(B^S))+M[7]+1735328473&4294967295,V=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(V^B))+M[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(R^V^B)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^V)+M[8]+2272392833&4294967295,B=S+(C<<11&4294967295|C>>>21),C=V+(B^S^R)+M[11]+1839030562&4294967295,V=B+(C<<16&4294967295|C>>>16),C=R+(V^B^S)+M[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(R^V^B)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^V)+M[4]+1272893353&4294967295,B=S+(C<<11&4294967295|C>>>21),C=V+(B^S^R)+M[7]+4139469664&4294967295,V=B+(C<<16&4294967295|C>>>16),C=R+(V^B^S)+M[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(R^V^B)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^V)+M[0]+3936430074&4294967295,B=S+(C<<11&4294967295|C>>>21),C=V+(B^S^R)+M[3]+3572445317&4294967295,V=B+(C<<16&4294967295|C>>>16),C=R+(V^B^S)+M[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(R^V^B)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^V)+M[12]+3873151461&4294967295,B=S+(C<<11&4294967295|C>>>21),C=V+(B^S^R)+M[15]+530742520&4294967295,V=B+(C<<16&4294967295|C>>>16),C=R+(V^B^S)+M[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(V^(R|~B))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~V))+M[7]+1126891415&4294967295,B=S+(C<<10&4294967295|C>>>22),C=V+(S^(B|~R))+M[14]+2878612391&4294967295,V=B+(C<<15&4294967295|C>>>17),C=R+(B^(V|~S))+M[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=S+(V^(R|~B))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~V))+M[3]+2399980690&4294967295,B=S+(C<<10&4294967295|C>>>22),C=V+(S^(B|~R))+M[10]+4293915773&4294967295,V=B+(C<<15&4294967295|C>>>17),C=R+(B^(V|~S))+M[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=S+(V^(R|~B))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~V))+M[15]+4264355552&4294967295,B=S+(C<<10&4294967295|C>>>22),C=V+(S^(B|~R))+M[6]+2734768916&4294967295,V=B+(C<<15&4294967295|C>>>17),C=R+(B^(V|~S))+M[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=S+(V^(R|~B))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~V))+M[11]+3174756917&4294967295,B=S+(C<<10&4294967295|C>>>22),C=V+(S^(B|~R))+M[2]+718787259&4294967295,V=B+(C<<15&4294967295|C>>>17),C=R+(B^(V|~S))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+B&4294967295}a.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var R=S-this.blockSize,M=this.B,V=this.h,B=0;B<S;){if(V==0)for(;B<=R;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<S;)if(M[V++]=D.charCodeAt(B++),V==this.blockSize){o(this,M),V=0;break}}else for(;B<S;)if(M[V++]=D[B++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var R=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=R&255,R/=256;for(this.u(D),D=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)D[R++]=this.g[S]>>>M&255;return D};function u(D,S){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=S(D)}function f(D,S){this.h=S;for(var R=[],M=!0,V=D.length-1;0<=V;V--){var B=D[V]|0;M&&B==S||(R[V]=B,M=!1)}this.g=R}var d={};function m(D){return-128<=D&&128>D?u(D,function(S){return new f([S|0],0>S?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return k(g(-D));for(var S=[],R=1,M=0;D>=R;M++)S[M]=D/R|0,R*=4294967296;return new f(S,0)}function _(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return k(_(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),M=T,V=0;V<D.length;V+=8){var B=Math.min(8,D.length-V),C=parseInt(D.substring(V,V+B),S);8>B?(B=g(Math.pow(S,B)),M=M.j(B).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var T=m(0),b=m(1),I=m(16777216);r=f.prototype,r.m=function(){if(G(this))return-k(this).m();for(var D=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);D+=(0<=M?M:4294967296+M)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(G(this))return"-"+k(this).toString(D);for(var S=g(Math.pow(D,6)),R=this,M="";;){var V=ne(R,S).g;R=H(R,V.j(S));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,N(R))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function G(D){return D.h==-1}r.l=function(D){return D=H(this,D),G(D)?-1:N(D)?0:1};function k(D){for(var S=D.g.length,R=[],M=0;M<S;M++)R[M]=~D.g[M];return new f(R,~D.h).add(b)}r.abs=function(){return G(this)?k(this):this},r.add=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0,V=0;V<=S;V++){var B=M+(this.i(V)&65535)+(D.i(V)&65535),C=(B>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=C>>>16,B&=65535,C&=65535,R[V]=C<<16|B}return new f(R,R[R.length-1]&-2147483648?-1:0)};function H(D,S){return D.add(k(S))}r.j=function(D){if(N(this)||N(D))return T;if(G(this))return G(D)?k(this).j(k(D)):k(k(this).j(D));if(G(D))return k(this.j(k(D)));if(0>this.l(I)&&0>D.l(I))return g(this.m()*D.m());for(var S=this.g.length+D.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<D.g.length;V++){var B=this.i(M)>>>16,C=this.i(M)&65535,Be=D.i(V)>>>16,Fe=D.i(V)&65535;R[2*M+2*V]+=C*Fe,z(R,2*M+2*V),R[2*M+2*V+1]+=B*Fe,z(R,2*M+2*V+1),R[2*M+2*V+1]+=C*Be,z(R,2*M+2*V+1),R[2*M+2*V+2]+=B*Be,z(R,2*M+2*V+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new f(R,0)};function z(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function Q(D,S){this.g=D,this.h=S}function ne(D,S){if(N(S))throw Error("division by zero");if(N(D))return new Q(T,T);if(G(D))return S=ne(k(D),S),new Q(k(S.g),k(S.h));if(G(S))return S=ne(D,k(S)),new Q(k(S.g),S.h);if(30<D.g.length){if(G(D)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var R=b,M=S;0>=M.l(D);)R=se(R),M=se(M);var V=j(R,1),B=j(M,1);for(M=j(M,2),R=j(R,2);!N(M);){var C=B.add(M);0>=C.l(D)&&(V=V.add(R),B=C),M=j(M,1),R=j(R,1)}return S=H(D,V.j(S)),new Q(V,S)}for(V=T;0<=D.l(S);){for(R=Math.max(1,Math.floor(D.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=g(R),C=B.j(S);G(C)||0<C.l(D);)R-=M,B=g(R),C=B.j(S);N(B)&&(B=b),V=V.add(B),D=H(D,C)}return new Q(V,D)}r.A=function(D){return ne(this,D).h},r.and=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},r.or=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},r.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function se(D){for(var S=D.g.length+1,R=[],M=0;M<S;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function j(D,S){var R=S>>5;S%=32;for(var M=D.g.length-R,V=[],B=0;B<M;B++)V[B]=0<S?D.i(B+R)>>>S|D.i(B+R+1)<<32-S:D.i(B+R);return new f(V,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,gb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,Va=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yb,pu,_b,If,gp,vb,Eb,Tb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var $=c[A];if(!($ in v))break e;v=v[$]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,$={next:function(){if(!A&&v<c.length){var ee=v++;return{value:y(ee,c[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,A),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,b.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,$,ee){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[$].apply(A,me)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function k(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(m(A)){const $=c.length||0,ee=A.length||0;c.length=$+ee;for(let me=0;me<ee;me++)c[$+me]=A[me]}else c.push(A)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var se=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function j(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function S(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(v in A)c[v]=A[v];for(let ee=0;ee<R.length;ee++)v=R[ee],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function C(){var c=Ue;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,v){const A=Fe.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Fe=new H(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ge=!1,Ue=new Be,O=()=>{const c=d.Promise.resolve(void 0);he=()=>{c.then(ae)}};var ae=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){B(v)}var y=Fe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function He(c,y){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ne(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&He.aa.h.call(this)}}N(He,fe);var Ie={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),_t=0;function er(c,y,v,A,$){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=$,this.key=++_t,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gn(c){this.src=c,this.g={},this.h=0}gn.prototype.add=function(c,y,v,A,$){var ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);var me=gi(c,y,A,$);return-1<me?(y=c[me],v||(y.fa=!1)):(y=new er(y,this.src,ee,!!A,$),y.fa=v,c.push(y)),y};function Ur(c,y){var v=y.type;if(v in c.g){var A=c.g[v],$=Array.prototype.indexOf.call(A,y,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(A,$,1),ee&&(It(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gi(c,y,v,A){for(var $=0;$<c.length;++$){var ee=c[$];if(!ee.da&&ee.listener==y&&ee.capture==!!v&&ee.ha==A)return $}return-1}var Sn="closure_lm_"+(1e6*Math.random()|0),Za={};function Ks(c,y,v,A,$){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)Ks(c,y[ee],v,A,$);return null}return v=Zi(v),c&&c[Lt]?c.K(y,v,g(A)?!!A.capture:!1,$):Rn(c,y,v,!1,A,$)}function Rn(c,y,v,A,$,ee){if(!y)throw Error("Invalid event type");var me=g($)?!!$.capture:!!$,rt=tr(c);if(rt||(c[Sn]=rt=new gn(c)),v=rt.add(y,v,A,me,ee),v.proxy)return v;if(A=ol(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)Ae||($=me),$===void 0&&($=!1),c.addEventListener(y.toString(),A,$);else if(c.attachEvent)c.attachEvent(yi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ol(){function c(v){return y.call(c.src,c.listener,v)}const y=wr;return c}function Ja(c,y,v,A,$){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Ja(c,y[ee],v,A,$);else A=g(A)?!!A.capture:!!A,v=Zi(v),c&&c[Lt]?(c=c.i,y=String(y).toString(),y in c.g&&(ee=c.g[y],v=gi(ee,v,A,$),-1<v&&(It(ee[v]),Array.prototype.splice.call(ee,v,1),ee.length==0&&(delete c.g[y],c.h--)))):c&&(c=tr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gi(y,v,A,$)),(v=-1<c?y[c]:null)&&Xi(v))}function Xi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])Ur(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(yi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=tr(y))?(Ur(v,c),v.h==0&&(v.src=null,y[Sn]=null)):It(c)}}}function yi(c){return c in Za?Za[c]:Za[c]="on"+c}function wr(c,y){if(c.da)c=!0;else{y=new He(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Xi(c),c=v.call(A,y)}return c}function tr(c){return c=c[Sn],c instanceof gn?c:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zi(c){return typeof c=="function"?c:(c[Wi]||(c[Wi]=function(y){return c.handleEvent(y)}),c[Wi])}function ft(){pe.call(this),this.i=new gn(this),this.M=this,this.F=null}N(ft,pe),ft.prototype[Lt]=!0,ft.prototype.removeEventListener=function(c,y,v,A){Ja(this,c,y,v,A)};function Ge(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new fe(y,c);else if(y instanceof fe)y.target=y.target||c;else{var $=y;y=new fe(A,c),M(y,$)}if($=!0,v)for(var ee=v.length-1;0<=ee;ee--){var me=y.g=v[ee];$=yn(me,A,!0,y)&&$}if(me=y.g=c,$=yn(me,A,!0,y)&&$,$=yn(me,A,!1,y)&&$,v)for(ee=0;ee<v.length;ee++)me=y.g=v[ee],$=yn(me,A,!1,y)&&$}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)It(v[A]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ft.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function yn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,ee=0;ee<y.length;++ee){var me=y[ee];if(me&&!me.da&&me.capture==v){var rt=me.listener,$t=me.ha||me.src;me.fa&&Ur(c.i,me),$=rt.call($t,A)!==!1&&$}}return $&&!A.defaultPrevented}function Ut(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ys(c){c.g=Ut(()=>{c.g=null,c.i&&(c.i=!1,Ys(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nr extends pe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(c){pe.call(this),this.h=c,this.g={}}N(zr,pe);var jr=[];function Br(c){j(c.g,function(y,v){this.g.hasOwnProperty(v)&&Xi(y)},c),c.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Br(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,_i=d.JSON.parse,rr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ji(){}Ji.prototype.h=null;function vi(c){return c.h||(c.h=c.i())}function es(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){fe.call(this,"d")}N(Ar,fe);function ea(){fe.call(this,"c")}N(ea,fe);var In={},Hr=null;function qr(){return Hr=Hr||new ft}In.La="serverreachability";function ta(c){fe.call(this,In.La,c)}N(ta,fe);function P(c){const y=qr();Ge(y,new ta(y))}In.STAT_EVENT="statevent";function F(c,y){fe.call(this,In.STAT_EVENT,c),this.stat=y}N(F,fe);function Y(c){const y=qr();Ge(y,new F(y,c))}In.Ma="timingevent";function oe(c,y){fe.call(this,In.Ma,c),this.size=y}N(oe,fe);function de(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function De(c,y,v,A,$,ee){c.info(function(){if(c.g)if(ee)for(var me="",rt=ee.split("&"),$t=0;$t<rt.length;$t++){var it=rt[$t].split("=");if(1<it.length){var Jt=it[0];it=it[1];var Kt=Jt.split("_");me=2<=Kt.length&&Kt[1]=="type"?me+(Jt+"="+it+"&"):me+(Jt+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+y+`
`+v+`
`+me})}function ve(c,y,v,A,$,ee,me){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+y+`
`+v+`
`+ee+" "+me})}function be(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(c,v)+(A?" "+A:"")})}function Se(c,y){c.info(function(){return"TIMEOUT: "+y})}_e.prototype.info=function(){};function Ne(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var $=A[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<$.length;me++)$[me]=""}}}}return jn(v)}catch{return y}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function dt(){}N(dt,Ji),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},We=new dt;function lt(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Ye={},ar={};function Gt(c,y,v){c.L=1,c.v=rs(qn(y)),c.m=v,c.P=!0,Cn(c,null)}function Cn(c,y){c.F=Date.now(),Bn(c),c.A=qn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),hl(v.i,"t",A),c.C=0,v=c.j.J,c.h=new nt,c.g=cc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new nr(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var $="readystatechange";Array.isArray($)||($&&(jr[0]=$.toString()),$=jr);for(var ee=0;ee<$.length;ee++){var me=Ks(v,$[ee],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),P(),De(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const y=this.M;y&&cr(c)==3?y.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=cr(this.g);var y=this.g.Ba();const Ii=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=Ii?P(3):P(2)),_n(this);var v=this.g.Z();this.X=v;t:if(an(this)){var A=nc(this.g);c="";var $=A.length,ee=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Dn(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(ee&&y==$-1)});A.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=v==200,ve(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,$t=this.g;if((rt=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(rt)){var it=rt;break t}}it=null}if(v=it)be(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,v);else{this.o=!1,this.s=3,Y(12),Le(this),Dn(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<me.length;)if(on=Fr(this,me),on==ar){Kt==4&&(this.s=4,Y(14),v=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Ye){this.s=4,Y(15),be(this.i,this.l,me,"[Invalid Chunk]"),v=!1;break}else be(this.i,this.l,on,null),zt(this,on);if(an(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||me.length!=0||this.h.h||(this.s=1,Y(16),v=!1),this.o=this.o&&v,!v)be(this.i,this.l,me,"[Invalid Chunked Response]"),Le(this),Dn(this);else if(0<me.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),fs(Jt),Jt.M=!0,Y(11))}}else be(this.i,this.l,me,null),zt(this,me);Kt==4&&Le(this),this.o&&!this.J&&(Kt==4?oc(this.j,this):(this.o=!1,Bn(this)))}else $h(this.g),v==400&&0<me.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Le(this),Dn(this)}}}catch{}finally{}};function an(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fr(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ar:(v=Number(y.substring(v,A)),isNaN(v)?Ye:(A+=1,A+v>y.length?ar:(y=y.slice(A,A+v),c.C=A+v,y)))}lt.prototype.cancel=function(){this.J=!0,Le(this)};function Bn(c){c.S=Date.now()+c.I,na(c,c.I)}function na(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=de(b(c.ba,c),y)}function _n(c){c.B&&(d.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Se(this.i,this.A),this.L!=2&&(P(),Y(17)),Le(this),this.s=2,Dn(this)):na(this,this.S-c)};function Dn(c){c.j.G==0||c.J||oc(c.j,c)}function Le(c){_n(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Br(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function zt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||sr(v.h,c))){if(!c.K&&sr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ro(v),to(v);else break e;yl(v),Y(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=de(b(v.Za,v),6e3));if(1>=wt(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ri(v,11)}else if((c.K||v.g==c)&&ro(v),!z(y))for($=v.Da.g.parse(y),y=0;y<$.length;y++){let it=$[y];if(v.T=it[0],it=it[1],v.G==2)if(it[0]=="c"){v.K=it[1],v.ia=it[2];const Jt=it[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const Kt=it[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const Ii=it[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(A=1.5*Ii,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const on=c.g;if(on){const Zr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var ee=A.h;ee.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ei(ee,ee.h),ee.h=null))}if(A.D){const vl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(A.ya=vl,vt(A.I,A.D,vl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var me=c;if(A.qa=uc(A,A.J?A.ia:null,A.W),me.K){sn(A.h,me);var rt=me,$t=A.L;$t&&(rt.I=$t),rt.B&&(_n(rt),Bn(rt)),A.g=me}else ac(A);0<v.i.length&&no(v)}else it[0]!="stop"&&it[0]!="close"||Ri(v,7);else v.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ri(v,7):pl(v):it[0]!="noop"&&v.l&&v.l.ta(it),v.v=0)}}P(4)}catch{}}var Hn=class{constructor(c,y){this.g=c,this.map=y}};function Pn(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wt(c){return c.h?1:c.g?c.g.size:0}function sr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ei(c,y){c.g?c.g.add(y):c.h=y}function sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pn.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ll(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function Hh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function ul(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Qs(c),A=Hh(c),$=A.length,ee=0;ee<$;ee++)y.call(void 0,A[ee],v&&v[ee],c)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),$=null;if(0<=A){var ee=c[v].substring(0,A);$=c[v].substring(A+1)}else ee=c[v];y(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function jt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jt){this.h=c.h,ns(this,c.j),this.o=c.o,this.g=c.g,ra(this,c.s),this.l=c.l;var y=c.i,v=new bi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ti(this,v),this.m=c.m}else c&&(y=String(c).match(ts))?(this.h=!1,ns(this,y[1]||"",!0),this.o=or(y[2]||""),this.g=or(y[3]||"",!0),ra(this,y[4]),this.l=or(y[5]||"",!0),Ti(this,y[6]||"",!0),this.m=or(y[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}jt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(is(y,cl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(is(y,cl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(is(v,v.charAt(0)=="/"?Fh:fl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",is(v,Xs)),c.join("")};function qn(c){return new jt(c)}function ns(c,y,v){c.j=v?or(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ra(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ti(c,y,v){y instanceof bi?(c.i=y,ec(c.i,c.h)):(v||(y=is(y,Gh)),c.i=new bi(y,c.h))}function vt(c,y,v){c.i.set(y,v)}function rs(c){return vt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function or(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Ju),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cl=/[#\/\?@]/g,fl=/[#\?:]/g,Fh=/[#\?]/g,Gh=/[#\?@]/g,Xs=/#/g;function bi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function lr(c){c.g||(c.g=new Map,c.h=0,c.i&&qh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=bi.prototype,r.add=function(c,y){lr(this),this.i=null,c=$r(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function wi(c,y){lr(c),y=$r(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ai(c,y){return lr(c),y=$r(c,y),c.g.has(y)}r.forEach=function(c,y){lr(this),this.g.forEach(function(v,A){v.forEach(function($){c.call(y,$,A,this)},this)},this)},r.na=function(){lr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const $=c[A];for(let ee=0;ee<$.length;ee++)v.push(y[A])}return v},r.V=function(c){lr(this);let y=[];if(typeof c=="string")Ai(this,c)&&(y=y.concat(this.g.get($r(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return lr(this),this.i=null,c=$r(this,c),Ai(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function hl(c,y,v){wi(c,y),0<v.length&&(c.i=null,c.g.set($r(c,y),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const ee=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var $=ee;me[A]!==""&&($+="="+encodeURIComponent(String(me[A]))),c.push($)}}return this.i=c.join("&")};function $r(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ec(c,y){y&&!c.j&&(lr(c),c.i=null,c.g.forEach(function(v,A){var $=A.toLowerCase();A!=$&&(wi(this,A),hl(this,$,v))},c)),c.j=y}function as(c,y){const v=new _e;if(d.Image){const A=new Image;A.onload=I(ur,v,"TestLoadImage: loaded",!0,y,A),A.onerror=I(ur,v,"TestLoadImage: error",!1,y,A),A.onabort=I(ur,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(ur,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Sr(c,y){const v=new _e,A=new AbortController,$=setTimeout(()=>{A.abort(),ur(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(ee=>{clearTimeout($),ee.ok?ur(v,"TestPingServer: ok",!0,y):ur(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),ur(v,"TestPingServer: error",!1,y)})}function ur(c,y,v,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(v)}catch{}}function ss(){this.g=new rr}function Kr(c,y,v){const A=v||"";try{ul(c,function($,ee){let me=$;g($)&&(me=jn($)),y.push(A+ee+"="+encodeURIComponent(me))})}catch($){throw y.push(A+"type="+encodeURIComponent("_badmap")),$}}function ia(c){this.l=c.Ub||null,this.j=c.eb||!1}N(ia,Ji),ia.prototype.g=function(){return new Si(this.l,this.j)},ia.prototype.i=function(c){return function(){return c}}({});function Si(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Si,ft),r=Si.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Qr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Yr(this):Qr(this),this.readyState==3&&dl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yr(this))},r.Qa=function(c){this.g&&(this.response=c,Yr(this))},r.ga=function(){this.g&&Yr(this)};function Yr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ml(c){let y="";return j(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Zt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=ml(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):vt(c,y,v))}function mt(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(mt,ft);var Ws=/^https?$/i,os=["POST","PUT"];r=mt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?vi(this.o):vi(We),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ee){tc(this,ee);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)v.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())v.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(os,y,void 0))||A||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of v)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(ee){tc(this,ee)}};function tc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Zs(c),Xr(c)}function Zs(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),mt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(c){if(c.h&&typeof f<"u"&&(!c.v[1]||cr(c)!=4||c.Z()!=2)){if(c.u&&cr(c)==4)Ut(c.Ea,0,c);else if(Ge(c,"readystatechange"),cr(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=me===0){var $=String(c.D).match(ts)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),A=!Ws.test($?$.toLowerCase():"")}v=A}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var ee=2<cr(c)?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.Z()+"]",Zs(c)}}finally{Xr(c)}}}}function Xr(c,y){if(c.g){ls(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=A}catch{}}}function ls(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function cr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_i(y)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(c){const y={};c=(c.g&&2<=cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(z(c[A]))continue;var v=V(c[A]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ee=y[$]||[];y[$]=ee,ee.push(v)}D(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function eo(c){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,c),this.cb=us("retryDelaySeedMs",1e4,c),this.Wa=us("forwardChannelMaxRetries",2,c),this.wa=us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pn(c&&c.concurrentRequestLimit),this.Da=new ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=eo.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){Y(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=uc(this,null,this.W),no(this)};function pl(c){if(rc(c),c.G==3){var y=c.U++,v=qn(c.I);if(vt(v,"SID",c.K),vt(v,"RID",y),vt(v,"TYPE","terminate"),cs(c,v),y=new lt(c,c.j,y),y.L=2,y.v=rs(qn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=cc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Bn(y)}lc(c)}function to(c){c.g&&(fs(c),c.g.cancel(),c.g=null)}function rc(c){to(c),c.u&&(d.clearTimeout(c.u),c.u=null),ro(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function no(c){if(!Gr(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||O(),ge||(he(),ge=!0),Ue.add(y,c),c.B=0}}function Kh(c,y){return wt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=de(b(c.Ga,c,y),_l(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new lt(this,this.j,c);let ee=this.o;if(this.S&&(ee?(ee=S(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ic(this,$,y),v=qn(this.I),vt(v,"RID",c),vt(v,"CVER",22),this.D&&vt(v,"X-HTTP-Session-Id",this.D),cs(this,v),ee&&(this.O?y="headers="+encodeURIComponent(String(ml(ee)))+"&"+y:this.m&&Zt(v,this.m,ee)),Ei(this.h,$),this.Ua&&vt(v,"TYPE","init"),this.P?(vt(v,"$req",y),vt(v,"SID","null"),$.T=!0,Gt($,v,null)):Gt($,v,y),this.G=2}}else this.G==3&&(c?gl(this,c):this.i.length==0||Gr(this.h)||gl(this))};function gl(c,y){var v;y?v=y.l:v=c.U++;const A=qn(c.I);vt(A,"SID",c.K),vt(A,"RID",v),vt(A,"AID",c.T),cs(c,A),c.m&&c.o&&Zt(A,c.m,c.o),v=new lt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ic(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ei(c.h,v),Gt(v,A,y)}function cs(c,y){c.H&&j(c.H,function(v,A){vt(y,A,v)}),c.l&&ul({},function(v,A){vt(y,A,v)})}function ic(c,y,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;e:{var $=c.i;let ee=-1;for(;;){const me=["count="+v];ee==-1?0<v?(ee=$[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let rt=!0;for(let $t=0;$t<v;$t++){let it=$[$t].g;const Jt=$[$t].map;if(it-=ee,0>it)ee=Math.max(0,$[$t].g-100),rt=!1;else try{Kr(Jt,me,"req"+it+"_")}catch{A&&A(Jt)}}if(rt){A=me.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function ac(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||O(),ge||(he(),ge=!0),Ue.add(y,c),c.v=0}}function yl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=de(b(c.Fa,c),_l(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=de(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),to(this),sc(this))};function fs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function sc(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=qn(c.qa);vt(y,"RID","rpc"),vt(y,"SID",c.K),vt(y,"AID",c.T),vt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&vt(y,"TO",c.ja),vt(y,"TYPE","xmlhttp"),cs(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=rs(qn(y)),v.m=null,v.P=!0,Cn(v,c)}r.Za=function(){this.C!=null&&(this.C=null,to(this),yl(this),Y(19))};function ro(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function oc(c,y){var v=null;if(c.g==y){ro(c),fs(c),c.g=null;var A=2}else if(sr(c.h,y))v=y.D,sn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;A=qr(),Ge(A,new oe(A,v)),no(c)}else ac(c);else if($=y.s,$==3||$==0&&0<y.X||!(A==1&&Kh(c,y)||A==2&&yl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),$){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function _l(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),A=c.Xa;const $=!A;A=new jt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ns(A,"https"),rs(A),$?as(A.toString(),v):Sr(A.toString(),v)}else Y(2);c.G=0,c.l&&c.l.sa(y),lc(c),rc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const y=ll(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function uc(c,y,v){var A=v instanceof jt?qn(v):new jt(v);if(A.g!="")y&&(A.g=y+"."+A.g),ra(A,A.s);else{var $=d.location;A=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var ee=new jt(null);A&&ns(ee,A),y&&(ee.g=y),$&&ra(ee,$),v&&(ee.l=v),A=ee}return v=c.D,y=c.ya,v&&y&&vt(A,v,y),vt(A,"VER",c.la),cs(c,A),A}function cc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new mt(new ia({eb:v})):new mt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}r=fc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function io(){}io.prototype.g=function(c,y){return new xn(c,y)};function xn(c,y){ft.call(this),this.g=new eo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wr(this)}N(xn,ft),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){pl(this.g)},xn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new Hn(y.Ya++,c)),y.G==3&&no(y)},xn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,xn.aa.N.call(this)};function hc(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(hc,Ar);function dc(){ea.call(this),this.status=1}N(dc,ea);function Wr(c){this.g=c}N(Wr,fc),Wr.prototype.ua=function(){Ge(this.g,"a")},Wr.prototype.ta=function(c){Ge(this.g,new hc(c))},Wr.prototype.sa=function(c){Ge(this.g,new dc)},Wr.prototype.ra=function(){Ge(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Tb=function(){return new io},Eb=function(){return qr()},vb=In,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,If=we,Oe.COMPLETE="complete",_b=Oe,es.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",ft.prototype.listen=ft.prototype.K,pu=es,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,yb=mt}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",rE="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Xp("@firebase/firestore");function ko(){return Ps.logLevel}function ye(r,...e){if(Ps.logLevel<=et.DEBUG){const t=e.map(Jp);Ps.debug(`Firestore (${tl}): ${r}`,...t)}}function $i(r,...e){if(Ps.logLevel<=et.ERROR){const t=e.map(Jp);Ps.error(`Firestore (${tl}): ${r}`,...t)}}function $o(r,...e){if(Ps.logLevel<=et.WARN){const t=e.map(Jp);Ps.warn(`Firestore (${tl}): ${r}`,...t)}}function Jp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,bb(r,a,t)}function bb(r,e,t){let a=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw $i(a),new Error(a)}function pt(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||bb(e,o,a)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class vC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,t(m)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(pt(typeof a.accessToken=="string",31837,{l:a}),new wb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class TC{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bC{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new TC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const a=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new iE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=AC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function Ke(r,e){return r<e?-1:r>e?1:0}function yp(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return Ke(a,o);{const u=Ab(),f=SC(u.encode(aE(r,t)),u.encode(aE(e,t)));return f!==0?f:Ke(a,o)}}t+=a>65535?2:1}return Ke(r.length,e.length)}function aE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function SC(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ke(r[t],e[t]);return Ke(r.length,e.length)}function Ko(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-62135596800,oE=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*oE);return new Xt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sE)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Xt(0,0))}static max(){return new ze(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class ii{constructor(e,t,a){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&ke(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=ii.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ke(e.length,t.length)}static compareSegments(e,t){const a=ii.isNumericId(e),o=ii.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?ii.extractNumericId(e).compare(ii.extractNumericId(t)):yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class Rt extends ii{construct(e,t,a){return new Rt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ii{construct(e,t,a){return new hn(e,t,a)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new hn([lE])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let f=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(a+=d,o++):(u(),o++)}if(u(),f)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Rt.fromString(e))}static fromName(e){return new Ce(Rt.fromString(e).popFirst(5))}static empty(){return new Ce(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function IC(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(a===1e9?new Xt(t+1,0):new Xt(t,a));return new ja(o,Ce.empty(),e)}function CC(r){return new ja(r.readTime,r.key,Cu)}class ja{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ja(ze.min(),Ce.empty(),Cu)}static max(){return new ja(ze.max(),Ce.empty(),Cu)}}function DC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(r){if(r.code!==ue.FAILED_PRECONDITION||r.message!==xC)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,a)=>{t(e)})}static reject(e){return new ce((t,a)=>{a(e)})}static waitFor(e){return new ce((t,a)=>{let o=0,u=0,f=!1;e.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&t()},m=>a(m))}),f=!0,u===o&&t()})}static or(e){let t=ce.resolve(!1);for(const a of e)t=t.next(o=>o?ce.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,u)=>{a.push(t.call(this,o,u))}),this.waitFor(a)}static mapArray(e,t){return new ce((a,o)=>{const u=e.length,f=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next(_=>{f[g]=_,++d,d===u&&a(f)},_=>o(_))}})}static doWhile(e,t){return new ce((a,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):a()};u()})}}function OC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>t.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function Eh(r){return r==null}function Gf(r){return r===0&&1/r==-1/0}function MC(r){return typeof r=="number"&&Number.isInteger(r)&&!Gf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="";function PC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=uE(e)),e=kC(r.get(t),e);return uE(e)}function kC(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Rb:t+="";break;default:t+=u}}return t}function uE(r){return r+Rb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Hs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ib(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new fn(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,a,o,u){return this}insert(e,t,a){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new Wt(hn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Cb("Invalid base64 string: "+u):u}}(e);return new pn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const VC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(pt(!!r,39018),typeof r=="string"){let e=0;const t=VC.exec(r);if(pt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ha(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="server_timestamp",xb="__type__",Nb="__previous_value__",Ob="__local_write_time__";function tg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[xb])===null||t===void 0?void 0:t.stringValue)===Db}function Th(r){const e=r.mapValue.fields[Nb];return tg(e)?Th(e):e}function Du(r){const e=Ba(r.mapValue.fields[Ob].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t,a,o,u,f,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const $f="(default)";class xu{constructor(e,t){this.projectId=e,this.database=t||$f}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="__type__",UC="__max__",vf={mapValue:{}},Pb="__vector__",Kf="value";function qa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:jC(r)?9007199254740991:zC(r)?10:11:ke(28295,{value:r})}function hi(r,e){if(r===e)return!0;const t=qa(r);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Du(r).isEqual(Du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ba(o.timestampValue),d=Ba(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ha(o.bytesValue).isEqual(Ha(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=kt(o.doubleValue),d=kt(u.doubleValue);return f===d?Gf(f)===Gf(d):isNaN(f)&&isNaN(d)}return!1}(r,e);case 9:return Ko(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(cE(f)!==cE(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!hi(f[m],d[m])))return!1;return!0}(r,e);default:return ke(52216,{left:r})}}function Nu(r,e){return(r.values||[]).find(t=>hi(t,e))!==void 0}function Yo(r,e){if(r===e)return 0;const t=qa(r),a=qa(e);if(t!==a)return Ke(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const d=kt(u.integerValue||u.doubleValue),m=kt(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,e);case 3:return hE(r.timestampValue,e.timestampValue);case 4:return hE(Du(r),Du(e));case 5:return yp(r.stringValue,e.stringValue);case 6:return function(u,f){const d=Ha(u),m=Ha(f);return d.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const d=u.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Ke(d[g],m[g]);if(_!==0)return _}return Ke(d.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const d=Ke(kt(u.latitude),kt(f.latitude));return d!==0?d:Ke(kt(u.longitude),kt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var d,m,g,_;const T=u.fields||{},b=f.fields||{},I=(d=T[Kf])===null||d===void 0?void 0:d.arrayValue,N=(m=b[Kf])===null||m===void 0?void 0:m.arrayValue,G=Ke(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return G!==0?G:dE(I,N)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===vf.mapValue&&f===vf.mapValue)return 0;if(u===vf.mapValue)return 1;if(f===vf.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=f.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const b=yp(m[T],_[T]);if(b!==0)return b;const I=Yo(d[m[T]],g[_[T]]);if(I!==0)return I}return Ke(m.length,_.length)}(r.mapValue,e.mapValue);default:throw ke(23264,{Pe:t})}}function hE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const t=Ba(r),a=Ba(e),o=Ke(t.seconds,a.seconds);return o!==0?o:Ke(t.nanos,a.nanos)}function dE(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=Yo(t[o],a[o]);if(u)return u}return Ke(t.length,a.length)}function Qo(r){return _p(r)}function _p(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=Ba(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ha(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ce.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=_p(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${_p(t.fields[f])}`;return o+"}"}(r.mapValue):ke(61005,{value:r})}function Cf(r){switch(qa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(r);return e?16+Cf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Cf(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Hs(a.fields,(u,f)=>{o+=u.length+Cf(f)}),o}(r.mapValue);default:throw ke(13486,{value:r})}}function mE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function vp(r){return!!r&&"integerValue"in r}function ng(r){return!!r&&"arrayValue"in r}function pE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Df(r){return!!r&&"mapValue"in r}function zC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mb])===null||t===void 0?void 0:t.stringValue)===Pb}function vu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hs(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=vu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function jC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(t)}setAll(e){let t=hn.emptyPath(),a={},o=[];e.forEach((f,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,a,o),a={},o=[],t=d.popLast()}f?a[d.lastSegment()]=vu(f):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Hs(t,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new vr(vu(this.value))}}function kb(r){const e=[];return Hs(r.fields,(t,a)=>{const o=new hn([t]);if(Df(a)){const u=kb(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,a,o,u,f,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(e){return new wn(e,0,ze.min(),ze.min(),ze.min(),vr.empty(),0)}static newFoundDocument(e,t,a,o){return new wn(e,1,t,ze.min(),a,o,0)}static newNoDocument(e,t){return new wn(e,2,t,ze.min(),ze.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,ze.min(),ze.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.position=e,this.inclusive=t}}function yE(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Ce.comparator(Ce.fromName(f.referenceValue),t.key):a=Yo(f,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function _E(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function BC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{}class Ft extends Vb{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new qC(e,t,a):t==="array-contains"?new $C(e,a):t==="in"?new KC(e,a):t==="not-in"?new YC(e,a):t==="array-contains-any"?new QC(e,a):new Ft(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new FC(e,a):new GC(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yo(t,this.value)):t!==null&&qa(this.value)===qa(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends Vb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Mr(e,t)}matches(e){return Lb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Lb(r){return r.op==="and"}function Ub(r){return HC(r)&&Lb(r)}function HC(r){for(const e of r.filters)if(e instanceof Mr)return!1;return!0}function Ep(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+Qo(r.value);if(Ub(r))return r.filters.map(e=>Ep(e)).join(",");{const e=r.filters.map(t=>Ep(t)).join(",");return`${r.op}(${e})`}}function zb(r,e){return r instanceof Ft?function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&hi(a.value,o.value)}(r,e):r instanceof Mr?function(a,o){return o instanceof Mr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,d)=>u&&zb(f,o.filters[d]),!0):!1}(r,e):void ke(19439)}function jb(r){return r instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(r):r instanceof Mr?function(t){return t.op.toString()+" {"+t.getFilters().map(jb).join(" ,")+"}"}(r):"Filter"}class qC extends Ft{constructor(e,t,a){super(e,t,a),this.key=Ce.fromName(a.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class FC extends Ft{constructor(e,t){super(e,"in",t),this.keys=Bb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GC extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=Bb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Bb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Ce.fromName(a.referenceValue))}class $C extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ng(t)&&Nu(t.arrayValue,this.value)}}class KC extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nu(this.value.arrayValue,t)}}class YC extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nu(this.value.arrayValue,t)}}class QC extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Nu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t=null,a=[],o=[],u=null,f=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Ie=null}}function vE(r,e=null,t=[],a=[],o=null,u=null,f=null){return new XC(r,e,t,a,o,u,f)}function rg(r){const e=je(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Ep(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Qo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Qo(a)).join(",")),e.Ie=t}return e.Ie}function ig(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!BC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!zb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_E(r.startAt,e.startAt)&&_E(r.endAt,e.endAt)}function Tp(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t=null,a=[],o=[],u=null,f="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WC(r,e,t,a,o,u,f,d){return new il(r,e,t,a,o,u,f,d)}function bh(r){return new il(r)}function EE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Hb(r){return r.collectionGroup!==null}function Eu(r){const e=je(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Wt(hn.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Ou(u,a))}),t.has(hn.keyField().canonicalString())||e.Ee.push(new Ou(hn.keyField(),a))}return e.Ee}function oi(r){const e=je(r);return e.de||(e.de=ZC(e,Eu(r))),e.de}function ZC(r,e){if(r.limitType==="F")return vE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ou(o.field,u)});const t=r.endAt?new Yf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Yf(r.startAt.position,r.startAt.inclusive):null;return vE(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function bp(r,e){const t=r.filters.concat([e]);return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function wp(r,e,t){return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wh(r,e){return ig(oi(r),oi(e))&&r.limitType===e.limitType}function qb(r){return`${rg(oi(r))}|lt:${r.limitType}`}function Vo(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>jb(o)).join(", ")}]`),Eh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Qo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Qo(o)).join(",")),`Target(${a})`}(oi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ce.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Eu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,d,m){const g=yE(f,d,m);return f.inclusive?g<=0:g<0}(a.startAt,Eu(a),o)||a.endAt&&!function(f,d,m){const g=yE(f,d,m);return f.inclusive?g>=0:g>0}(a.endAt,Eu(a),o))}(r,e)}function JC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Fb(r){return(e,t)=>{let a=!1;for(const o of Eu(r)){const u=eD(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function eD(r,e,t){const a=r.field.isKeyField()?Ce.comparator(e.key,t.key):function(u,f,d){const m=f.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Yo(m,g):ke(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ke(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(t,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new xt(Ce.comparator);function Ki(){return tD}const Gb=new xt(Ce.comparator);function gu(...r){let e=Gb;for(const t of r)e=e.insert(t.key,t);return e}function $b(r){let e=Gb;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function xs(){return Tu()}function Kb(){return Tu()}function Tu(){return new qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const nD=new xt(Ce.comparator),rD=new Wt(Ce.comparator);function tt(...r){let e=rD;for(const t of r)e=e.add(t);return e}const iD=new Wt(Ke);function aD(){return iD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function Yb(r){return{integerValue:""+r}}function sD(r,e){return MC(e)?Yb(e):ag(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function oD(r,e,t){return r instanceof Qf?function(o,u){const f={fields:{[xb]:{stringValue:Db},[Ob]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=Th(u)),u&&(f.fields[Nb]=u),{mapValue:f}}(t,e):r instanceof Mu?Xb(r,e):r instanceof Pu?Wb(r,e):function(o,u){const f=Qb(o,u),d=TE(f)+TE(o.Re);return vp(f)&&vp(o.Re)?Yb(d):ag(o.serializer,d)}(r,e)}function lD(r,e,t){return r instanceof Mu?Xb(r,e):r instanceof Pu?Wb(r,e):t}function Qb(r,e){return r instanceof Xf?function(a){return vp(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Qf extends Sh{}class Mu extends Sh{constructor(e){super(),this.elements=e}}function Xb(r,e){const t=Zb(e);for(const a of r.elements)t.some(o=>hi(o,a))||t.push(a);return{arrayValue:{values:t}}}class Pu extends Sh{constructor(e){super(),this.elements=e}}function Wb(r,e){let t=Zb(e);for(const a of r.elements)t=t.filter(o=>!hi(o,a));return{arrayValue:{values:t}}}class Xf extends Sh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function TE(r){return kt(r.integerValue||r.doubleValue)}function Zb(r){return ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uD(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Mu&&o instanceof Mu||a instanceof Pu&&o instanceof Pu?Ko(a.elements,o.elements,hi):a instanceof Xf&&o instanceof Xf?hi(a.Re,o.Re):a instanceof Qf&&o instanceof Qf}(r.transform,e.transform)}class cD{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rh{}function Jb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sg(r.key,Or.none()):new qu(r.key,r.data,Or.none());{const t=r.data,a=vr.empty();let o=new Wt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Fs(r.key,a,new Dr(o.toArray()),Or.none())}}function fD(r,e,t){r instanceof qu?function(o,u,f){const d=o.value.clone(),m=wE(o.fieldTransforms,u,f.transformResults);d.setAll(m),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Fs?function(o,u,f){if(!xf(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=wE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(ew(o)),m.setAll(d),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function bu(r,e,t,a){return r instanceof qu?function(u,f,d,m){if(!xf(u.precondition,f))return d;const g=u.value.clone(),_=AE(u.fieldTransforms,m,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof Fs?function(u,f,d,m){if(!xf(u.precondition,f))return d;const g=AE(u.fieldTransforms,m,f),_=f.data;return _.setAll(ew(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,a):function(u,f,d){return xf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(r,e,t)}function hD(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=Qb(a.transform,o||null);u!=null&&(t===null&&(t=vr.empty()),t.set(a.field,u))}return t||null}function bE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ko(a,o,(u,f)=>uD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class qu extends Rh{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends Rh{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ew(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function wE(r,e,t){const a=new Map;pt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,d=e.data.field(u.field);a.set(u.field,lD(f,d,t[o]))}return a}function AE(r,e,t){const a=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);a.set(o.field,oD(u,f,e))}return a}class sg extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dD extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&fD(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=bu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=bu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Kb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=t.has(o.key)?null:d;const m=Jb(f,d);m!==null&&a.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(ze.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,a)=>bE(t,a))&&Ko(this.baseMutations,e.baseMutations,(t,a)=>bE(t,a))}}class og{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){pt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return nD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new og(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,st;function yD(r){switch(r){case ue.OK:return ke(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return ke(15467,{code:r})}}function tw(r){if(r===void 0)return $i("GRPC error has no .code"),ue.UNKNOWN;switch(r){case qt.OK:return ue.OK;case qt.CANCELLED:return ue.CANCELLED;case qt.UNKNOWN:return ue.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ue.INTERNAL;case qt.UNAVAILABLE:return ue.UNAVAILABLE;case qt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case qt.NOT_FOUND:return ue.NOT_FOUND;case qt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case qt.ABORTED:return ue.ABORTED;case qt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case qt.DATA_LOSS:return ue.DATA_LOSS;default:return ke(39323,{code:r})}}(st=qt||(qt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Va([4294967295,4294967295],0);function SE(r){const e=Ab().encode(r),t=new gb;return t.update(e),new Uint8Array(t.digest())}function RE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Va([t,a],0),new Va([o,u],0)]}class lg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Va.fromNumber(this.pe)}we(e,t,a){let o=e.add(t.multiply(Va.fromNumber(a)));return o.compare(_D)===1&&(o=new Va([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=SE(e),[a,o]=RE(t);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new lg(u,o,t);return a.forEach(d=>f.insert(d)),f}insert(e){if(this.pe===0)return;const t=SE(e),[a,o]=RE(t);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Ih(ze.min(),o,new xt(Ke),Ki(),tt())}}class Fu{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Fu(a,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,a,o){this.De=e,this.removedTargetIds=t,this.key=a,this.ve=o}}class nw{constructor(e,t){this.targetId=e,this.Ce=t}}class rw{constructor(e,t,a=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class IE{constructor(){this.Fe=0,this.Me=CE(),this.xe=pn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),a=tt();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:ke(38017,{changeType:u})}}),new Fu(this.xe,this.Oe,e,t,a)}Qe(){this.Ne=!1,this.Me=CE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vD{constructor(e){this.ze=e,this.je=new Map,this.He=Ki(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new xt(Ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const a=this.rt(t);switch(e.state){case 0:this.it(t)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(t);break;case 3:this.it(t)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),a.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((a,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,a=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(Tp(u))if(a===0){const f=new Ce(u.path);this.tt(t,f,wn.newNoDocument(f,ze.min()))}else pt(a===1,20013,{expectedCount:a});else{const f=this.ut(t);if(f!==a){const d=this.ct(e),m=d?this.lt(d,e,f):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let f,d;try{f=Ha(a).toUint8Array()}catch(m){if(m instanceof Cb)return $o("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new lg(f,o,u)}catch(m){return $o(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,a){return t.Ce.count===a-this.Tt(e,t.targetId)?0:2}Tt(e,t){const a=this.ze.getRemoteKeysForTarget(t);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,f)=>{const d=this._t(f);if(d){if(u.current&&Tp(d.target)){const m=new Ce(d.target.path);this.Et(m).has(f)||this.dt(f,m)||this.tt(f,m,wn.newNoDocument(m,e))}u.Le&&(t.set(f,u.qe()),u.Qe())}});let a=tt();this.Ye.forEach((u,f)=>{let d=!0;f.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Ih(e,t,this.Ze,this.He,a);return this.He=Ki(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new xt(Ke),o}et(e,t){if(!this.it(e))return;const a=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,a),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),a&&(this.He=this.He.insert(t,a))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new IE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Wt(Ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Wt(Ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new IE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new xt(Ce.comparator)}function CE(){return new xt(Ce.comparator)}const ED={asc:"ASCENDING",desc:"DESCENDING"},TD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class wD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ap(r,e){return r.useProto3Json||Eh(e)?e:{value:e}}function Wf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AD(r,e){return Wf(r,e.toTimestamp())}function li(r){return pt(!!r,49232),ze.fromTimestamp(function(t){const a=Ba(t);return new Xt(a.seconds,a.nanos)}(r))}function ug(r,e){return Sp(r,e).canonicalString()}function Sp(r,e){const t=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function aw(r){const e=Rt.fromString(r);return pt(cw(e),10190,{key:e.toString()}),e}function Rp(r,e){return ug(r.databaseId,e.path)}function ep(r,e){const t=aw(e);if(t.get(1)!==r.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(ow(t))}function sw(r,e){return ug(r.databaseId,e)}function SD(r){const e=aw(r);return e.length===4?Rt.emptyPath():ow(e)}function Ip(r){return new Rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ow(r){return pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function DE(r,e,t){return{name:Rp(r,e),fields:t.value.mapValue.fields}}function RD(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ke(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(pt(_===void 0||typeof _=="string",58123),pn.fromBase64String(_||"")):(pt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),pn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,d=f&&function(g){const _=g.code===void 0?ue.UNKNOWN:tw(g.code);return new Ee(_,g.message||"")}(f);t=new rw(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ep(r,a.document.name),u=li(a.document.updateTime),f=a.document.createTime?li(a.document.createTime):ze.min(),d=new vr({mapValue:{fields:a.document.fields}}),m=wn.newFoundDocument(o,u,f,d),g=a.targetIds||[],_=a.removedTargetIds||[];t=new Nf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ep(r,a.document),u=a.readTime?li(a.readTime):ze.min(),f=wn.newNoDocument(o,u),d=a.removedTargetIds||[];t=new Nf([],d,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ep(r,a.document),u=a.removedTargetIds||[];t=new Nf([],u,o,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new gD(o,u),d=a.targetId;t=new nw(d,f)}}return t}function ID(r,e){let t;if(e instanceof qu)t={update:DE(r,e.key,e.value)};else if(e instanceof sg)t={delete:Rp(r,e.key)};else if(e instanceof Fs)t={update:DE(r,e.key,e.data),updateMask:VD(e.fieldMask)};else{if(!(e instanceof dD))return ke(16599,{ft:e.type});t={verify:Rp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const d=f.transform;if(d instanceof Qf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xf)return{fieldPath:f.field.canonicalString(),increment:d.Re};throw ke(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:AD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ke(27497)}(r,e.precondition)),t}function CD(r,e){return r&&r.length>0?(pt(e!==void 0,14353),r.map(t=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(ze.min())&&(f=li(u)),new cD(f,o.transformResults||[])}(t,e))):[]}function DD(r,e){return{documents:[sw(r,e.path)]}}function xD(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=sw(r,o);const u=function(g){if(g.length!==0)return uw(Mr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:Lo(b.field),direction:MD(b.dir)}}(_))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const d=Ap(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function ND(r){let e=SD(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){pt(a===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(T){const b=lw(T);return b instanceof Mr&&Ub(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(T){return T.map(b=>function(N){return new Ou(Uo(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Eh(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(T){const b=!!T.before,I=T.values||[];return new Yf(I,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,I=T.values||[];return new Yf(I,b)}(t.endAt)),WC(e,o,f,u,d,"F",m,g)}function OD(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Uo(t.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(t.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Uo(t.unaryFilter.field);return Ft.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(r):r.fieldFilter!==void 0?function(t){return Ft.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Mr.create(t.compositeFilter.filters.map(a=>lw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(t.compositeFilter.op))}(r):ke(30097,{filter:r})}function MD(r){return ED[r]}function PD(r){return TD[r]}function kD(r){return bD[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function Uo(r){return hn.fromServerFormat(r.fieldPath)}function uw(r){return r instanceof Ft?function(t){if(t.op==="=="){if(gE(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(pE(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gE(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(pE(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:PD(t.op),value:t.value}}}(r):r instanceof Mr?function(t){const a=t.getFilters().map(o=>uw(o));return a.length===1?a[0]:{compositeFilter:{op:kD(t.op),filters:a}}}(r):ke(54877,{filter:r})}function VD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,a,o,u=ze.min(),f=ze.min(),d=pn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.wt=e}}function UD(r){const e=ND({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.yn=new jD}addToCollectionParentIndex(e,t){return this.yn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(ja.min())}updateCollectionGroup(e,t,a){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class jD{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Wt(Rt.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(fw,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Xo(0)}static ir(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",BD=1048576;function OE([r,e],[t,a]){const o=Ke(r,t);return o===0?Ke(e,a):o}class HD{constructor(e){this.cr=e,this.buffer=new Wt(OE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();OE(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(NE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?ye(NE,"Ignoring IndexedDB error during garbage collection: ",t):await nl(t)}await this.Ir(3e5)})}}class FD{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(vh.le);const a=new HD(t);return this.Er.forEachTarget(e,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Er.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(xE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let a,o,u,f,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(e,a,t))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(g=Date.now(),ko()<=et.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function GD(r,e){return new FD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.changes=new qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ce.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&bu(a.mutation,o,Dr.empty(),Xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,t,a=tt()){const o=xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(u=>{let f=gu();return u.forEach((d,m)=>{f=f.insert(d,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const a=xs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,tt()))}populateOverlays(e,t,a){const o=[];return a.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,d)=>{t.set(f,d)})})}computeViews(e,t,a,o){let u=Ki();const f=Tu(),d=function(){return Tu()}();return t.forEach((m,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Fs)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),bu(_.mutation,g,_.mutation.getFieldMask(),Xt.now())):f.set(g.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,_)=>f.set(g,_)),t.forEach((g,_)=>{var T;return d.set(g,new KD(_,(T=f.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const a=Tu();let o=new xt((f,d)=>f-d),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const d of f)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=a.get(m)||Dr.empty();_=d.applyToLocalView(g,_),a.set(m,_);const T=(o.get(d.batchId)||tt()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=Kb();_.forEach(b=>{if(!u.has(b)){const I=Jb(t.get(b),a.get(b));I!==null&&T.set(b,I),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ce.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(f){return Ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ce.resolve(xs());let d=Cu,m=u;return f.next(g=>ce.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{m=m.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,tt())).next(_=>({batchId:d,changes:$b(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(a=>{let o=gu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let f=gu();return this.indexManager.getCollectionParents(e,u).next(d=>ce.forEach(d,m=>{const g=function(T,b){return new il(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(_=>{_.forEach((T,b)=>{f=f.insert(T,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o))).next(f=>{u.forEach((m,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,wn.newInvalidDocument(_)))});let d=gu();return f.forEach((m,g)=>{const _=u.get(m);_!==void 0&&bu(_.mutation,g,Dr.empty(),Xt.now()),Ah(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:UD(o.bundledQuery),readTime:li(o.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.overlays=new xt(Ce.comparator),this.Or=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const a=xs();return ce.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,u)=>{this.St(e,t,u)}),ce.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),ce.resolve()}getOverlaysForCollection(e,t,a){const o=xs(),u=t.length+1,f=new Ce(t.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new xt((g,_)=>g-_);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=xs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=xs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ce.resolve(d)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new pD(t,a));let u=this.Or.get(t);u===void 0&&(u=tt(),this.Or.set(t,u)),this.Or.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Nr=new Wt(rn.Br),this.Lr=new Wt(rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const a=new rn(e,t);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Qr(new rn(e,t))}$r(e,t){e.forEach(a=>this.removeReference(a,t))}Ur(e){const t=new Ce(new Rt([])),a=new rn(t,e),o=new rn(t,e+1),u=[];return this.Lr.forEachInRange([a,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ce(new Rt([])),a=new rn(t,e),o=new rn(t,e+1);let u=tt();return this.Lr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new rn(e,0),a=this.Nr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ce.comparator(e.key,t.key)||Ke(e.Gr,t.Gr)}static kr(e,t){return Ke(e.Gr,t.Gr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Wt(rn.Br)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mD(u,t,a,o);this.mutationQueue.push(f);for(const d of o)this.zr=this.zr.add(new rn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(f)}lookupMutationBatch(e,t){return ce.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Hr(a),u=o<0?0:o;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?eg:this.Jn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new rn(t,0),o=new rn(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],f=>{const d=this.jr(f.Gr);u.push(d)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Wt(Ke);return t.forEach(o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],d=>{a=a.add(d.Gr)})}),ce.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;Ce.isDocumentKey(u)||(u=u.child(""));const f=new rn(new Ce(u),0);let d=new Wt(Ke);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Gr)),!0)},f),ce.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(a=>{const o=this.jr(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){pt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return ce.forEach(t.mutations,o=>{const u=new rn(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=a})}Xn(e){}containsKey(e,t){const a=new rn(t,0),o=this.zr.firstAfterOrEqual(a);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.Zr=e,this.docs=function(){return new xt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,f=this.Zr(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ce.resolve(a?a.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let a=Ki();return t.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))}),ce.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=Ki();const f=t.path,d=new Ce(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||DC(CC(_),a)<=0||(o.has(_.key)||Ah(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ce.resolve(u)}getAllFromCollectionGroup(e,t,a,o){ke(9500)}Xr(e,t){return ce.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new ex(this)}getSize(e){return ce.resolve(this.size)}}class ex extends $D{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(a)}),ce.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.persistence=e,this.ei=new qs(t=>rg(t),ig),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ti=0,this.ni=new cg,this.targetCount=0,this.ri=Xo.rr()}forEachTarget(e,t){return this.ei.forEach((a,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ti&&(this.ti=t),ce.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.ar(t),ce.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.ei.forEach((f,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ce.waitFor(u).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const a=this.ei.get(t)||null;return ce.resolve(a)}addMatchingKeys(e,t,a){return this.ni.qr(t,a),ce.resolve()}removeMatchingKeys(e,t,a){this.ni.$r(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ni.Wr(t);return ce.resolve(a)}containsKey(e,t){return ce.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.ii={},this.overlays={},this.si=new vh(0),this.oi=!1,this.oi=!0,this._i=new WD,this.referenceDelegate=e(this),this.ai=new tx(this),this.indexManager=new zD,this.remoteDocumentCache=function(o){return new JD(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new LD(t),this.ci=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ii[e.toKey()];return a||(a=new ZD(t,this.referenceDelegate),this.ii[e.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,a){ye("MemoryPersistence","Starting transaction:",e);const o=new nx(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,t){return ce.or(Object.values(this.ii).map(a=>()=>a.containsKey(e,t)))}}class nx extends NC{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ti=new cg,this.Ii=null}static Ei(e){return new fg(e)}get di(){if(this.Ii)return this.Ii;throw ke(60996)}addReference(e,t,a){return this.Ti.addReference(a,t),this.di.delete(a.toString()),ce.resolve()}removeReference(e,t,a){return this.Ti.removeReference(a,t),this.di.add(a.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,a=>{const o=Ce.fromPath(a);return this.Ai(e,o).next(u=>{u||t.removeEntry(o,ze.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ce.or([()=>ce.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Zf{constructor(e,t){this.persistence=e,this.Ri=new qs(a=>PC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=GD(this,t)}static Ei(e,t){return new Zf(e,t)}li(){}hi(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}Vr(e){let t=0;return this.Ar(e,a=>{t++}).next(()=>t)}Ar(e,t){return ce.forEach(this.Ri,(a,o)=>this.gr(e,a,o).next(u=>u?ce.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,t).next(d=>{d||(a++,u.removeEntry(f,ze.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.Ri.set(a,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,a){return this.Ri.set(a,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ce.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}gr(e,t,a){return ce.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ce.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.ls=a,this.hs=o}static Ps(e,t){let a=tt(),o=tt();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ZI()?8:OC(An())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.Rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,t,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new rx;return this.fs(e,t,f).next(d=>{if(u.result=d,this.Is)return this.gs(e,t,f,d.size)})}).next(()=>u.result)}gs(e,t,a,o){return a.documentReadCount<this.Es?(ko()<=et.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ce.resolve()):(ko()<=et.DEBUG&&ye("QueryEngine","Query:",Vo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ko()<=et.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(t))):ce.resolve())}Rs(e,t){if(EE(t))return ce.resolve(null);let a=oi(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),a=oi(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=tt(...u);return this.As.getDocuments(e,f).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.ps(t,d);return this.ys(t,g,f,m.readTime)?this.Rs(e,wp(t,null,"F")):this.ws(e,g,t,m)}))})))}Vs(e,t,a,o){return EE(t)||o.isEqual(ze.min())?ce.resolve(null):this.As.getDocuments(e,a).next(u=>{const f=this.ps(t,u);return this.ys(t,f,a,o)?ce.resolve(null):(ko()<=et.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.ws(e,f,t,IC(o,Cu)).next(d=>d))})}ps(e,t){let a=new Wt(Fb(e));return t.forEach((o,u)=>{Ah(e,u)&&(a=a.add(u))}),a}ys(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,t,a){return ko()<=et.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.As.getDocumentsMatchingQuery(e,t,ja.min(),a)}ws(e,t,a,o){return this.As.getDocumentsMatchingQuery(e,a,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",ax=3e8;class sx{constructor(e,t,a,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new xt(Ke),this.Ds=new qs(u=>rg(u),ig),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(a)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function ox(r,e,t,a){return new sx(r,e,t,a)}async function dw(r,e){const t=je(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],d=[];let m=tt();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(a,m).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:d}))})})}function lx(r,e){const t=je(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,b=T.keys();let I=ce.resolve();return b.forEach(N=>{I=I.next(()=>_.getEntry(m,N)).next(G=>{const k=g.docVersions.get(N);pt(k!==null,48541),G.version.compareTo(k)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,a,e,u).next(()=>u.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=tt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function mw(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function ux(r,e){const t=je(r),a=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((_,T)=>{const b=o.get(T);if(!b)return;d.push(t.ai.removeMatchingKeys(u,_.removedDocuments,T).next(()=>t.ai.addMatchingKeys(u,_.addedDocuments,T)));let I=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(pn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,a)),o=o.insert(T,I),function(G,k,H){return G.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=ax?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,I,_)&&d.push(t.ai.updateTargetData(u,I))});let m=Ki(),g=tt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(cx(u,f,e.documentUpdates).next(_=>{m=_.xs,g=_.Os})),!a.isEqual(ze.min())){const _=t.ai.getLastRemoteSnapshotVersion(u).next(T=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(_)}return ce.waitFor(d).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(t.Ss=o,u))}function cx(r,e,t){let a=tt(),o=tt();return t.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=Ki();return t.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(d,m)):ye(dg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{xs:f,Os:o}})}function fx(r,e){const t=je(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=eg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function hx(r,e){const t=je(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.ai.getTargetData(a,e).next(u=>u?(o=u,ce.resolve(o)):t.ai.allocateTargetId(a).next(f=>(o=new Ma(e,f,"TargetPurposeListen",a.currentSequenceNumber),t.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(a.targetId,a),t.Ds.set(e,a.targetId)),a})}async function Cp(r,e,t){const a=je(r),o=a.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!rl(f))throw f;ye(dg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ss=a.Ss.remove(e),a.Ds.delete(o.target)}function ME(r,e,t){const a=je(r);let o=ze.min(),u=tt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,_){const T=je(m),b=T.Ds.get(_);return b!==void 0?ce.resolve(T.Ss.get(b)):T.ai.getTargetData(g,_)}(a,f,oi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(f,d.targetId).next(m=>{u=m})}).next(()=>a.bs.getDocumentsMatchingQuery(f,e,t?o:ze.min(),t?u:tt())).next(d=>(dx(a,JC(e),d),{documents:d,Ns:u})))}function dx(r,e,t){let a=r.vs.get(e)||ze.min();t.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.vs.set(e,a)}class PE{constructor(){this.activeTargetIds=aD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mx{constructor(){this.So=new PE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,a){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new PE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class VE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(kE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Dp(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===$f?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(e,t,a,o,u){const f=Dp(),d=this.$o(e,t.toUriEncodedString());ye(tp,`Sending RPC '${e}' ${f}:`,d,a);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,o,u),this.Ko(e,d,m,a).then(g=>(ye(tp,`Received RPC '${e}' ${f}: `,g),g),g=>{throw $o(tp,`RPC '${e}' ${f} failed with error: `,g,"url: ",d,"request:",a),g})}Wo(e,t,a,o,u,f){return this.Qo(e,t,a,o,u)}Uo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}$o(e,t){const a=gx[e];return`${this.Lo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class vx extends yx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,a,o){const u=Dp();return new Promise((f,d)=>{const m=new yb;m.setWithCredentials(!0),m.listenOnce(_b.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case If.NO_ERROR:const _=m.getResponseJson();ye(Tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case If.TIMEOUT:ye(Tn,`RPC '${e}' ${u} timed out`),d(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const T=m.getStatus();if(ye(Tn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b==null?void 0:b.error;if(I&&I.status&&I.message){const N=function(k){const H=k.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(H)>=0?H:ue.UNKNOWN}(I.status);d(new Ee(N,I.message))}else d(new Ee(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{s_:e,streamId:u,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{ye(Tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ye(Tn,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",g,a,15)})}a_(e,t,a){const o=Dp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Tb(),d=Eb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,a),m.encodeInitMessageHeaders=!0;const _=u.join("");ye(Tn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const T=f.createWebChannel(_,m);let b=!1,I=!1;const N=new _x({Go:k=>{I?ye(Tn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(b||(ye(Tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),ye(Tn,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},zo:()=>T.close()}),G=(k,H,z)=>{k.listen(H,Q=>{try{z(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return G(T,pu.EventType.OPEN,()=>{I||(ye(Tn,`RPC '${e}' stream ${o} transport opened.`),N.t_())}),G(T,pu.EventType.CLOSE,()=>{I||(I=!0,ye(Tn,`RPC '${e}' stream ${o} transport closed`),N.r_())}),G(T,pu.EventType.ERROR,k=>{I||(I=!0,$o(Tn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),N.r_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))}),G(T,pu.EventType.MESSAGE,k=>{var H;if(!I){const z=k.data[0];pt(!!z,16349);const Q=z,ne=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(ne){ye(Tn,`RPC '${e}' stream ${o} received error:`,ne);const se=ne.status;let j=function(R){const M=qt[R];if(M!==void 0)return tw(M)}(se),D=ne.message;j===void 0&&(j=ue.INTERNAL,D="Unknown error status: "+se+" with message "+ne.message),I=!0,N.r_(new Ee(j,D)),T.close()}else ye(Tn,`RPC '${e}' stream ${o} received:`,z),N.i_(z)}}),G(d,vb.STAT_EVENT,k=>{k.stat===gp.PROXY?ye(Tn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===gp.NOPROXY&&ye(Tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r){return new wD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,a=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class gw{constructor(e,t,a,o,u,f,d,m){this.bi=e,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new pw(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===t&&this.B_(a,o)},a=>{e(()=>{const o=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(e,t){const a=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ye(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ex extends gw{constructor(e,t,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,f),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=RD(this.serializer,e),a=function(u){if(!("targetChange"in u))return ze.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ze.min():f.readTime?li(f.readTime):ze.min()}(e);return this.listener.Q_(t,a)}U_(e){const t={};t.database=Ip(this.serializer),t.addTarget=function(u,f){let d;const m=f.target;if(d=Tp(m)?{documents:DD(u,m)}:{query:xD(u,m).gt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=iw(u,f.resumeToken);const g=Ap(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(ze.min())>0){d.readTime=Wf(u,f.snapshotVersion.toTimestamp());const g=Ap(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=OD(this.serializer,e);a&&(t.labels=a),this.F_(t)}K_(e){const t={};t.database=Ip(this.serializer),t.removeTarget=e,this.F_(t)}}class Tx extends gw{constructor(e,t,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=CD(e.writeResults,e.commitTime),a=li(e.commitTime);return this.listener.j_(a,t)}H_(){const e={};e.database=Ip(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>ID(this.serializer,a))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{}class wx extends bx{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Sp(t,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ue.UNKNOWN,u.toString())})}Wo(e,t,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Wo(e,Sp(t,a),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ee(ue.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Ax{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?($i(t),this.ea=!1):ye("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class Sx{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{a.enqueueAndForget(async()=>{Gs(this)&&(ye(ks,"Restarting streams for network reachability change."),await async function(m){const g=je(m);g.aa.add(4),await Gu(g),g.la.set("Unknown"),g.aa.delete(4),await Dh(g)}(this))})}),this.la=new Ax(a,o)}}async function Dh(r){if(Gs(r))for(const e of r.ua)await e(!0)}async function Gu(r){for(const e of r.ua)await e(!1)}function yw(r,e){const t=je(r);t._a.has(e.targetId)||(t._a.set(e.targetId,e),yg(t)?gg(t):al(t).b_()&&pg(t,e))}function mg(r,e){const t=je(r),a=al(t);t._a.delete(e),a.b_()&&_w(t,e),t._a.size===0&&(a.b_()?a.v_():Gs(t)&&t.la.set("Unknown"))}function pg(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(r).U_(e)}function _w(r,e){r.ha.Ke(e),al(r).K_(e)}function gg(r){r.ha=new vD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.la.ta()}function yg(r){return Gs(r)&&!al(r).w_()&&r._a.size>0}function Gs(r){return je(r).aa.size===0}function vw(r){r.ha=void 0}async function Rx(r){r.la.set("Online")}async function Ix(r){r._a.forEach((e,t)=>{pg(r,e)})}async function Cx(r,e){vw(r),yg(r)?(r.la.ia(e),gg(r)):r.la.set("Unknown")}async function Dx(r,e,t){if(r.la.set("Online"),e instanceof rw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o._a.delete(d),o.ha.removeTarget(d))}(r,e)}catch(a){ye(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Jf(r,a)}else if(e instanceof Nf?r.ha.Xe(e):e instanceof nw?r.ha.ot(e):r.ha.nt(e),!t.isEqual(ze.min()))try{const a=await mw(r.localStore);t.compareTo(a)>=0&&await function(u,f){const d=u.ha.It(f);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u._a.get(g);_&&u._a.set(g,_.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach((m,g)=>{const _=u._a.get(m);if(!_)return;u._a.set(m,_.withResumeToken(pn.EMPTY_BYTE_STRING,_.snapshotVersion)),_w(u,m);const T=new Ma(_.target,m,g,_.sequenceNumber);pg(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(a){ye(ks,"Failed to raise snapshot:",a),await Jf(r,a)}}async function Jf(r,e,t){if(!rl(e))throw e;r.aa.add(1),await Gu(r),r.la.set("Offline"),t||(t=()=>mw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(ks,"Retrying IndexedDB access"),await t(),r.aa.delete(1),await Dh(r)})}function Ew(r,e){return e().catch(t=>Jf(r,t,e))}async function xh(r){const e=je(r),t=Fa(e);let a=e.oa.length>0?e.oa[e.oa.length-1].batchId:eg;for(;xx(e);)try{const o=await fx(e.localStore,a);if(o===null){e.oa.length===0&&t.v_();break}a=o.batchId,Nx(e,o)}catch(o){await Jf(e,o)}Tw(e)&&bw(e)}function xx(r){return Gs(r)&&r.oa.length<10}function Nx(r,e){r.oa.push(e);const t=Fa(r);t.b_()&&t.W_&&t.G_(e.mutations)}function Tw(r){return Gs(r)&&!Fa(r).w_()&&r.oa.length>0}function bw(r){Fa(r).start()}async function Ox(r){Fa(r).H_()}async function Mx(r){const e=Fa(r);for(const t of r.oa)e.G_(t.mutations)}async function Px(r,e,t){const a=r.oa.shift(),o=og.from(a,e,t);await Ew(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await xh(r)}async function kx(r,e){e&&Fa(r).W_&&await async function(a,o){if(function(f){return yD(f)&&f!==ue.ABORTED}(o.code)){const u=a.oa.shift();Fa(a).D_(),await Ew(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await xh(a)}}(r,e),Tw(r)&&bw(r)}async function UE(r,e){const t=je(r);t.asyncQueue.verifyOperationInProgress(),ye(ks,"RemoteStore received new credentials");const a=Gs(t);t.aa.add(3),await Gu(t),a&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Dh(t)}async function Vx(r,e){const t=je(r);e?(t.aa.delete(2),await Dh(t)):e||(t.aa.add(2),await Gu(t),t.la.set("Unknown"))}function al(r){return r.Pa||(r.Pa=function(t,a,o){const u=je(t);return u.Y_(),new Ex(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:Rx.bind(null,r),Jo:Ix.bind(null,r),Zo:Cx.bind(null,r),Q_:Dx.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),yg(r)?gg(r):r.la.set("Unknown")):(await r.Pa.stop(),vw(r))})),r.Pa}function Fa(r){return r.Ta||(r.Ta=function(t,a,o){const u=je(t);return u.Y_(),new Tx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:Ox.bind(null,r),Zo:kx.bind(null,r),z_:Mx.bind(null,r),j_:Px.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await xh(r)):(await r.Ta.stop(),r.oa.length>0&&(ye(ks,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const f=Date.now()+a,d=new _g(e,t,f,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if($i("AsyncQueue",`${e}: ${r}`),rl(r))return new Ee(ue.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ce.comparator(t.key,a.key):(t,a)=>Ce.comparator(t.key,a.key),this.keyedMap=gu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Ho;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Ia=new xt(Ce.comparator)}track(e){const t=e.doc.key,a=this.Ia.get(t);a?e.type!==0&&a.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&a.type!==1?this.Ia=this.Ia.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Ia=this.Ia.remove(t):e.type===1&&a.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,Ea:a}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,a)=>{e.push(a)}),e}}class Wo{constructor(e,t,a,o,u,f,d,m,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,u){const f=[];return t.forEach(d=>{f.push({type:0,doc:d})}),new Wo(e,t,Ho.emptySet(t),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Ux{constructor(){this.queries=jE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,a){const o=je(t),u=o.queries;o.queries=jE(),u.forEach((f,d)=>{for(const m of d.Ra)m.onError(a)})})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function jE(){return new qs(r=>qb(r),wh)}async function Eg(r,e){const t=je(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.Va()&&e.ma()&&(a=2):(u=new Lx,a=e.ma()?0:1);try{switch(a){case 0:u.Aa=await t.onListen(o,!0);break;case 1:u.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const d=vg(f,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&bg(t)}async function Tg(r,e){const t=je(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function zx(r,e){const t=je(r);let a=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const d of f.Ra)d.pa(o)&&(a=!0);f.Aa=o}}a&&bg(t)}function jx(r,e,t){const a=je(r),o=a.queries.get(e);if(o)for(const u of o.Ra)u.onError(t);a.queries.delete(e)}function bg(r){r.fa.forEach(e=>{e.next()})}var xp,BE;(BE=xp||(xp={})).ya="default",BE.Cache="cache";class wg{constructor(e,t,a){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Wo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const a=t!=="Offline";return(!this.options.Fa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class Bx{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=tt(),this.mutatedKeys=tt(),this.Ua=Fb(e),this.Ka=new Ho(this.Ua)}get Wa(){return this.qa}Ga(e,t){const a=t?t.za:new zE,o=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const b=o.get(_),I=Ah(this.query,T)?T:null,N=!!b&&this.mutatedKeys.has(b.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;b&&I?b.data.isEqual(I.data)?N!==G&&(a.track({type:3,doc:I}),k=!0):this.ja(b,I)||(a.track({type:2,doc:I}),k=!0,(m&&this.Ua(I,m)>0||g&&this.Ua(I,g)<0)&&(d=!0)):!b&&I?(a.track({type:0,doc:I}),k=!0):b&&!I&&(a.track({type:1,doc:b}),k=!0,(m||g)&&(d=!0)),k&&(I?(f=f.add(I),u=G?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{Ka:f,za:a,ys:d,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((_,T)=>function(I,N){const G=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:k})}};return G(I)-G(N)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(a),o=o!=null&&o;const d=t&&!o?this.Ja():[],m=this.$a.size===0&&this.current&&!o?1:0,g=m!==this.Qa;return this.Qa=m,f.length!==0||g?{snapshot:new Wo(this.query,e.Ka,u,f,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new zE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=tt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const t=[];return e.forEach(a=>{this.$a.has(a)||t.push(new Aw(a))}),this.$a.forEach(a=>{e.has(a)||t.push(new ww(a))}),t}Xa(e){this.qa=e.Ns,this.$a=tt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Wo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ag="SyncEngine";class Hx{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class qx{constructor(e){this.key=e,this.tu=!1}}class Fx{constructor(e,t,a,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new qs(d=>qb(d),wh),this.iu=new Map,this.su=new Set,this.ou=new xt(Ce.comparator),this._u=new Map,this.au=new cg,this.uu={},this.cu=new Map,this.lu=Xo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Gx(r,e,t=!0){const a=xw(r);let o;const u=a.ru.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await Sw(a,e,t,!0),o}async function $x(r,e){const t=xw(r);await Sw(t,e,!0,!1)}async function Sw(r,e,t,a){const o=await hx(r.localStore,oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let d;return a&&(d=await Kx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&yw(r.remoteStore,o),d}async function Kx(r,e,t,a,o){r.Pu=(T,b,I)=>async function(G,k,H,z){let Q=k.view.Ga(H);Q.ys&&(Q=await ME(G.localStore,k.query,!1).then(({documents:D})=>k.view.Ga(D,Q)));const ne=z&&z.targetChanges.get(k.targetId),se=z&&z.targetMismatches.get(k.targetId)!=null,j=k.view.applyChanges(Q,G.isPrimaryClient,ne,se);return qE(G,k.targetId,j.Ya),j.snapshot}(r,T,b,I);const u=await ME(r.localStore,e,!0),f=new Bx(e,u.Ns),d=f.Ga(u.documents),m=Fu.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,m);qE(r,t,g.Ya);const _=new Hx(e,t,f);return r.ru.set(e,_),r.iu.has(t)?r.iu.get(t).push(e):r.iu.set(t,[e]),g.snapshot}async function Yx(r,e,t){const a=je(r),o=a.ru.get(e),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(f=>!wh(f,e))),void a.ru.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&mg(a.remoteStore,o.targetId),Np(a,o.targetId)}).catch(nl)):(Np(a,o.targetId),await Cp(a.localStore,o.targetId,!0))}async function Qx(r,e){const t=je(r),a=t.ru.get(e),o=t.iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),mg(t.remoteStore,a.targetId))}async function Xx(r,e,t){const a=rN(r);try{const o=await function(f,d){const m=je(f),g=Xt.now(),_=d.reduce((I,N)=>I.add(N.key),tt());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=Ki(),G=tt();return m.Cs.getEntries(I,_).next(k=>{N=k,N.forEach((H,z)=>{z.isValidDocument()||(G=G.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(I,N)).next(k=>{T=k;const H=[];for(const z of d){const Q=hD(z,T.get(z.key).overlayedDocument);Q!=null&&H.push(new Fs(z.key,Q,kb(Q.value.mapValue),Or.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,H,d)}).next(k=>{b=k;const H=k.applyToLocalDocumentSet(T,G);return m.documentOverlayCache.saveOverlays(I,k.batchId,H)})}).then(()=>({batchId:b.batchId,changes:$b(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){let g=f.uu[f.currentUser.toKey()];g||(g=new xt(Ke)),g=g.insert(d,m),f.uu[f.currentUser.toKey()]=g}(a,o.batchId,t),await $u(a,o.changes),await xh(a.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");t.reject(u)}}async function Rw(r,e){const t=je(r);try{const a=await ux(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t._u.get(u);f&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?pt(f.tu,14607):o.removedDocuments.size>0&&(pt(f.tu,42227),f.tu=!1))}),await $u(t,a,e)}catch(a){await nl(a)}}function HE(r,e,t){const a=je(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.ru.forEach((u,f)=>{const d=f.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(f,d){const m=je(f);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const b of T.Ra)b.ga(d)&&(g=!0)}),g&&bg(m)}(a.eventManager,e),o.length&&a.nu.Q_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Wx(r,e,t){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a._u.get(e),u=o&&o.key;if(u){let f=new xt(Ce.comparator);f=f.insert(u,wn.newNoDocument(u,ze.min()));const d=tt().add(u),m=new Ih(ze.min(),new Map,new xt(Ke),f,d);await Rw(a,m),a.ou=a.ou.remove(u),a._u.delete(e),Sg(a)}else await Cp(a.localStore,e,!1).then(()=>Np(a,e,t)).catch(nl)}async function Zx(r,e){const t=je(r),a=e.batch.batchId;try{const o=await lx(t.localStore,e);Cw(t,a,null),Iw(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await $u(t,o)}catch(o){await nl(o)}}async function Jx(r,e,t){const a=je(r);try{const o=await function(f,d){const m=je(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(pt(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(a.localStore,e);Cw(a,e,t),Iw(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await $u(a,o)}catch(o){await nl(o)}}function Iw(r,e){(r.cu.get(e)||[]).forEach(t=>{t.resolve()}),r.cu.delete(e)}function Cw(r,e,t){const a=je(r);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.uu[a.currentUser.toKey()]=o}}function Np(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.iu.get(e))r.ru.delete(a),t&&r.nu.Tu(a,t);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(a=>{r.au.containsKey(a)||Dw(r,a)})}function Dw(r,e){r.su.delete(e.path.canonicalString());const t=r.ou.get(e);t!==null&&(mg(r.remoteStore,t),r.ou=r.ou.remove(e),r._u.delete(t),Sg(r))}function qE(r,e,t){for(const a of t)a instanceof ww?(r.au.addReference(a.key,e),eN(r,a)):a instanceof Aw?(ye(Ag,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,e),r.au.containsKey(a.key)||Dw(r,a.key)):ke(19791,{Iu:a})}function eN(r,e){const t=e.key,a=t.path.canonicalString();r.ou.get(t)||r.su.has(a)||(ye(Ag,"New document in limbo: "+t),r.su.add(a),Sg(r))}function Sg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const t=new Ce(Rt.fromString(e)),a=r.lu.next();r._u.set(a,new qx(t)),r.ou=r.ou.insert(t,a),yw(r.remoteStore,new Ma(oi(bh(t.path)),a,"TargetPurposeLimboResolution",vh.le))}}async function $u(r,e,t){const a=je(r),o=[],u=[],f=[];a.ru.isEmpty()||(a.ru.forEach((d,m)=>{f.push(a.Pu(m,e,t).then(g=>{var _;if((g||t)&&a.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=hg.Ps(m.targetId,g);u.push(T)}}))}),await Promise.all(f),a.nu.Q_(o),await async function(m,g){const _=je(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(g,b=>ce.forEach(b.ls,I=>_.persistence.referenceDelegate.addReference(T,b.targetId,I)).next(()=>ce.forEach(b.hs,I=>_.persistence.referenceDelegate.removeReference(T,b.targetId,I)))))}catch(T){if(!rl(T))throw T;ye(dg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const I=_.Ss.get(b),N=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(N);_.Ss=_.Ss.insert(b,G)}}}(a.localStore,u))}async function tN(r,e){const t=je(r);if(!t.currentUser.isEqual(e)){ye(Ag,"User change. New user:",e.toKey());const a=await dw(t.localStore,e);t.currentUser=e,function(u,f){u.cu.forEach(d=>{d.forEach(m=>{m.reject(new Ee(ue.CANCELLED,f))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $u(t,a.Ms)}}function nN(r,e){const t=je(r),a=t._u.get(e);if(a&&a.tu)return tt().add(a.key);{let o=tt();const u=t.iu.get(e);if(!u)return o;for(const f of u){const d=t.ru.get(f);o=o.unionWith(d.view.Wa)}return o}}function xw(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wx.bind(null,e),e.nu.Q_=zx.bind(null,e.eventManager),e.nu.Tu=jx.bind(null,e.eventManager),e}function rN(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jx.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return ox(this.persistence,new ix,e.initialUser,this.serializer)}Ru(e){return new hw(fg.Ei,this.serializer)}Au(e){return new mx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class iN extends eh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){pt(this.persistence.referenceDelegate instanceof Zf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qD(a,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new hw(a=>Zf.Ei(a,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>HE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tN.bind(null,this.syncEngine),await Vx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ux}()}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),a=function(u){return new vx(u)}(e.databaseInfo);return function(u,f,d,m){return new wx(u,f,d,m)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,u,f,d){return new Sx(a,o,u,f,d)}(this.localStore,this.datastore,e.asyncQueue,t=>HE(this.syncEngine,t,0),function(){return VE.C()?new VE:new px}())}createSyncEngine(e,t){return function(o,u,f,d,m,g,_){const T=new Fx(o,u,f,d,m,g);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=je(o);ye(ks,"RemoteStore shutting down."),u.aa.add(5),await Gu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class aN{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=bn.UNAUTHENTICATED,this.clientId=Sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ye(Ga,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ye(Ga,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=vg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function rp(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ga,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await dw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function FE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await sN(r);ye(Ga,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>UE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>UE(e.remoteStore,o)),r._onlineComponents=e}async function sN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ga,"Using user provided OfflineComponentProvider");try{await rp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await rp(r,new eh)}}else ye(Ga,"Using default OfflineComponentProvider"),await rp(r,new iN(void 0));return r._offlineComponents}async function Nw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ga,"Using user provided OnlineComponentProvider"),await FE(r,r._uninitializedComponentsProvider._online)):(ye(Ga,"Using default OnlineComponentProvider"),await FE(r,new Op))),r._onlineComponents}function oN(r){return Nw(r).then(e=>e.syncEngine)}async function th(r){const e=await Nw(r),t=e.eventManager;return t.onListen=Gx.bind(null,e.syncEngine),t.onUnlisten=Yx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$x.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Qx.bind(null,e.syncEngine),t}function lN(r,e,t={}){const a=new qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,d,m,g){const _=new Rg({next:b=>{_.yu(),f.enqueueAndForget(()=>Tg(u,T));const I=b.docs.has(d);!I&&b.fromCache?g.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&m&&m.source==="server"?g.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new wg(bh(d.path),_,{includeMetadataChanges:!0,Fa:!0});return Eg(u,T)}(await th(r),r.asyncQueue,e,t,a)),a.promise}function uN(r,e,t={}){const a=new qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,d,m,g){const _=new Rg({next:b=>{_.yu(),f.enqueueAndForget(()=>Tg(u,T)),b.fromCache&&m.source==="server"?g.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new wg(d,_,{includeMetadataChanges:!0,Fa:!0});return Eg(u,T)}(await th(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r,e,t){if(!t)throw new Ee(ue.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cN(r,e,t,a){if(e===!0&&a===!0)throw new Ee(ue.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $E(r){if(!Ce.isDocumentKey(r))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function KE(r){if(Ce.isDocumentKey(r))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke(12329,{type:typeof r})}function Tr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nh(r);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firestore.googleapis.com",YE=!0;class QE{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pw,this.ssl=YE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ow((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new _C;switch(a.type){case"firstParty":return new bC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=GE.get(t);a&&(ye("ComponentProvider","Removing Datastore"),GE.delete(t),a.terminate())}(this),Promise.resolve()}}function fN(r,e,t,a={}){var o;const u=(r=Tr(r,Oh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==Pw&&u.host!==d&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Os(m,f)&&(r._setSettings(m),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=bn.MOCK_USER;else{g=cb(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(T)}r._authCredentials=new vC(new wb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Mn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class La extends Qa{constructor(e,t,a){super(e,t,bh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ce(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function nh(r,e,...t){if(r=mn(r),Mw("collection","path",e),r instanceof Oh){const a=Rt.fromString(e,...t);return KE(a),new La(r,null,a)}{if(!(r instanceof Mn||r instanceof La))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Rt.fromString(e,...t));return KE(a),new La(r.firestore,null,a)}}function Pr(r,e,...t){if(r=mn(r),arguments.length===1&&(e=Sb.newId()),Mw("doc","path",e),r instanceof Oh){const a=Rt.fromString(e,...t);return $E(a),new Mn(r,null,new Ce(a))}{if(!(r instanceof Mn||r instanceof La))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Rt.fromString(e,...t));return $E(a),new Mn(r.firestore,r instanceof La?r.converter:null,new Ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new pw(this,"async_queue_retry"),this.ju=()=>{const a=np();a&&ye(XE,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new qi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!rl(e))throw e;ye(XE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(a=>{throw this.Ku=a,this.Wu=!1,$i("INTERNAL UNHANDLED ERROR: ",ZE(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=t,t}enqueueAfterDelay(e,t,a){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=_g.createAndSchedule(this,e,t,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&ke(47125,{ec:ZE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function ZE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r){return function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class $a extends Oh{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new WE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function hN(r,e){const t=typeof r=="object"?r:Zp(),a=typeof r=="string"?r:$f,o=_h(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=ob("firestore");u&&fN(o,...u)}return o}function Mh(r){if(r._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dN(r),r._firestoreClient}function dN(r){var e,t,a;const o=r._freezeSettings(),u=function(d,m,g,_){return new LC(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Ow(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new aN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(pn.fromBase64String(e))}catch(t){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^__.*__$/;class pN{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}function Vw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{oc:r})}}class xg{constructor(e,t,a,o,u,f){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:a,cc:!1});return o.lc(e),o}hc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return rh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Vw(this.oc)&&mN.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class gN{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Ch(e)}dc(e,t,a,o=!1){return new xg({oc:e,methodName:t,Ec:a,path:hn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(r){const e=r._freezeSettings(),t=Ch(r._databaseId);return new gN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Lw(r,e,t,a,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,e,t,o);jw("Data must be an object, but it was:",f,a);const d=Uw(a,f);let m,g;if(u.merge)m=new Dr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const b=_N(e,T,t);if(!f.contains(b))throw new Ee(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);EN(_,b)||_.push(b)}m=new Dr(_),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new pN(new vr(d),m,g)}function yN(r,e,t,a=!1){return Og(t,r.dc(a?4:3,e))}function Og(r,e){if(zw(r=mn(r)))return jw("Unsupported field value:",e,r),Uw(r,e);if(r instanceof kw)return function(a,o){if(!Vw(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const d of a){let m=Og(d,o.Pc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Xt.fromDate(a);return{timestampValue:Wf(o.serializer,u)}}if(a instanceof Xt){const u=new Xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wf(o.serializer,u)}}if(a instanceof Cg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zo)return{bytesValue:iw(o.serializer,a._byteString)};if(a instanceof Mn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ug(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Dg)return function(f,d){return{mapValue:{fields:{[Mb]:{stringValue:Pb},[Kf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return ag(d.serializer,g)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${Nh(a)}`)}(r,e)}function Uw(r,e){const t={};return Ib(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(r,(a,o)=>{const u=Og(o,e.uc(a));u!=null&&(t[a]=u)}),{mapValue:{fields:t}}}function zw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xt||r instanceof Cg||r instanceof Zo||r instanceof Mn||r instanceof kw||r instanceof Dg)}function jw(r,e,t){if(!zw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=Nh(t);throw a==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+a)}}function _N(r,e,t){if((e=mn(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return Bw(r,e);throw rh("Field path arguments must be of type string or ",r,!1,void 0,t)}const vN=new RegExp("[~\\*/\\[\\]]");function Bw(r,e,t){if(e.search(vN)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ig(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function rh(r,e,t,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${a}`),f&&(m+=` in document ${o}`),m+=")"),new Ee(ue.INVALID_ARGUMENT,d+r+m)}function EN(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ph("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TN extends Hw{data(){return super.data()}}function Ph(r,e){return typeof e=="string"?Bw(r,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class Fw extends Mg{}function Pg(r,e,...t){let a=[];e instanceof Mg&&a.push(e),a=a.concat(t),function(u){const f=u.filter(m=>m instanceof Vg).length,d=u.filter(m=>m instanceof kh).length;if(f>1||f>0&&d>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class kh extends Fw{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new kh(e,t,a)}_apply(e){const t=this._parse(e);return Gw(e._query,t),new Qa(e.firestore,e.converter,bp(e._query,t))}_parse(e){const t=Ng(e.firestore);return function(u,f,d,m,g,_,T){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){tT(T,_);const N=[];for(const G of T)N.push(eT(m,u,G));b={arrayValue:{values:N}}}else b=eT(m,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||tT(T,_),b=yN(d,f,T,_==="in"||_==="not-in");return Ft.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kg(r,e,t){const a=e,o=Ph("where",r);return kh._create(o,a,t)}class Vg extends Mg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vg(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const d=u.getFlattenedFilters();for(const m of d)Gw(f,m),f=bp(f,m)}(e._query,t),new Qa(e.firestore,e.converter,bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends Fw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lg(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(u,f)}(e._query,this._field,this._direction);return new Qa(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new il(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ug(r,e="asc"){const t=e,a=Ph("orderBy",r);return Lg._create(a,t)}function eT(r,e,t){if(typeof(t=mn(t))=="string"){if(t==="")throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hb(e)&&t.indexOf("/")!==-1)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Rt.fromString(t));if(!Ce.isDocumentKey(a))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mE(r,new Ce(a))}if(t instanceof Mn)return mE(r,t._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(t)}.`)}function tT(r,e){if(!Array.isArray(r)||r.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gw(r,e){const t=function(o,u){for(const f of o)for(const d of f.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bN{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Hs(e,(o,u)=>{a[o]=this.convertValue(u,t)}),a}convertVectorValue(e){var t,a,o;const u=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Kf].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>kt(f.doubleValue));return new Dg(u)}convertGeoPoint(e){return new Cg(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Rt.fromString(e);pt(cw(a),9688,{name:e});const o=new xu(a.get(1),a.get(3)),u=new Ce(a.popFirst(5));return o.isEqual(t)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e,t){let a;return a=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kw extends Hw{constructor(e,t,a,o,u,f){super(e,t,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Ph("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Of extends Kw{data(e={}){return super.data(e)}}class Yw{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _u(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Of(this._firestore,this._userDataWriter,a.key,a,new _u(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const m=new Of(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _u(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Of(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _u(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),_=f.indexOf(d.doc.key)),{type:wN(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(r){r=Tr(r,Mn);const e=Tr(r.firestore,$a);return lN(Mh(e),r._key).then(t=>Xw(e,r,t))}class zg extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function Qw(r){r=Tr(r,Qa);const e=Tr(r.firestore,$a),t=Mh(e),a=new zg(e);return qw(r._query),uN(t,r._query).then(o=>new Yw(e,a,r,o))}function jg(r,e,t){r=Tr(r,Mn);const a=Tr(r.firestore,$a),o=$w(r.converter,e,t);return Bg(a,[Lw(Ng(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Or.none())])}function AN(r){return Bg(Tr(r.firestore,$a),[new sg(r._key,Or.none())])}function SN(r,e){const t=Tr(r.firestore,$a),a=Pr(r),o=$w(r.converter,e);return Bg(t,[Lw(Ng(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Or.exists(!1))]).then(()=>a)}function RN(r,...e){var t,a,o;r=mn(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||JE(e[f])||(u=e[f],f++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(JE(e[f])){const T=e[f];e[f]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[f+1]=(a=T.error)===null||a===void 0?void 0:a.bind(T),e[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let m,g,_;if(r instanceof Mn)g=Tr(r.firestore,$a),_=bh(r._key.path),m={next:T=>{e[f]&&e[f](Xw(g,r,T))},error:e[f+1],complete:e[f+2]};else{const T=Tr(r,Qa);g=Tr(T.firestore,$a),_=T._query;const b=new zg(g);m={next:I=>{e[f]&&e[f](new Yw(g,b,T,I))},error:e[f+1],complete:e[f+2]},qw(r._query)}return function(b,I,N,G){const k=new Rg(G),H=new wg(I,k,N);return b.asyncQueue.enqueueAndForget(async()=>Eg(await th(b),H)),()=>{k.yu(),b.asyncQueue.enqueueAndForget(async()=>Tg(await th(b),H))}}(Mh(g),_,d,m)}function Bg(r,e){return function(a,o){const u=new qi;return a.asyncQueue.enqueueAndForget(async()=>Xx(await oN(a),o,u)),u.promise}(Mh(r),e)}function Xw(r,e,t){const a=t.docs.get(e._key),o=new zg(r);return new Kw(r,o,e._key,a,new _u(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){tl=o})(Bs),Ms(new za("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),d=new $a(new EC(a.getProvider("auth-internal")),new wC(f,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,_)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),si(nE,rE,e),si(nE,rE,"esm2017")})();function Hg(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function Ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IN=Ww,Zw=new Bu("auth","Firebase",Ww());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Xp("@firebase/auth");function CN(r,...e){ih.logLevel<=et.WARN&&ih.warn(`Auth (${Bs}): ${r}`,...e)}function Mf(r,...e){ih.logLevel<=et.ERROR&&ih.error(`Auth (${Bs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,...e){throw qg(r,...e)}function ui(r,...e){return qg(r,...e)}function Jw(r,e,t){const a=Object.assign(Object.assign({},IN()),{[e]:t});return new Bu("auth","Firebase",a).create(e,{appName:r.name})}function Fi(r){return Jw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return Zw.create(r,...e)}function Pe(r,e,...t){if(!r)throw qg(e,...t)}function Bi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mf(e),new Error(e)}function Yi(r,e){r||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function DN(){return nT()==="http:"||nT()==="https:"}function nT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DN()||QI()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yi(t>e,"Short delay should be less than long delay!"),this.isMobile=$I()||XI()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PN=new Ku(3e4,6e4);function Xa(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Wa(r,e,t,a,o={}){return t1(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=Hu(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return YI()||(g.referrerPolicy="no-referrer"),e1.fetch()(await n1(r,r.config.apiHost,t,d),g)})}async function t1(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},ON),e);try{const o=new VN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw bf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw bf(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw bf(r,"user-disabled",f);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Jw(r,_,g);kr(r,_)}}catch(o){if(o instanceof mi)throw o;kr(r,"network-request-failed",{message:String(o)})}}async function Yu(r,e,t,a,o={}){const u=await Wa(r,e,t,a,o);return"mfaPendingCredential"in u&&kr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function n1(r,e,t,a){const o=`${e}${t}?${a}`,u=r,f=u.config.emulator?Fg(r.config,o):`${r.config.apiScheme}://${o}`;return MN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function kN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ui(this.auth,"network-request-failed")),PN.get())})}}function bf(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=ui(r,e,a);return o.customData._tokenResponse=t,o}function rT(r){return r!==void 0&&r.enterprise!==void 0}class LN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UN(r,e){return Wa(r,"GET","/v2/recaptchaConfig",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(r,e){return Wa(r,"POST","/v1/accounts:delete",e)}async function ah(r,e){return Wa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jN(r,e=!1){const t=mn(r),a=await t.getIdToken(e),o=Gg(a);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:wu(ip(o.auth_time)),issuedAtTime:wu(ip(o.iat)),expirationTime:wu(ip(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ip(r){return Number(r)*1e3}function Gg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const o=ab(t);return o?JSON.parse(o):(Mf("Failed to decode base64 JWT payload"),null)}catch(o){return Mf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iT(r){const e=Gg(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof mi&&BN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function BN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(r){var e;const t=r.auth,a=await r.getIdToken(),o=await ku(r,ah(t,{idToken:a}));Pe(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?r1(u.providerUserInfo):[],d=FN(r.providerData,f),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Pp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function qN(r){const e=mn(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FN(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function r1(r){return r.map(e=>{var{providerId:t}=e,a=Hg(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(r,e){const t=await t1(r,{},async()=>{const a=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await n1(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",e1.fetch()(f,{method:"POST",headers:d,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $N(r,e){return Wa(r,"POST","/v2/accounts:revokeToken",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=iT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await GN(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,f=new qo;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,u=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await ku(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jN(this,e)}reload(){return qN(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await ku(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,u,f,d,m,g,_;const T=(a=t.displayName)!==null&&a!==void 0?a:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=t.photoURL)!==null&&f!==void 0?f:void 0,G=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:ne,isAnonymous:se,providerData:j,stsTokenManager:D}=t;Pe(Q&&D,e,"internal-error");const S=qo.fromJSON(this.name,D);Pe(typeof Q=="string",e,"internal-error"),Ra(T,e.name),Ra(b,e.name),Pe(typeof ne=="boolean",e,"internal-error"),Pe(typeof se=="boolean",e,"internal-error"),Ra(I,e.name),Ra(N,e.name),Ra(G,e.name),Ra(k,e.name),Ra(H,e.name),Ra(z,e.name);const R=new xr({uid:Q,auth:e,email:b,emailVerified:ne,displayName:T,isAnonymous:se,photoURL:N,phoneNumber:I,tenantId:G,stsTokenManager:S,createdAt:H,lastLoginAt:z});return j&&Array.isArray(j)&&(R.providerData=j.map(M=>Object.assign({},M))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(e,t,a=!1){const o=new qo;o.updateFromServerResponse(t);const u=new xr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?r1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new qo;d.updateFromIdToken(a);const m=new xr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Map;function Hi(r){Yi(r instanceof Function,"Expected a class definition");let e=aT.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,aT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}i1.type="NONE";const sT=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(r,e,t){return`firebase:${r}:${e}:${t}`}class Fo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Pf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Pf("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ah(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Fo(Hi(sT),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Hi(sT);const f=Pf(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(f);if(_){let T;if(typeof _=="string"){const b=await ah(e,{idToken:_}).catch(()=>{});if(!b)break;T=await xr._fromGetAccountInfoResponse(e,b,_)}else T=xr._fromJSON(e,_);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Fo(u,e,a):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Fo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(f1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function a1(r=An()){return/firefox\//i.test(r)}function s1(r=An()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(r=An()){return/crios\//i.test(r)}function l1(r=An()){return/iemobile/i.test(r)}function u1(r=An()){return/android/i.test(r)}function c1(r=An()){return/blackberry/i.test(r)}function f1(r=An()){return/webos/i.test(r)}function $g(r=An()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function KN(r=An()){var e;return $g(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YN(){return WI()&&document.documentMode===10}function h1(r=An()){return $g(r)||u1(r)||f1(r)||c1(r)||/windows phone/i.test(r)||l1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r,e=[]){let t;switch(r){case"Browser":t=oT(An());break;case"Worker":t=`${oT(An())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bs}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((f,d)=>{try{const m=e(u);f(m)}catch(m){d(m)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(r,e={}){return Wa(r,"GET","/v2/passwordPolicy",Xa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=6;class ZN{constructor(e){var t,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:WN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,u,f,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new QN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ah(this,{idToken:e}),a=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Fi(this));const t=e?mn(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),t=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await $N(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,a,o);return()=>{f=!0,m()}}else{const m=e.addObserver(t);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $s(r){return mn(r)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=a2(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eO(r){Vh=r}function m1(r){return Vh.loadJS(r)}function tO(){return Vh.recaptchaEnterpriseScript}function nO(){return Vh.gapiScript}function rO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iO{constructor(){this.enterprise=new aO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sO="recaptcha-enterprise",p1="NO_RECAPTCHA";class oO{constructor(e){this.type=sO,this.auth=$s(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{UN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new LN(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;rT(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(p1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iO().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(d=>{if(!t&&rT(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=tO();m.length!==0&&(m+=d),m1(m).then(()=>{o(d,u,f)}).catch(g=>{f(g)})}}).catch(d=>{f(d)})})}}async function uT(r,e,t,a=!1,o=!1){const u=new oO(r);let f;if(o)f=p1;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function kp(r,e,t,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await uT(r,e,t,t==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await uT(r,e,t,t==="getOobCode");return a(r,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(r,e){const t=_h(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Os(u,e??{}))return o;kr(o,"already-initialized")}return t.initialize({options:e})}function uO(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Hi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function cO(r,e,t){const a=$s(r);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=g1(e),{host:f,port:d}=fO(e),m=d===null?"":`:${d}`,g={url:`${u}//${f}${m}/`},_=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(Os(g,a.config.emulator)&&Os(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,hO()}function g1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fO(r){const e=g1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:cT(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:cT(f)}}}function cT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hO(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function dO(r,e){return Wa(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(r,e){return Yu(r,"POST","/v1/accounts:signInWithPassword",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(r,e){return Yu(r,"POST","/v1/accounts:signInWithEmailLink",Xa(r,e))}async function gO(r,e){return Yu(r,"POST","/v1/accounts:signInWithEmailLink",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Kg{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Vu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Vu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,t,"signInWithPassword",mO);case"emailLink":return pO(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,a,"signUpPassword",dO);case"emailLink":return gO(e,{idToken:t,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(r,e){return Yu(r,"POST","/v1/accounts:signInWithIdp",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="http://localhost";class Vs extends Kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,u=Hg(t,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Vs(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Go(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:yO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vO(r){const e=du(mu(r)).link,t=e?du(mu(e)).deep_link_id:null,a=du(mu(r)).deep_link_id;return(a?du(mu(a)).link:null)||a||t||e||r}class Yg{constructor(e){var t,a,o,u,f,d;const m=du(mu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(a=m.oobCode)!==null&&a!==void 0?a:null,T=_O((o=m.mode)!==null&&o!==void 0?o:null);Pe(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=vO(e);try{return new Yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,t){return Vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Yg.parseLink(t);return Pe(a,"argument-error"),Vu._fromEmailAndCode(e,a.code,a.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Qu{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.FACEBOOK_SIGN_IN_METHOD="facebook.com";Da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return xa.credential(t,a)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Qu{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Qu{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Oa.credential(t,a)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(r,e){return Yu(r,"POST","/v1/accounts:signUp",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await xr._fromIdTokenResponse(e,a,o),f=fT(a);return new Ls({user:u,providerId:f,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=fT(a);return new Ls({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function fT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends mi{constructor(e,t,a,o){var u;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new oh(e,t,a,o)}}function _1(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,u,e,a):u})}async function TO(r,e,t=!1){const a=await ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ls._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(r,e,t=!1){const{auth:a}=r;if(Jn(a.app))return Promise.reject(Fi(a));const o="reauthenticate";try{const u=await ku(r,_1(a,o,e,r),t);Pe(u.idToken,a,"internal-error");const f=Gg(u.idToken);Pe(f,a,"internal-error");const{sub:d}=f;return Pe(r.uid===d,a,"user-mismatch"),Ls._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&kr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,e,t=!1){if(Jn(r.app))return Promise.reject(Fi(r));const a="signIn",o=await _1(r,a,e),u=await Ls._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function wO(r,e){return v1($s(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(r){const e=$s(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AO(r,e,t){if(Jn(r.app))return Promise.reject(Fi(r));const a=$s(r),f=await kp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&E1(r),m}),d=await Ls._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(d.user),d}function SO(r,e,t){return Jn(r.app)?Promise.reject(Fi(r)):wO(mn(r),sl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&E1(r),a})}function RO(r,e,t,a){return mn(r).onIdTokenChanged(e,t,a)}function IO(r,e,t){return mn(r).beforeAuthStateChanged(e,t)}function Au(r,e,t,a){return mn(r).onAuthStateChanged(e,t,a)}function CO(r){return mn(r).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,xO=10;class b1 extends T1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!t&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);YN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xO):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const NO=b1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends T1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w1.type="SESSION";const A1=w1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Lh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async g=>g(t.origin,u)),m=await OO(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const g=Qg("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function PO(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function kO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function LO(){return S1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firebaseLocalStorageDb",UO=1,uh="firebaseLocalStorage",I1="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uh(r,e){return r.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function zO(){const r=indexedDB.deleteDatabase(R1);return new Xu(r).toPromise()}function Vp(){const r=indexedDB.open(R1,UO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(uh,{keyPath:I1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await zO(),e(await Vp()))})})}async function hT(r,e,t){const a=Uh(r,!0).put({[I1]:e,value:t});return new Xu(a).toPromise()}async function jO(r,e){const t=Uh(r,!1).get(e),a=await new Xu(t).toPromise();return a===void 0?null:a.value}function dT(r,e){const t=Uh(r,!0).delete(e);return new Xu(t).toPromise()}const BO=800,HO=3;class C1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>HO)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(LO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kO(),!this.activeServiceWorker)return;this.sender=new MO(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await hT(e,lh,"1"),await dT(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>hT(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>jO(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new Xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C1.type="LOCAL";const qO=C1;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(r,e){return e?Hi(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends Kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GO(r){return v1(r.auth,new Xg(r),r.bypassAuthState)}function $O(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),bO(t,new Xg(r),r.bypassAuthState)}async function KO(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),TO(t,new Xg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return $O;default:kr(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Ku(2e3,1e4);class zo extends D1{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="pendingRedirect",kf=new Map;class XO extends D1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const a=await WO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(r,e){const t=e4(e),a=JO(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function ZO(r,e){kf.set(r._key(),e)}function JO(r){return Hi(r._redirectPersistence)}function e4(r){return Pf(QO,r.config.apiKey,r.name)}async function t4(r,e,t=!1){if(Jn(r.app))return Promise.reject(Fi(r));const a=$s(r),o=FO(a,e),f=await new XO(a,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class r4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!x1(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(e))}saveEventToCache(e){this.cachedEventUids.add(mT(e)),this.lastProcessedEventTime=Date.now()}}function mT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function x1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(r,e={}){return Wa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await a4(r);for(const t of e)try{if(u4(t))return}catch{}kr(r,"unauthorized-domain")}function u4(r){const e=Mp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===a}if(!o4.test(t))return!1;if(s4.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Ku(3e4,6e4);function pT(){const r=ci().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function f4(r){return new Promise((e,t)=>{var a,o,u;function f(){pT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pT(),t(ui(r,"network-request-failed"))},timeout:c4.get()})}if(!((o=(a=ci().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ci().gapi)===null||u===void 0)&&u.load)f();else{const d=rO("iframefcb");return ci()[d]=()=>{gapi.load?f():t(ui(r,"network-request-failed"))},m1(`${nO()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function h4(r){return Vf=Vf||f4(r),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Ku(5e3,15e3),m4="__/auth/iframe",p4="emulator/auth/iframe",g4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Fg(e,p4):`https://${r.config.authDomain}/${m4}`,a={apiKey:e.apiKey,appName:r.name,v:Bs},o=y4.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Hu(a).slice(1)}`}async function v4(r){const e=await h4(r),t=ci().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:_4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g4,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ui(r,"network-request-failed"),d=ci().setTimeout(()=>{u(f)},d4.get());function m(){ci().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,b4=600,w4="_blank",A4="http://localhost";class gT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S4(r,e,t,a=T4,o=b4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},E4),{width:a.toString(),height:o.toString(),top:u,left:f}),g=An().toLowerCase();t&&(d=o1(g)?w4:t),a1(g)&&(e=e||A4,m.scrollbars="yes");const _=Object.entries(m).reduce((b,[I,N])=>`${b}${I}=${N},`,"");if(KN(g)&&d!=="_self")return R4(e||"",d),new gT(null);const T=window.open(e||"",d,_);Pe(T,r,"popup-blocked");try{T.focus()}catch{}return new gT(T)}function R4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__/auth/handler",C4="emulator/auth/handler",D4=encodeURIComponent("fac");async function yT(r,e,t,a,o,u){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Bs,eventId:o};if(e instanceof y1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",i2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))f[_]=T}if(e instanceof Qu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const d=f;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await r._getAppCheckToken(),g=m?`#${D4}=${encodeURIComponent(m)}`:"";return`${x4(r)}?${Hu(d).slice(1)}${g}`}function x4({config:r}){return r.emulator?Fg(r,C4):`https://${r.authDomain}/${I4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class N4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=t4,this._overrideRedirectResult=ZO}async _openPopup(e,t,a,o){var u;Yi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await yT(e,t,a,Mp(),o);return S4(e,f,Qg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await yT(e,t,a,Mp(),o);return PO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Yi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await v4(e),a=new r4(e);return t.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ap,{type:ap},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ap];f!==void 0&&t(!!f),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return h1()||s1()||$g()}}const O4=N4;var _T="@firebase/auth",vT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k4(r){Ms(new za("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;Pe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:f,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(r)},g=new JN(a,o,u,m);return uO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Ms(new za("auth-internal",e=>{const t=$s(e.getProvider("auth").getImmediate());return(a=>new M4(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(_T,vT,P4(r)),si(_T,vT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=5*60,L4=ub("authIdTokenMaxAge")||V4;let ET=null;const U4=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>L4)return;const o=t==null?void 0:t.token;ET!==o&&(ET=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function z4(r=Zp()){const e=_h(r,"auth");if(e.isInitialized())return e.getImmediate();const t=lO(r,{popupRedirectResolver:O4,persistence:[qO,NO,A1]}),a=ub("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=U4(u.toString());IO(t,f,()=>f(t.currentUser)),RO(t,d=>f(d))}}const o=sb("auth");return o&&cO(t,`http://${o}`),t}function j4(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}eO({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ui("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",j4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k4("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebasestorage.googleapis.com",B4="storageBucket",H4=2*60*1e3,q4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends mi{constructor(e,t,a=0){super(sp(e),`Firebase Storage: ${t} (${sp(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function sp(r){return"storage/"+r}function F4(){const r="An unknown error occurred, please check the error payload for server response.";return new pi(di.UNKNOWN,r)}function G4(){return new pi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $4(){return new pi(di.CANCELED,"User canceled the upload/download.")}function K4(r){return new pi(di.INVALID_URL,"Invalid URL '"+r+"'.")}function Y4(r){return new pi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function TT(r){return new pi(di.INVALID_ARGUMENT,r)}function O1(){return new pi(di.APP_DELETED,"The Firebase app was deleted.")}function Q4(r){return new pi(di.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=Nr.makeFromUrl(e,t)}catch{return new Nr(e,"")}if(a.path==="")return a;throw Y4(e)}static makeFromUrl(e,t){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const f="(/(.*))?$",d=new RegExp("^gs://"+o+f,"i"),m={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",I=new RegExp(`^https?://${T}/${_}/b/${o}/o${b}`,"i"),N={bucket:1,path:3},G=t===N1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",H=new RegExp(`^https?://${G}/${o}/${k}`,"i"),Q=[{regex:d,indices:m,postModify:u},{regex:I,indices:N,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<Q.length;ne++){const se=Q[ne],j=se.regex.exec(e);if(j){const D=j[se.indices.bucket];let S=j[se.indices.path];S||(S=""),a=new Nr(D,S),se.postModify(a);break}}if(a==null)throw K4(e);return a}}class X4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(r,e,t){let a=1,o=null,u=null,f=!1,d=0;function m(){return d===2}let g=!1;function _(...k){g||(g=!0,e.apply(null,k))}function T(k){o=setTimeout(()=>{o=null,r(I,m())},k)}function b(){u&&clearTimeout(u)}function I(k,...H){if(g){b();return}if(k){b(),_.call(null,k,...H);return}if(m()||f){b(),_.call(null,k,...H);return}a<64&&(a*=2);let Q;d===1?(d=2,Q=0):Q=(a+Math.random())*1e3,T(Q)}let N=!1;function G(k){N||(N=!0,b(),!g&&(o!==null?(k||(d=2),clearTimeout(o),T(0)):k||(d=1)))}return T(0),u=setTimeout(()=>{f=!0,G(!0)},t),G}function Z4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){return r!==void 0}function bT(r,e,t,a){if(a<e)throw TT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>t)throw TT(`Invalid value for '${r}'. Expected ${t} or less.`)}function eM(r){const e=encodeURIComponent;let t="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);t=t+o+"&"}return t=t.slice(0,-1),t}var ch;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ch||(ch={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t,a,o,u,f,d,m,g,_,T,b=!0){this.url_=e,this.method_=t,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,N)=>{this.resolve_=I,this.reject_=N,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new wf(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const d=u.getErrorCode()===ch.NO_ERROR,m=u.getStatus();if(!d||tM(m,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ch.ABORT;a(!1,new wf(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;a(!0,new wf(g,u))})},t=(a,o)=>{const u=this.resolve_,f=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());J4(m)?u(m):u()}catch(m){f(m)}else if(d!==null){const m=F4();m.serverResponse=d.getErrorText(),this.errorCallback_?f(this.errorCallback_(d,m)):f(m)}else if(o.canceled){const m=this.appDelete_?O1():$4();f(m)}else{const m=G4();f(m)}};this.canceled_?t(!1,new wf(!1,null,!0)):this.backoffId_=W4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function rM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function iM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function sM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function oM(r,e,t,a,o,u,f=!0){const d=eM(r.urlParams),m=r.url+d,g=Object.assign({},r.headers);return aM(g,e),rM(g,t),iM(g,u),sM(g,a),new nM(m,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function uM(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this._service=e,t instanceof Nr?this._location=t:this._location=Nr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fh(e,t)}get root(){const e=new Nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uM(this._location.path)}get storage(){return this._service}get parent(){const e=lM(this._location.path);if(e===null)return null;const t=new Nr(this._location.bucket,e);return new fh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Q4(e)}}function wT(r,e){const t=e==null?void 0:e[B4];return t==null?null:Nr.makeFromBucketSpec(t,r)}function cM(r,e,t,a={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=a;o&&(r._overrideAuthToken=typeof o=="string"?o:cb(o,r.app.options.projectId))}class fM{constructor(e,t,a,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=N1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H4,this._maxUploadRetryTime=q4,this._requests=new Set,o!=null?this._bucket=Nr.makeFromBucketSpec(o,this._host):this._bucket=wT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,e):this._bucket=wT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fh(this,e)}_makeRequest(e,t,a,o,u=!0){if(this._deleted)return new X4(O1());{const f=oM(e,this._appId,a,o,t,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,t){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,o).getPromise()}}const AT="@firebase/storage",ST="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="storage";function hM(r=Zp(),e){r=mn(r);const a=_h(r,M1).getImmediate({identifier:e}),o=ob("storage");return o&&dM(a,...o),a}function dM(r,e,t,a={}){cM(r,e,t,a)}function mM(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new fM(t,a,o,e,Bs)}function pM(){Ms(new za(M1,mM,"PUBLIC").setMultipleInstances(!0)),si(AT,ST,""),si(AT,ST,"esm2017")}pM();const gM={apiKey:"AIzaSyDnq3fMnKnqZm6b1S-wl6uthreukpSRybE",authDomain:"reactlinks-24218.firebaseapp.com",projectId:"reactlinks-24218",storageBucket:"reactlinks-24218.appspot.com",messagingSenderId:"40121881829",appId:"1:40121881829:web:f1f6c8654452763a7ab00c"},Wg=db(gM),dn=z4(Wg),zn=hN(Wg);hM(Wg);const Zg="/semfoto.jpg";function yM(){var f;const[r,e]=U.useState([]),[t,a]=U.useState(),[o,u]=U.useState();return U.useEffect(()=>{const d=Au(dn,m=>{if(m){const g=nh(zn,"links"),_=Pg(g,kg("userId","==",m.uid),Ug("created","asc"));Qw(_).then(T=>{let b=[];T.forEach(I=>{b.push({id:I.id,name:I.data().name,url:I.data().url,color:I.data().color,bg:I.data().bg})}),e(b)}).catch(T=>{console.error("Erro ao buscar links:",T)})}});return()=>d()},[]),U.useEffect(()=>{const d=Au(dn,async m=>{if(m)try{const g=Pr(zn,"users",m.uid,"social","link"),_=await Jo(g);_.exists()?a({facebook:_.data().facebook??"",instagram:_.data().instagram??"",youtube:_.data().youtube??""}):console.log("Documento de redes sociais não encontrado.")}catch(g){console.error("Erro ao carregar redes sociais:",g)}});return()=>d()},[]),U.useEffect(()=>{const d=Au(dn,async m=>{var g;if(m)try{const _=Pr(zn,"users",m.uid,"info","profile"),T=await Jo(_);T.exists()?u({id:m.uid,name:T.data().name??"",image:((g=T.data())==null?void 0:g.image)??""}):console.log("Documento de informações do usuário não encontrado.")}catch(_){console.error("Erro ao carregar informações do usuário:",_)}});return()=>d()},[]),te.jsxs("div",{className:"flex flex-col w-full items-center justify-center",children:[te.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mt-10 border-2 border-white",children:te.jsx("img",{src:(o==null?void 0:o.image)||Zg,alt:"Foto de perfil",className:"w-full h-full object-cover"})}),te.jsx("h1",{className:"md:text-4xl text-3xl font-bold text-white mt-20",children:(o==null?void 0:o.name)||"visitante"}),((f=dn.currentUser)==null?void 0:f.uid)&&te.jsx(Er,{to:"/admin",className:"fixed top-4 right-4 bg-green-500/50 hover:bg-green-500 py-1 px-4 rounded-md z-50",children:"Perfil"}),te.jsx("span",{className:"text-gray-50 mb-5 mt-3",children:"Veja meus links 👇"}),te.jsxs("main",{className:"flex flex-col w-11/12 max-w-xl text-center",children:[r.map(d=>te.jsx("section",{style:{backgroundColor:d.bg,color:d.color},className:"bg-white mb-4 w-full py-2 rounded-lg select-none transition-transform hover:scale-105 cursor-pointer",children:te.jsx("a",{href:d.url,target:"_blank",className:"flex flex-col items-center",children:te.jsx("p",{className:"text-base md:text-lg",children:d.name})})},d.id)),t&&te.jsxs("footer",{className:"flex justify-center gap-3 my-4",children:[t.facebook&&te.jsx(Bo,{url:t==null?void 0:t.facebook,children:te.jsx(eb,{size:35,color:"#fff",className:"transition-transform duration-300 hover:rotate-[15deg]"})}),t.youtube&&te.jsx(Bo,{url:t==null?void 0:t.youtube,children:te.jsx(nb,{size:35,color:"#fff",className:"transition-transform duration-300 hover:rotate-[15deg]"})}),t.instagram&&te.jsx(Bo,{url:t==null?void 0:t.instagram,children:te.jsx(tb,{size:35,color:"#fff",className:"transition-transform duration-300 hover:rotate-[15deg]"})})]})]})]})}function fi(r){return te.jsx("input",{className:"border-0 h-9 rounded-md outline-none px-2 mb-3",...r})}function _M(){const[r,e]=U.useState(""),[t,a]=U.useState(""),[o,u]=U.useState(!1),f=ph();function d(m){if(u(!0),m.preventDefault(),r===""||t===""){alert("Preencha os campos");return}SO(dn,r,t).then(()=>{console.log("logado com sucesso"),f("/admin",{replace:!0}),u(!1)}).catch(g=>{console.log("erro de login"),console.log(g)})}return te.jsxs("div",{className:"flex w-full h-screen items-center justify-center flex-col",children:[te.jsx(Er,{to:"/",children:te.jsxs("h1",{className:"mt-11 text-white mb-7 font-bold text-5xl",children:["Dev",te.jsx("span",{className:" bg-gradient-to-r from-yellow-500 to-orange-400 bg-clip-text text-transparent",children:"Link"})]})}),te.jsxs("form",{onSubmit:d,className:"w-full max-w-xl flex flex-col px-3",children:[te.jsx(fi,{placeholder:"Digite seu e-mail...",type:"email",value:r,onChange:m=>e(m.target.value)}),te.jsx(fi,{placeholder:"*********",type:"password",value:t,onChange:m=>a(m.target.value)}),o?te.jsx("div",{className:"h-9 bg-blue-600 rounded justify-center items-center flex border-0 text-lg font-medium text-white",children:te.jsx(ju,{className:"animate-spin"})}):te.jsx("button",{type:"submit",className:"h-9 bg-blue-600 hover:bg-blue-700 rounded border-0 text-lg font-medium text-white",children:"Acessar"}),te.jsx(Er,{to:"/register",className:"text-white mt-3 hover:underline",children:"nao possui uma conta?"})]})]})}function vM(r){return js({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(r)}function P1(){async function r(){await CO(dn)}return te.jsx("header",{className:"w-full max-w-2xl mt-4 px-1",children:te.jsxs("nav",{className:"w-full bg-white h-12 flex items-center justify-between rounded-md px-3",children:[te.jsxs("div",{className:"flex gap-4 font-medium",children:[te.jsx(Er,{to:"/home",className:"bg-gray-50/20 hover:scale-110",children:"Home"}),te.jsx(Er,{to:"/admin",className:"bg-gray-50/20 hover:scale-110",children:"Links"}),te.jsx(Er,{to:"/admin/social",className:"bg-gray-50/20 hover:scale-110",children:"Redes sociais"})]}),te.jsx("button",{onClick:r,children:te.jsx(vM,{size:28,color:"#db2629"})})]})})}function EM(r){return js({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(r)}function TM({uid:r,img:e}){const[t,a]=U.useState(e),[o,u]=U.useState(!1);function f(m){return new Promise((g,_)=>{const T=new FileReader;T.readAsDataURL(m),T.onload=()=>g(T.result),T.onerror=b=>_(b)})}U.useEffect(()=>{(async()=>{var b;const g=(b=dn.currentUser)==null?void 0:b.uid;if(!g)return;const _=Pr(zn,"users",g,"info","profile"),T=await Jo(_);if(T.exists()){const I=T.data();I&&I.image&&a(I.image)}})()},[r]);async function d(m){var _;const g=(_=dn.currentUser)==null?void 0:_.uid;if(g&&m.target.files&&m.target.files[0]){u(!0);const T=m.target.files[0];if(T.type!=="image/jpeg"&&T.type!=="image/png"){alert("Formato não suportado"),u(!1);return}try{const b=await f(T),I=Pr(zn,"users",g,"info","profile");await jg(I,{image:b},{merge:!0}),a(b),alert("Imagem enviada com sucesso!")}catch(b){console.error("Erro ao converter ou salvar a imagem",b),alert("Erro ao enviar a imagem")}u(!1)}}return te.jsxs("div",{className:"relative w-40 h-40 rounded-full overflow-hidden group mt-10",children:[te.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-100 transition-opacity hover:scale-110",children:[te.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer z-10",onChange:d}),o?te.jsx(ju,{size:30,className:"animate-spin"}):te.jsx(F0,{className:"text-white text-4xl z-50 pointer-events-none"})]}),t?te.jsx("img",{id:r,src:t,alt:"Imagem de perfil",className:"w-full h-full object-cover"}):te.jsx("div",{className:"w-full h-full flex justify-center items-center",children:te.jsx(F0,{size:30})})]})}function k1(r){var e,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=k1(r[e]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function Ns(){for(var r,e,t=0,a="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=k1(r))&&(a&&(a+=" "),a+=e);return a}function bM(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}bM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Wu=r=>typeof r=="number"&&!isNaN(r),Us=r=>typeof r=="string",Qi=r=>typeof r=="function",wM=r=>Us(r)||Wu(r),Lp=r=>Us(r)||Qi(r)?r:null,AM=(r,e)=>r===!1||Wu(r)&&r>0?r:e,Up=r=>U.isValidElement(r)||Us(r)||Qi(r)||Wu(r);function SM(r,e,t=300){let{scrollHeight:a,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function RM({enter:r,exit:e,appendPosition:t=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:d,done:m,nodeRef:g,isIn:_,playToast:T}){let b=t?`${r}--${f}`:r,I=t?`${e}--${f}`:e,N=U.useRef(0);return U.useLayoutEffect(()=>{let G=g.current,k=b.split(" "),H=z=>{z.target===g.current&&(T(),G.removeEventListener("animationend",H),G.removeEventListener("animationcancel",H),N.current===0&&z.type!=="animationcancel"&&G.classList.remove(...k))};G.classList.add(...k),G.addEventListener("animationend",H),G.addEventListener("animationcancel",H)},[]),U.useEffect(()=>{let G=g.current,k=()=>{G.removeEventListener("animationend",k),a?SM(G,m,o):m()};_||(d?k():(N.current=1,G.className+=` ${I}`,G.addEventListener("animationend",k)))},[_]),ct.createElement(ct.Fragment,null,u)}}function RT(r,e){return{content:V1(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function V1(r,e,t=!1){return U.isValidElement(r)&&!Us(r.type)?U.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Qi(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function IM({closeToast:r,theme:e,ariaLabel:t="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:a=>{a.stopPropagation(),r(!0)},"aria-label":t},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CM({delay:r,isRunning:e,closeToast:t,type:a="default",hide:o,className:u,controlledProgress:f,progress:d,rtl:m,isIn:g,theme:_}){let T=o||f&&d===0,b={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};f&&(b.transform=`scaleX(${d})`);let I=Ns("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":m}),N=Qi(u)?u({rtl:m,type:a,defaultClassName:I}):Ns(I,u),G={[f&&d>=1?"onTransitionEnd":"onAnimationEnd"]:f&&d<1?null:()=>{g&&t()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${a}`}),ct.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:N,style:b,...G}))}var DM=1,L1=()=>`${DM++}`;function xM(r,e,t){let a=1,o=0,u=[],f=[],d=e,m=new Map,g=new Set,_=z=>(g.add(z),()=>g.delete(z)),T=()=>{f=Array.from(m.values()),g.forEach(z=>z())},b=({containerId:z,toastId:Q,updateId:ne})=>{let se=z?z!==r:r!==1,j=m.has(Q)&&ne==null;return se||j},I=(z,Q)=>{m.forEach(ne=>{var se;(Q==null||Q===ne.props.toastId)&&((se=ne.toggle)==null||se.call(ne,z))})},N=z=>{var Q,ne;(ne=(Q=z.props)==null?void 0:Q.onClose)==null||ne.call(Q,z.removalReason),z.isActive=!1},G=z=>{if(z==null)m.forEach(N);else{let Q=m.get(z);Q&&N(Q)}T()},k=()=>{o-=u.length,u=[]},H=z=>{var Q,ne;let{toastId:se,updateId:j}=z.props,D=j==null;z.staleId&&m.delete(z.staleId),z.isActive=!0,m.set(se,z),T(),t(RT(z,D?"added":"updated")),D&&((ne=(Q=z.props).onOpen)==null||ne.call(Q))};return{id:r,props:d,observe:_,toggle:I,removeToast:G,toasts:m,clearQueue:k,buildToast:(z,Q)=>{if(b(Q))return;let{toastId:ne,updateId:se,data:j,staleId:D,delay:S}=Q,R=se==null;R&&o++;let M={...d,style:d.toastStyle,key:a++,...Object.fromEntries(Object.entries(Q).filter(([B,C])=>C!=null)),toastId:ne,updateId:se,data:j,isIn:!1,className:Lp(Q.className||d.toastClassName),progressClassName:Lp(Q.progressClassName||d.progressClassName),autoClose:Q.isLoading?!1:AM(Q.autoClose,d.autoClose),closeToast(B){m.get(ne).removalReason=B,G(ne)},deleteToast(){let B=m.get(ne);if(B!=null){if(t(RT(B,"removed")),m.delete(ne),o--,o<0&&(o=0),u.length>0){H(u.shift());return}T()}}};M.closeButton=d.closeButton,Q.closeButton===!1||Up(Q.closeButton)?M.closeButton=Q.closeButton:Q.closeButton===!0&&(M.closeButton=Up(d.closeButton)?d.closeButton:!0);let V={content:z,props:M,staleId:D};d.limit&&d.limit>0&&o>d.limit&&R?u.push(V):Wu(S)?setTimeout(()=>{H(V)},S):H(V)},setProps(z){d=z},setToggle:(z,Q)=>{let ne=m.get(z);ne&&(ne.toggle=Q)},isToastActive:z=>{var Q;return(Q=m.get(z))==null?void 0:Q.isActive},getSnapshot:()=>f}}var On=new Map,Lu=[],zp=new Set,NM=r=>zp.forEach(e=>e(r)),U1=()=>On.size>0;function OM(){Lu.forEach(r=>j1(r.content,r.options)),Lu=[]}var MM=(r,{containerId:e})=>{var t;return(t=On.get(e||1))==null?void 0:t.toasts.get(r)};function z1(r,e){var t;if(e)return!!((t=On.get(e))!=null&&t.isToastActive(r));let a=!1;return On.forEach(o=>{o.isToastActive(r)&&(a=!0)}),a}function PM(r){if(!U1()){Lu=Lu.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||wM(r))On.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=On.get(r.containerId);e?e.removeToast(r.id):On.forEach(t=>{t.removeToast(r.id)})}}var kM=(r={})=>{On.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function j1(r,e){Up(r)&&(U1()||Lu.push({content:r,options:e}),On.forEach(t=>{t.buildToast(r,e)}))}function VM(r){var e;(e=On.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function B1(r,e){On.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function LM(r){let e=r.containerId||1;return{subscribe(t){let a=xM(e,r,NM);On.set(e,a);let o=a.observe(t);return OM(),()=>{o(),On.delete(e)}},setProps(t){var a;(a=On.get(e))==null||a.setProps(t)},getSnapshot(){var t;return(t=On.get(e))==null?void 0:t.getSnapshot()}}}function UM(r){return zp.add(r),()=>{zp.delete(r)}}function zM(r){return r&&(Us(r.toastId)||Wu(r.toastId))?r.toastId:L1()}function Zu(r,e){return j1(r,e),e.toastId}function zh(r,e){return{...e,type:e&&e.type||r,toastId:zM(e)}}function jh(r){return(e,t)=>Zu(e,zh(r,t))}function ot(r,e){return Zu(r,zh("default",e))}ot.loading=(r,e)=>Zu(r,zh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function jM(r,{pending:e,error:t,success:a},o){let u;e&&(u=Us(e)?ot.loading(e,o):ot.loading(e.render,{...o,...e}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,T)=>{if(_==null){ot.dismiss(u);return}let b={type:g,...f,...o,data:T},I=Us(_)?{render:_}:_;return u?ot.update(u,{...b,...I}):ot(I.render,{...b,...I}),T},m=Qi(r)?r():r;return m.then(g=>d("success",a,g)).catch(g=>d("error",t,g)),m}ot.promise=jM;ot.success=jh("success");ot.info=jh("info");ot.error=jh("error");ot.warning=jh("warning");ot.warn=ot.warning;ot.dark=(r,e)=>Zu(r,zh("default",{theme:"dark",...e}));function BM(r){PM(r)}ot.dismiss=BM;ot.clearWaitingQueue=kM;ot.isActive=z1;ot.update=(r,e={})=>{let t=MM(r,e);if(t){let{props:a,content:o}=t,u={delay:100,...a,...e,toastId:e.toastId||r,updateId:L1()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,Zu(f,u)}};ot.done=r=>{ot.update(r,{progress:1})};ot.onChange=UM;ot.play=r=>B1(!0,r);ot.pause=r=>B1(!1,r);function HM(r){var e;let{subscribe:t,getSnapshot:a,setProps:o}=U.useRef(LM(r)).current;o(r);let u=(e=U.useSyncExternalStore(t,a,a))==null?void 0:e.slice();function f(d){if(!u)return[];let m=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:_}=g.props;m.has(_)||m.set(_,[]),m.get(_).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:f,isToastActive:z1,count:u==null?void 0:u.length}}function qM(r){let[e,t]=U.useState(!1),[a,o]=U.useState(!1),u=U.useRef(null),f=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:_,closeOnClick:T}=r;VM({id:r.toastId,containerId:r.containerId,fn:t}),U.useEffect(()=>{if(r.pauseOnFocusLoss)return b(),()=>{I()}},[r.pauseOnFocusLoss]);function b(){document.hasFocus()||H(),window.addEventListener("focus",k),window.addEventListener("blur",H)}function I(){window.removeEventListener("focus",k),window.removeEventListener("blur",H)}function N(D){if(r.draggable===!0||r.draggable===D.pointerType){z();let S=u.current;f.canCloseOnClick=!0,f.canDrag=!0,S.style.transition="none",r.draggableDirection==="x"?(f.start=D.clientX,f.removalDistance=S.offsetWidth*(r.draggablePercent/100)):(f.start=D.clientY,f.removalDistance=S.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function G(D){let{top:S,bottom:R,left:M,right:V}=u.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&r.pauseOnHover&&D.clientX>=M&&D.clientX<=V&&D.clientY>=S&&D.clientY<=R?H():k()}function k(){t(!0)}function H(){t(!1)}function z(){f.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",se)}function Q(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",se)}function ne(D){let S=u.current;if(f.canDrag&&S){f.didMove=!0,e&&H(),r.draggableDirection==="x"?f.delta=D.clientX-f.start:f.delta=D.clientY-f.start,f.start!==D.clientX&&(f.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function se(){Q();let D=u.current;if(f.canDrag&&f.didMove&&D){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let j={onPointerDown:N,onPointerUp:G};return d&&m&&(j.onMouseEnter=H,r.stacked||(j.onMouseLeave=k)),T&&(j.onClick=D=>{_&&_(D),f.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:H,isRunning:e,preventExitTransition:a,toastRef:u,eventHandlers:j}}var FM=typeof window<"u"?U.useLayoutEffect:U.useEffect,Bh=({theme:r,type:e,isLoading:t,...a})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...a});function GM(r){return ct.createElement(Bh,{...r},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function $M(r){return ct.createElement(Bh,{...r},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function KM(r){return ct.createElement(Bh,{...r},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function YM(r){return ct.createElement(Bh,{...r},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function QM(){return ct.createElement("div",{className:"Toastify__spinner"})}var jp={info:$M,warning:GM,success:KM,error:YM,spinner:QM},XM=r=>r in jp;function WM({theme:r,type:e,isLoading:t,icon:a}){let o=null,u={theme:r,type:e};return a===!1||(Qi(a)?o=a({...u,isLoading:t}):U.isValidElement(a)?o=U.cloneElement(a,u):t?o=jp.spinner():XM(e)&&(o=jp[e](u))),o}var ZM=r=>{let{isRunning:e,preventExitTransition:t,toastRef:a,eventHandlers:o,playToast:u}=qM(r),{closeButton:f,children:d,autoClose:m,onClick:g,type:_,hideProgressBar:T,closeToast:b,transition:I,position:N,className:G,style:k,progressClassName:H,updateId:z,role:Q,progress:ne,rtl:se,toastId:j,deleteToast:D,isIn:S,isLoading:R,closeOnClick:M,theme:V,ariaLabel:B}=r,C=Ns("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":M}),Be=Qi(G)?G({rtl:se,position:N,type:_,defaultClassName:C}):Ns(C,G),Fe=WM(r),W=!!ne||!m,he={closeToast:b,type:_,theme:V},ge=null;return f===!1||(Qi(f)?ge=f(he):U.isValidElement(f)?ge=U.cloneElement(f,he):ge=IM(he)),ct.createElement(I,{isIn:S,done:D,position:N,preventExitTransition:t,nodeRef:a,playToast:u},ct.createElement("div",{id:j,tabIndex:0,onClick:g,"data-in":S,className:Be,...o,style:k,ref:a,...S&&{role:Q,"aria-label":B}},Fe!=null&&ct.createElement("div",{className:Ns("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Fe),V1(d,r,!e),ge,!r.customProgressBar&&ct.createElement(CM,{...z&&!W?{key:`p-${z}`}:{},rtl:se,theme:V,delay:m,isRunning:e,isIn:S,closeToast:b,hide:T,type:_,className:H,controlledProgress:W,progress:ne||0})))},JM=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),eP=RM(JM("bounce",!0)),tP={position:"top-right",transition:eP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function nP(r){let e={...tP,...r},t=r.stacked,[a,o]=U.useState(!0),u=U.useRef(null),{getToastToRender:f,isToastActive:d,count:m}=HM(e),{className:g,style:_,rtl:T,containerId:b,hotKeys:I}=e;function N(k){let H=Ns("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":T});return Qi(g)?g({position:k,rtl:T,defaultClassName:H}):Ns(H,Lp(g))}function G(){t&&(o(!0),ot.play())}return FM(()=>{var k;if(t){let H=u.current.querySelectorAll('[data-in="true"]'),z=12,Q=(k=e.position)==null?void 0:k.includes("top"),ne=0,se=0;Array.from(H).reverse().forEach((j,D)=>{let S=j;S.classList.add("Toastify__toast--stacked"),D>0&&(S.dataset.collapsed=`${a}`),S.dataset.pos||(S.dataset.pos=Q?"top":"bot");let R=ne*(a?.2:1)+(a?0:z*D);S.style.setProperty("--y",`${Q?R:R*-1}px`),S.style.setProperty("--g",`${z}`),S.style.setProperty("--s",`${1-(a?se:0)}`),ne+=S.offsetHeight,se+=.025})}},[a,m,t]),U.useEffect(()=>{function k(H){var z;let Q=u.current;I(H)&&((z=Q.querySelector('[tabIndex="0"]'))==null||z.focus(),o(!1),ot.pause()),H.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(o(!0),ot.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[I]),ct.createElement("section",{ref:u,className:"Toastify",id:b,onMouseEnter:()=>{t&&(o(!1),ot.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},f((k,H)=>{let z=H.length?{..._}:{..._,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:N(k),"data-stacked":t,style:z,key:`c-${k}`},H.map(({content:Q,props:ne})=>ct.createElement(ZM,{...ne,stacked:t,collapseAll:G,isIn:d(ne.toastId,ne.containerId),key:`t-${ne.key}`},Q)))}))}function rP(){var H;const[r,e]=U.useState(!1),[t,a]=U.useState(""),[o,u]=U.useState(""),[f,d]=U.useState("#f1f1f1"),[m,g]=U.useState("#121212"),[_,T]=U.useState([]),[b,I]=U.useState("");U.useEffect(()=>{var j;const z=(j=dn.currentUser)==null?void 0:j.uid;if(!z)return;const Q=nh(zn,"links"),ne=Pg(Q,kg("userId","==",z),Ug("created","asc")),se=RN(ne,D=>{let S=[];D.forEach(R=>{S.push({id:R.id,name:R.data().name,url:R.data().url,color:R.data().color,bg:R.data().bg})}),T(S)});return()=>{se()}},[]);function N(z){var ne,se;if(z.preventDefault(),e(!0),t===""||o===""){ot.warn("Preencha os campos"),e(!1);return}if(!((ne=dn.currentUser)==null?void 0:ne.uid)){alert("Usuário não autenticado.");return}SN(nh(zn,"links"),{name:t,url:o,color:f,bg:m,created:new Date,userId:(se=dn.currentUser)==null?void 0:se.uid}).then(()=>{a(""),u(""),d("#f1f1f1"),g("#121212"),e(!1),ot.success("Link cadastrado com sucesso!")}).catch(j=>{console.log("deu erro",j)})}async function G(){var Q;if(b.trim()===""){ot.warn("Preencha o campo");return}const z=(Q=dn.currentUser)==null?void 0:Q.uid;if(!z){alert("Usuário não autenticado.");return}try{await jg(Pr(zn,"users",z,"info","profile"),{name:b.trim()},{merge:!0}),console.log("Nome do usuário salvo com sucesso!")}catch(ne){console.error("Erro ao salvar o nome do usuário:",ne)}ot.success("Nome do usuário salvo com sucesso!"),I("")}async function k(z){const Q=Pr(zn,"links",z);await AN(Q),ot.success("Link excluido com sucesso!")}return te.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 px-2",children:[te.jsx(P1,{}),te.jsx("h1",{className:"text-white font-bold text-2xl mb-10 mt-5",children:"Dados pessoais"}),te.jsx("button",{children:te.jsx(Er,{to:`/u/${(H=dn.currentUser)==null?void 0:H.uid}`,target:"_blank",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 mt-1 px-4 rounded",children:"Link pubilco"})}),te.jsxs("div",{className:"flex flex-col justify-center items-center",children:[te.jsx(TM,{uid:"image",img:Zg}),te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Seu Nome"}),te.jsx(fi,{type:"text",placeholder:"Digite o nome do usuário...",value:b,onChange:z=>I(z.target.value)})]}),te.jsx("button",{onClick:G,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-3",children:"Salvar"}),te.jsxs("form",{className:"flex flex-col mt-8 mb-3 w-full max-w-xl",onSubmit:N,children:[te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Nome do link"}),te.jsx(fi,{placeholder:"Digite o nome do link...",value:t,onChange:z=>a(z.target.value)}),te.jsx(fi,{type:"url",placeholder:"URL do link...",value:o,onChange:z=>u(z.target.value)}),te.jsxs("section",{className:"flex my-4 gap-5",children:[te.jsxs("div",{className:"flex gap-2",children:[te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Cor do link"}),te.jsx("input",{type:"color",value:f,onChange:z=>d(z.target.value)})]}),te.jsxs("div",{className:"flex gap-2",children:[te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Fundo do link"}),te.jsx("input",{type:"color",value:m,onChange:z=>g(z.target.value)})]})]}),t!==""&&te.jsxs("div",{className:"flex items-center justify-start flex-col mb-7 p-1 border-gray-100/25 border rounded-md",children:[te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Veja como ficaria"}),te.jsx("article",{className:"w-11/12 max-w-lg flex flex-col items-center justify-between bg-zinc-900 rounded px-1 py-2",style:{marginBottom:8,marginTop:8,backgroundColor:m},children:te.jsx("p",{className:"font-medium",style:{color:f},children:t})})]}),r?te.jsx("div",{className:"h-9 bg-blue-600 rounded justify-center items-center flex border-0 text-lg font-medium text-white",children:te.jsx(ju,{className:"animate-spin"})}):te.jsx("button",{type:"submit",className:"mb-7 bg-blue-600 h-9 rounded-md text-white font-medium gap-4 flex justify-center items-center",children:"Cadastrar"})]}),te.jsx("h2",{className:"font-bold text-white mb-4 text-2xl",children:"Links cadastrados"}),_.map(z=>te.jsxs("article",{className:"flex items-center justify-between w-11/12 max-w-xl rounded py-3 px-2 mb-2 select-none",style:{backgroundColor:z.bg,color:z.color},children:[te.jsx("p",{children:z.name}),te.jsx("div",{children:te.jsx("button",{className:"border border-dashed p-1 rounded bg-neutral-900",onClick:()=>k(z.id),children:te.jsx(EM,{size:18,color:"#fff"})})})]},z.id))]})}function iP(){const[r,e]=U.useState(!1),[t,a]=U.useState(""),[o,u]=U.useState(""),[f,d]=U.useState("");function m(g){var T;e(!0),g.preventDefault();const _=(T=dn.currentUser)==null?void 0:T.uid;_&&jg(Pr(zn,"users",_,"social","link"),{facebook:t,instagram:o,youtube:f}).then(()=>{ot.success("Redes sociais cadastradas com sucesso!"),e(!1)}).catch(b=>{console.log("deu erro",b)})}return U.useEffect(()=>{const g=Au(dn,async _=>{if(_)try{const T=Pr(zn,"users",_.uid,"social","link"),b=await Jo(T);if(b.exists()){const I=b.data();a(I.facebook??""),u(I.instagram??""),d(I.youtube??"")}else console.log("Nenhuma rede social cadastrada ainda.")}catch(T){console.log("Erro ao buscar redes sociais:",T)}});return()=>g()},[]),te.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 px-2",children:[te.jsx(P1,{}),te.jsx("h1",{className:"text-white text-2xl font-medium mt-8 mb-4",children:"Minhas Redes Sociais"}),te.jsxs("form",{onSubmit:m,className:"flex flex-col max-w-xl w-full",children:[te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do facebook"}),te.jsx(fi,{type:"url",placeholder:"Digite a url do facebook...",value:t,onChange:g=>a(g.target.value)}),te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do instagram"}),te.jsx(fi,{type:"url",placeholder:"Digite a url do instagram...",value:o,onChange:g=>u(g.target.value)}),te.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do youtube"}),te.jsx(fi,{type:"url",placeholder:"Digite a url do youtube...",value:f,onChange:g=>d(g.target.value)}),r?te.jsx("div",{className:"h-9 bg-blue-600 rounded justify-center items-center flex border-0 text-lg font-medium text-white",children:te.jsx(ju,{className:"animate-spin"})}):te.jsx("button",{type:"submit",className:"text-white bg-blue-600 h-9 rounded-md items-center justify-center flex mb-7 font-medium",children:"Salvar links"})]})]})}function aP(){return te.jsxs("div",{className:"flex w-full min-h-screen justify-center items-center flex-col text-white",children:[te.jsx("h1",{className:"font-bold text-9xl mb-4",children:"404"}),te.jsx("h1",{className:"font-bold text-4xl mb-4",children:"Página não encontrada"}),te.jsx("p",{className:"italic text-1xl mb-4",children:"Você caiu em uma página que não existe"}),te.jsx(Er,{className:"bg-gray-50/20 py-1 px-4 rounded-md",to:"/",children:"Voltar para a Home"})]})}function IT({children:r}){const[e,t]=U.useState(!0),[a,o]=U.useState(!1);return U.useEffect(()=>{const u=Au(dn,f=>{if(f){const d={uid:f==null?void 0:f.uid,email:f==null?void 0:f.email};localStorage.setItem("@reactlinks",JSON.stringify(d)),t(!1),o(!0)}else t(!1),o(!1)});return()=>{u()}},[]),e?te.jsx("div",{children:"Carregando..."}):a?r:te.jsx(GR,{to:"/"})}function sP(){const[r,e]=U.useState(""),[t,a]=U.useState(""),[o,u]=U.useState(!1),f=ph();function d(m){if(u(!0),m.preventDefault(),r===""||t===""){alert("Preencha os campos");return}AO(dn,r,t).then(()=>{console.log("logado com sucesso"),f("/admin",{replace:!0}),u(!1)}).catch(g=>{console.log("erro de login"),console.log(g)})}return te.jsxs("div",{className:"flex w-full h-screen items-center justify-center flex-col",children:[te.jsx(Er,{to:"/",children:te.jsxs("h1",{className:"mt-11 text-white mb-7 font-bold text-5xl",children:["Dev",te.jsx("span",{className:" bg-gradient-to-r from-yellow-500 to-orange-400 bg-clip-text text-transparent",children:"Link"})]})}),te.jsx("h1",{className:"font-bold text-3xl mb-4 text-white",children:"Cadastre-se"}),te.jsxs("form",{onSubmit:d,className:"w-full max-w-xl flex flex-col px-3",children:[te.jsx(fi,{placeholder:"Digite seu e-mail...",type:"email",value:r,onChange:m=>e(m.target.value)}),te.jsx(fi,{placeholder:"*********",type:"password",value:t,onChange:m=>a(m.target.value)}),o?te.jsx("div",{className:"h-9 bg-blue-600 rounded justify-center items-center flex border-0 text-lg font-medium text-white",children:te.jsx(ju,{className:"animate-spin"})}):te.jsx("button",{type:"submit",className:"h-9 bg-blue-600 rounded border-0 text-lg font-medium text-white",children:"Criar conta"}),te.jsx(Er,{to:"/",className:"text-white mt-3 hover:underline",children:"Ja possui uma conta?"})]})]})}function oP(){const{userId:r}=RR(),[e,t]=U.useState(null),[a,o]=U.useState([]),[u,f]=U.useState(null);return U.useEffect(()=>{if(!r)return;async function d(){const m=Pr(zn,"users",r??"","info","profile"),g=await Jo(m);g.exists()&&t({name:g.data().name??"Sem nome",image:g.data().image??""})}d()},[r]),U.useEffect(()=>{if(!r)return;async function d(){const m=nh(zn,"links"),g=Pg(m,kg("userId","==",r),Ug("created","asc")),_=await Qw(g),T=[];_.forEach(b=>{T.push({id:b.id,name:b.data().name,url:b.data().url,color:b.data().color,bg:b.data().bg})}),o(T)}d()},[r]),U.useEffect(()=>{if(!r)return;async function d(){const m=Pr(zn,"users",r??"","social","link"),g=await Jo(m);g.exists()&&f({facebook:g.data().facebook??"",instagram:g.data().instagram??"",youtube:g.data().youtube??""})}d()},[r]),te.jsxs("div",{className:"flex flex-col w-full items-center justify-center",children:[te.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mt-10 border-2 border-white",children:te.jsx("img",{src:(e==null?void 0:e.image)||Zg,alt:"Foto de perfil",className:"w-full h-full object-cover"})}),te.jsx("h1",{className:"text-white text-3xl font-bold mt-4",children:(e==null?void 0:e.name)||"Usuário"}),te.jsx("span",{className:"text-gray-300 mt-2 mb-4",children:"Meus links 👇"}),te.jsxs("main",{className:"w-11/12 max-w-xl flex flex-col items-center",children:[a.map(d=>te.jsx("a",{href:d.url,target:"_blank",rel:"noreferrer",className:"w-full py-3 my-2 rounded-md text-center font-medium transition-transform hover:scale-105",style:{backgroundColor:d.bg,color:d.color},children:d.name},d.id)),u&&te.jsxs("div",{className:"flex gap-4 mt-6",children:[u.facebook&&te.jsx(Bo,{url:u.facebook,children:te.jsx(eb,{size:30,color:"#fff",className:"transition-transform duration-300 hover:rotate-[15deg]"})}),u.instagram&&te.jsx(Bo,{url:u.instagram,children:te.jsx(tb,{size:30,color:"#fff",className:"transition-transform duration-300 hover:rotate-[15deg]"})}),u.youtube&&te.jsx(Bo,{url:u.youtube,children:te.jsx(nb,{size:30,color:"#fff",className:"transition-transform duration-300 hover:rotate-[15deg]"})})]})]})]})}const lP=gI([{path:"/home",element:te.jsx(yM,{})},{path:"/register",element:te.jsx(sP,{})},{path:"/",element:te.jsx(_M,{})},{path:"/admin",element:te.jsx(IT,{children:te.jsx(rP,{})})},{path:"/admin/social",element:te.jsx(IT,{children:te.jsx(iP,{})})},{path:"/u/:userId",element:te.jsx(oP,{})},{path:"*",element:te.jsx(aP,{})}]);TS.createRoot(document.getElementById("root")).render(te.jsxs(U.StrictMode,{children:[te.jsx(DI,{router:lP}),te.jsx(nP,{})]}));
